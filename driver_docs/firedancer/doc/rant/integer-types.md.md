<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Discussion on defining custom integer types in Firedancer instead of using `stdint.h`, focusing on developer expectations and platform behavior.

# Purpose
This document provides a rationale for defining custom integer types instead of using the standard `stdint.h` in a software codebase. It explains that while `stdint.h` offers lexical regularity and type aliases, it is not integrated into the core language and can lead to issues with format strings and implicit conversions. The document argues that developers often behave as though standard integer types like `int` are equivalent to `int32_t`, which can lead to errors and inefficiencies. The approach taken by the codebase is to ensure that integer types behave as developers expect, rejecting platforms that do not conform to these expectations. This reduces code complexity, minimizes bugs, and simplifies debugging and logging. The document concludes that while `stdint.h` can be useful for readability, it is unnecessary if the environment guarantees equivalence between custom and standard types.
# Content Summary
The provided content is a discussion about the rationale for defining custom integer types instead of using the standard `stdint.h` in a software project. The author, identified as "kbowers," explains that while `stdint.h` provides standardized integer types, it was introduced late in the development of C/C++ and is not integrated into the core language. This results in additional complexity, such as the need for extra includes and issues with format strings.

The author argues that developers often assume equivalence between types like `int` and `int32_t`, which can lead to errors. The author suggests that if the language had started with something similar to `stdint.h`, it would have been more beneficial. However, given the current state of developer practices and legacy issues, the project adopts a "principle of least surprise" approach. This approach ensures that integer types behave as developers expect, rejecting platforms that do not conform to these expectations.

The author shares personal experiences of dealing with code that improperly uses format specifiers, leading to difficult-to-diagnose bugs. Despite initially advocating for the use of `stdint.h`, the author found it impractical to enforce its use due to the friction it causes in development and testing. The author concludes that the project should guarantee that core types behave predictably and avoid the complexities introduced by `stdint.h`, while still allowing its use if it provides readability benefits without compromising type safety.

---
Made with ❤️ by [Driver](https://www.driver.ai/)