<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Documentation of the build system and source code management for Firedancer, focusing on simplicity and robustness.

# Purpose
The document describes the build system and source code management for the Firedancer project. It emphasizes building Firedancer from source on GNU/Linux distributions, focusing on simplicity and robustness. The build process involves transforming C/C++ and assembly source code into static objects, libraries, and executable binaries, with compile units being position-independent to support Address Space Layout Randomization (ASLR). System dependencies include the GNU C Library and the C++ standard library, which are linked dynamically. The document also notes that Firedancer does not aim for ABI stability, except for certain parts that offer a stable ABI for shared library use. Code generation tools are written in Python 3.9, and the project aims to minimize out-of-tree dependencies, using a script to fetch and build necessary external libraries. GNU Make automates the build process, generating configuration, performing compiler checks, discovering build targets, and executing build rules. Machine targets are defined in the `config/machine` directory and can be selected using the `MACHINE` variable.
# Content Summary
The document provides an overview of the build system and source code management for the Firedancer project. It emphasizes the importance of building Firedancer from source on GNU/Linux distributions, focusing on simplicity and robustness.

**Build Process:**
- Firedancer uses a typical build process for statically linked C applications on Linux.
- The process involves transforming C/C++ source code, assembly sources, and embedded files into static objects, static libraries, and executable binaries.
- Compile units, which consist of C/C++ files, assembly files, and embedded files, are compiled into static objects using GCC or Clang. These units support Address Space Layout Randomization (ASLR) by being position-independent and define externally linked symbols for use in other compile units.

**System Dependencies:**
- Firedancer relies on the GNU C Library (glibc) and the C++ standard library, both linked dynamically.

**ABI Stability:**
- Firedancer does not guarantee ABI stability, allowing symbols to change between versions. However, it aims for cross-compiler stability, enabling linking of units compiled with different versions of GCC or a mix of GCC and Clang, provided they originate from the same revision.

**Code Generation:**
- Generated code is included in the repository to minimize tooling dependencies, requiring code generation tools only during development. These tools are written in Python 3.9.

**Out-of-tree Dependencies:**
- Firedancer aims to eliminate out-of-tree library dependencies but currently fetches some large external dependencies using a script (`deps.sh`). This script builds and installs these dependencies into a custom prefix, with the compiler discovering them via specific include and library paths.

**Make Configuration:**
- GNU Make automates the build process, which includes generating compiler and linker configurations, performing compiler checks, discovering build targets, and executing build rules.
- Machine targets are defined in the `config/machine` directory and can be selected using the `MACHINE` variable.

This document is essential for developers working with Firedancer, providing detailed instructions on building the project from source and managing dependencies.

---
Made with ❤️ by [Driver](https://www.driver.ai/)