<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

GitHub Actions workflow for building with GCC and Clang across different architectures and configurations.

# Purpose
This YAML configuration file defines a GitHub Actions workflow for building software across different compilers, architectures, and targets. It specifies inputs for the workflow, such as `cid`, `gcc`, `clang`, `machine`, and others, which allow users to customize the build process by selecting specific compiler versions, target machines, and exception groups. The file includes three main jobs: `build_gcc`, `build_clang`, and `build_arm`, each responsible for executing builds with GCC, Clang, and ARM architectures, respectively. Each job contains steps to check out the code, set up the environment, and run build scripts with command-line arguments constructed from the provided inputs. The workflow supports concurrency control and can cancel in-progress builds if a new one is triggered, ensuring efficient resource usage.
# Content Summary
The provided configuration file is a GitHub Actions workflow file designed to automate the build process for different compilers, architectures, and targets. The workflow is named "Builds" and is triggered by two events: `workflow_call` and `workflow_dispatch`. These events allow the workflow to be invoked either programmatically or manually, respectively.

### Inputs
The workflow accepts several inputs that control the build process:
- **cid**: A unique string identifier for concurrency control.
- **gcc**: Specifies the GCC versions to use, with options for all, none, or specific versions.
- **clang**: Specifies the Clang versions to use, with options for all, none, or specific versions.
- **machine**: Defines the target machines for the build, with options for all or specific machines.
- **gcc_exceptions** and **clang_exceptions**: Define exception groups for GCC and Clang, respectively.
- **build_arm**: A boolean to determine if ARM builds should be executed.
- **dry_run**: A boolean to print the build matrix and exit without executing the build.
- **check_run**: A boolean to run `make check` instead of full builds.
- **exit_on_err**: A boolean to exit the build process on the first error encountered.

### Concurrency
The workflow uses a concurrency group to manage simultaneous runs. The group is defined by a combination of the workflow name, pull request number or reference, and the `cid` input. The `cancel-in-progress` option is set to true, ensuring that any in-progress runs are canceled when a new run is triggered.

### Jobs
The workflow defines three main jobs: `build_gcc`, `build_clang`, and `build_arm`.

- **build_gcc**: This job runs on a `rocky8` environment and executes if the `gcc` input is not set to 'none'. It checks out the code, sets up the Rust toolchain, installs dependencies for GCC, and constructs command-line arguments based on the inputs. It then runs the GCC build script with the specified arguments.

- **build_clang**: This job runs on a `rocky9` environment and executes if the `clang` input is not set to 'none'. Similar to the GCC job, it checks out the code, sets up the Rust toolchain, installs dependencies for Clang, constructs command-line arguments, and runs the Clang build script.

- **build_arm**: This job runs on an `ARM64` environment and executes if the `build_arm` input is true. It uses a matrix strategy to iterate over specified GCC versions. The job checks out the code, sets up the environment for ARM builds, fetches and installs dependencies, and runs the build process.

Each job constructs command-line arguments dynamically based on the provided inputs, allowing for flexible and customizable build configurations. The workflow is designed to handle different compiler versions, target architectures, and build options efficiently.

---
Made with ❤️ by [Driver](https://www.driver.ai/)