<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

GitHub Actions workflow for running unit, script, fuzz, and integration tests with a matrix strategy.

# Purpose
This file is a GitHub Actions workflow configuration that automates the execution of various tests, including unit tests, script tests, fuzz tests, and integration tests. The workflow is triggered by `workflow_call` and `workflow_dispatch` events, allowing for both manual and automated execution. It uses a matrix strategy to define different test cases, such as `linux_gcc_x86_64`, `linux_clang_icelake`, and `native`, each with specific parameters like compiler type and version. The configuration specifies a concurrency group to manage parallel execution and includes steps for setting up the environment, checking out code, building targets, and running tests. The workflow ensures that tests are run under different conditions and configurations to maintain code quality and reliability.
# Content Summary
This configuration file is a GitHub Actions workflow file designed to automate the execution of various tests, including unit tests, script tests, fuzz tests, and integration tests. The workflow is named "Tests" and can be triggered manually or by other workflows. It uses a concurrency group to manage parallel executions and cancel any in-progress runs if a new one starts.

The workflow defines a single job named "test" with a timeout of 30 minutes. It employs a strategy matrix to test different configurations, balancing resource use and test coverage. The matrix includes three test cases: `linux_gcc_x86_64`, `linux_clang_icelake`, and `native`, each with specific machine configurations, compiler settings, and test targets.

The job runs on specified labels and sets environment variables based on the matrix configuration. It includes several steps:

1. **Cleanup**: Terminates any running instances of `firedancer-dev`.
2. **Checkout**: Retrieves the repository code, including submodules.
3. **Dependencies**: Installs necessary dependencies unless specified otherwise.
4. **Hugepages and CPUs Online**: Configures system settings for testing.
5. **Rust Toolchain**: Sets up the Rust toolchain if required.
6. **Clean Targets**: Cleans previous build artifacts.
7. **Submodule Setup**: Prepares submodules for specific test cases.
8. **Build Targets**: Compiles the specified targets using the appropriate compiler.
9. **Run Tests**: Executes unit, script, fuzz, and integration tests based on the matrix configuration.
10. **Test Vectors**: Checks out and runs tests with persistent test vectors for the `native` test case.
11. **Solcap Tests**: Executes additional tests for the `native` test case.

The workflow ensures that tests are run under controlled conditions, with specific compiler versions and configurations, to maintain consistency and reliability in the testing process.

---
Made with ❤️ by [Driver](https://www.driver.ai/)