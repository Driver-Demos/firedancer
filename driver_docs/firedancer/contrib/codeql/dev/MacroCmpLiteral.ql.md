<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Identifies functions that return a constant integer and compare it to a literal value at invocation.

# Purpose
This code is a query script designed to identify specific patterns in C++ codebases. It focuses on detecting functions that return a defined integer constant and then compare this return value to a literal value at the point of invocation. The script is part of a static analysis tool, which aims to improve code maintainability and readability by flagging potential issues. The identified pattern is tagged with a warning severity level, indicating that while it may not cause immediate errors, it could lead to maintainability problems.

The script uses several predicates and logical constructs to achieve its purpose. The `callOriginated` predicate checks if a function call is the root cause of an assignment to a variable or if it is directly the function call itself. The main logic of the script is encapsulated in a query that searches for functions (`Function func`) and their calls (`FunctionCall call`) where the function returns a constant value, and this value is compared to a literal using a comparison operation (`ComparisonOperation cmp`). The script uses constructs like `MacroReturn` and `LiteralReturn` to identify the type of return values and employs the `findRootCause()` method to trace the origin of operands in comparison operations.

The script does not print the location of the invocation to avoid multiple results for the same finding, as the problem is typically located at the return statement of the function. The `select` statement at the end of the script outputs the function and a message indicating that the function returns a constant value and compares it to a literal at invocation. This output helps developers identify and address the flagged maintainability issue in their code.
# Imports and Dependencies

---
- `cpp`
- `filter`
- `rettypes`



---
Made with ❤️ by [Driver](https://www.driver.ai/)