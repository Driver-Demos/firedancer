<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

A script for producing block schedules in Solana using RPC, public keys, and slot information.

# Purpose
The code is a script designed to interact with the Solana blockchain network. It retrieves and processes information about block production schedules for a given public key. The script requires three command-line arguments: an RPC URL, a public key, and a number `n`. It uses these inputs to connect to the Solana network, fetch epoch information, and determine the leader schedule for block production. The script calculates and prints details about upcoming slots where the specified public key is scheduled to produce blocks, including the relative and absolute distances between slots in terms of time.

The script imports several modules and classes from the `solders` and `solana` libraries to facilitate blockchain interactions, such as `Client`, `Pubkey`, and `TransferParams`. It also uses standard Python libraries like `datetime`, `sys`, and `multiprocessing` to handle time calculations, command-line arguments, and parallel processing. The [`usage`](<#usage>) function provides guidance on how to run the script, and the [`main`](<#main>) function contains the core logic for fetching and displaying the block production schedule. The script is intended to be executed directly and does not define any public APIs or external interfaces for use in other modules.
# Imports and Dependencies

---
- `solders.message.Message`
- `solders.keypair.Keypair`
- `solana.transaction.Transaction`
- `solders.system_program.TransferParams`
- `solders.system_program.transfer`
- `solders.pubkey.Pubkey`
- `datetime`
- `sys`
- `socket`
- `time`
- `tqdm`
- `itertools`
- `multiprocessing.Pool`
- `multiprocessing.TimeoutError`
- `functools.partial`
- `pqdm.processes.pqdm`
- `solana.rpc.api.Client`
- `random`


# Functions

---
### usage<!-- {{#callable:firedancer/contrib/tool/block_production.usage}} -->
[View Source →](<../../../../contrib/tool/block_production.py#L22>)

Prints usage instructions and exits the program.
- **Inputs**: None
- **Logic and Control Flow**:
    - Prints a usage message to the standard output.
    - Calls the `exit` function with status code 1 to terminate the program.
- **Output**: No return value; the function exits the program.


---
### main<!-- {{#callable:firedancer/contrib/tool/block_production.main}} -->
[View Source →](<../../../../contrib/tool/block_production.py#L26>)

Calculates and prints the relative and absolute distances of upcoming leader slots for a given public key in a Solana network.
- **Inputs**: None
- **Logic and Control Flow**:
    - Check if the number of command-line arguments is less than 4; if true, call the [`usage`](<#usage>) function and exit.
    - Create a `Client` object using the first command-line argument as the RPC URL.
    - Convert the second command-line argument to a `Pubkey` object.
    - Convert the third command-line argument to an integer `slot_cnt`.
    - Retrieve epoch information and leader schedule from the Solana client.
    - Filter leader slots for the given public key that are greater than the current slot index and limit the list to four times `slot_cnt`.
    - Calculate the starting slot of the current epoch.
    - Iterate over the upcoming leader slots, calculate relative and absolute distances, and print the formatted results.
- **Output**: Prints the slot number, relative distance, absolute distance, and time in seconds for each upcoming leader slot.
- **Functions Called**:
    - [`firedancer/contrib/tool/block_production.usage`](<#usage>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)