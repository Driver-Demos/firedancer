<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

A shell script to configure and run the Firedancer development environment with specific network settings.

# Purpose
This script is a Bash executable designed to set up and manage a testing environment for a software component named `firedancer-dev`. It begins by configuring the environment with strict error handling and setting necessary directory paths. The script includes a cleanup function to terminate any running instances of `firedancer-dev` upon exit or interruption. It checks for the presence of `firedancer-dev` in the system path and adjusts the path if necessary. The script waits for a specific blockchain condition, downloads a snapshot, and extracts configuration details from logs. It generates a configuration file `firedancer-dev.toml` with various settings for network, consensus, and logging. Finally, it initializes and runs `firedancer-dev` with the specified configuration, using `gdb` for debugging purposes.
# Global Variables

---
### SCRIPT\_DIR
- **Type**: `string`
- **Description**: Contains the absolute path to the directory where the script is located. It is determined by changing to the directory of the script's source file and then obtaining the current working directory.
- **Use**: Used to construct paths relative to the script's location, such as `FD_DIR`.


---
### FD\_DIR
- **Type**: `string`
- **Description**: `FD_DIR` is a string variable that stores the path to the directory two levels up from the current script's directory. It is constructed by appending '/../..' to the `SCRIPT_DIR` variable, which contains the absolute path of the script's directory.
- **Use**: Used to construct paths for executing commands and accessing files related to the 'firedancer-dev' application.


---
### OBJDIR
- **Type**: `string`
- **Description**: Defines the directory path for the build output, defaulting to 'build/native/${CC}' if not set. The variable uses the value of the 'CC' environment variable to specify the compiler used in the build process.
- **Use**: Used to specify the directory path where the build output is stored, which is referenced in various commands to locate the 'firedancer-dev' binary.


---
### AGAVE\_PATH
- **Type**: `string`
- **Description**: Defines the path to the Agave binary, defaulting to './agave/target/release' if not set by the user. This variable is used to specify the location of the Agave executable for subsequent commands in the script.
- **Use**: Used to execute the Agave binary with the specified path in the script.


---
### \_PRIMARY\_INTERFACE
- **Type**: `string`
- **Description**: The `_PRIMARY_INTERFACE` variable stores the name of the network interface that is used as the default route on the system. It is determined by parsing the output of the `ip route show default` command and extracting the interface name using `awk`. This variable is used to identify the primary network interface for further network-related operations in the script.
- **Use**: Stores the name of the default network interface for network operations.


---
### PRIMARY\_IP
- **Type**: `string`
- **Description**: Contains the IP address of the primary network interface. The IP address is extracted from the default network interface using the `ip` command and `awk` to parse the output.
- **Use**: Used to configure network-related settings and operations, such as downloading snapshots and setting entry points in the configuration file.


---
### FULL\_SNAPSHOT
- **Type**: ``string``
- **Description**: Contains the path to the snapshot file obtained from a remote server. The snapshot file is downloaded using `wget` from a URL constructed with the `PRIMARY_IP` and a specific port.
- **Use**: Used to specify the snapshot file location in the configuration for the `firedancer-dev` application.


---
### SHRED\_VERS
- **Type**: ``string``
- **Description**: Extracts the shred version number from the `validator.log` file. The shred version is a numeric identifier used in the Solana blockchain to ensure data consistency and compatibility between nodes.
- **Use**: Used to set the `expected_shred_version` in the `firedancer-dev.toml` configuration file.



---
Made with ❤️ by [Driver](https://www.driver.ai/)