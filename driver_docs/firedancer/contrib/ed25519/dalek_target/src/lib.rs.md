<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions for signing and verifying messages using the ed25519_dalek library.

# Purpose
The code provides two functions, `ed25519_dalek_sign` and `ed25519_dalek_verify`, which are part of a cryptographic interface for signing and verifying messages using the Ed25519 digital signature algorithm. These functions are exposed as C-compatible functions using the `#[no_mangle]` attribute and `extern "C"` declaration, allowing them to be called from non-Rust languages. The `ed25519_dalek_sign` function takes pointers to a message, its size, a public key, and a private key, and it outputs a signature. It constructs a `Keypair` from the provided keys and signs the message, storing the resulting signature in the provided memory location. The function returns `0` on success and `-1` on failure.

The `ed25519_dalek_verify` function verifies a given signature against a message and a public key. It takes pointers to the message, its size, the signature, and the public key. The function constructs a `Signature` and a `PublicKey` from the provided data and uses the `verify_strict` method to check the validity of the signature. It returns `0` if the signature is valid and `-1` if it is not. Both functions use the `ed25519-dalek` crate for cryptographic operations and employ unsafe Rust code to handle raw pointers, which is necessary for interoperability with C.
# Imports and Dependencies

---
- `ed25519_dalek`
- `std::ffi::c_int`


# Functions

---
### ed25519\_dalek\_sign
Signs a message using the Ed25519 algorithm with the provided public and private keys.
- **Inputs**:
    - `sig`: A mutable pointer to a buffer where the function will store the generated signature.
    - `msg`: A pointer to the message data that needs to be signed.
    - `sz`: The size of the message in bytes.
    - `public_key`: A pointer to the public key used in the signing process.
    - `private_key`: A pointer to the private key used in the signing process.
- **Logic and Control Flow**:
    - Convert the raw private key bytes into a `SecretKey` object; return -1 if conversion fails.
    - Convert the raw public key bytes into a `PublicKey` object; return -1 if conversion fails.
    - Create a `Keypair` object using the `SecretKey` and `PublicKey`.
    - Sign the message using the `Keypair` and store the signature in the provided buffer `sig`.
    - Return 0 to indicate success.
- **Output**: Returns 0 on success, or -1 if there is an error in key conversion.


---
### ed25519\_dalek\_verify
Verifies an Ed25519 signature against a given message and public key.
- **Inputs**:
    - `msg`: A pointer to the message data to verify.
    - `sz`: The size of the message in bytes.
    - `sig`: A pointer to the signature data to verify.
    - `public_key`: A pointer to the public key used for verification.
- **Logic and Control Flow**:
    - Convert the signature from a byte array to a `Signature` object using `Signature::from_bytes`.
    - Return -1 if the signature conversion fails.
    - Convert the public key from a byte array to a `PublicKey` object using `PublicKey::from_bytes`.
    - Return -1 if the public key conversion fails.
    - Use the `verify_strict` method of the `PublicKey` object to verify the message against the signature.
    - Return 0 if the verification is successful, otherwise return -1.
- **Output**: Returns 0 if the signature is valid, otherwise returns -1.



---
Made with ❤️ by [Driver](https://www.driver.ai/)