<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines GDB pretty printers for `fd_hash` and `fd_signature` types in the Firedancer codebase.

# Purpose
This code defines custom pretty printers for GDB, a debugger for programs written in languages like C and C++. It includes two classes, `fd_hash_printer` and `fd_signature_printer`, which are designed to format and display specific data structures, `fd_hash` and `fd_signature`, in a more readable hexadecimal format. Each class initializes with a value and provides a [`to_string`](<#fd_hash_printerto_string>) method to convert the data into a hexadecimal string, replacing sequences of zeroes with "0000...". The [`build_pretty_printer`](<#build_pretty_printer>) function creates a `RegexpCollectionPrettyPrinter` named "Firedancer" and registers the custom printers for the `fd_hash` and `fd_signature` types. Finally, the code registers this collection with the current object file in GDB, enabling the custom formatting during debugging sessions.
# Imports and Dependencies

---
- `gdb.printing`


# Classes

---
### fd\_hash\_printer<!-- {{#class:firedancer/contrib/gdb/fd_gdb.fd_hash_printer}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L3>)

- **Members**:
    - `__val`: Stores a byte array representation of the input value.
- **Description**: Converts a dictionary input into a byte array and provides a string representation of the byte array, either as a hexadecimal string or a placeholder string if all bytes are zero.
- **Methods**:
    - [`firedancer/contrib/gdb/fd_gdb.fd_hash_printer.__init__`](<#fd_hash_printer__init__>)
    - [`firedancer/contrib/gdb/fd_gdb.fd_hash_printer.to_string`](<#fd_hash_printerto_string>)

**Methods**

---
#### fd\_hash\_printer\.\_\_init\_\_<!-- {{#callable:firedancer/contrib/gdb/fd_gdb.fd_hash_printer.__init__}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L4>)

Initializes an instance of the `fd_hash_printer` class by converting a dictionary value to a byte array.
- **Inputs**:
    - `val`: A dictionary with a key 'uc' that maps to a list or array of values, which are converted to integers and then to bytes.
- **Logic and Control Flow**:
    - Accesses the 'uc' key from the input dictionary 'val'.
    - Iterates over the first 32 elements of the list or array associated with 'uc'.
    - Converts each element to an integer and then to a byte.
    - Stores the resulting byte array in the instance variable `self.__val`.
- **Output**: No output is returned; the method initializes the instance variable `self.__val`.
- **See also**: [`firedancer/contrib/gdb/fd_gdb.fd_hash_printer`](<#fd_hash_printer>)  (Base Class)


---
#### fd\_hash\_printer\.to\_string<!-- {{#callable:firedancer/contrib/gdb/fd_gdb.fd_hash_printer.to_string}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L7>)

Converts the internal byte value to a string representation, either as a series of zeros or a hexadecimal string.
- **Inputs**:
    - `self`: The instance of the class `fd_hash_printer`.
- **Logic and Control Flow**:
    - Checks if all bytes in `self.__val` are zero.
    - If all bytes are zero, returns the string '0000...'.
    - If not all bytes are zero, converts `self.__val` to a hexadecimal string prefixed with '0x' and returns it.
- **Output**: A string representation of the byte value, either '0000...' or a hexadecimal string prefixed with '0x'.
- **See also**: [`firedancer/contrib/gdb/fd_gdb.fd_hash_printer`](<#fd_hash_printer>)  (Base Class)



---
### fd\_signature\_printer<!-- {{#class:firedancer/contrib/gdb/fd_gdb.fd_signature_printer}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L12>)

- **Members**:
    - `__val`: Stores a byte array representation of the input value.
- **Description**: Converts a given value into a 64-byte array and provides a string representation of it, either as a hexadecimal string or a placeholder if all bytes are zero.
- **Methods**:
    - [`firedancer/contrib/gdb/fd_gdb.fd_signature_printer.__init__`](<#fd_signature_printer__init__>)
    - [`firedancer/contrib/gdb/fd_gdb.fd_signature_printer.to_string`](<#fd_signature_printerto_string>)

**Methods**

---
#### fd\_signature\_printer\.\_\_init\_\_<!-- {{#callable:firedancer/contrib/gdb/fd_gdb.fd_signature_printer.__init__}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L13>)

Initializes an instance of the `fd_signature_printer` class by converting a dictionary value to a byte array.
- **Inputs**:
    - `val`: A dictionary containing a key `uc` which maps to a list or array of values that can be converted to integers.
- **Logic and Control Flow**:
    - Converts each element in the `val['uc']` list to an integer.
    - Creates a byte array from the first 64 integer values.
    - Assigns the byte array to the instance variable `self.__val`.
- **Output**: None (constructor method).
- **See also**: [`firedancer/contrib/gdb/fd_gdb.fd_signature_printer`](<#fd_signature_printer>)  (Base Class)


---
#### fd\_signature\_printer\.to\_string<!-- {{#callable:firedancer/contrib/gdb/fd_gdb.fd_signature_printer.to_string}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L16>)

Converts the internal byte value to a hexadecimal string representation or a placeholder string if all bytes are zero.
- **Inputs**:
    - `self`: The instance of the class containing the method.
- **Logic and Control Flow**:
    - Checks if all bytes in `self.__val` are zero.
    - If all bytes are zero, returns the string '0000...'.
    - If not all bytes are zero, converts `self.__val` to a hexadecimal string prefixed with '0x' and returns it.
- **Output**: A string representing the byte value in hexadecimal format or '0000...' if all bytes are zero.
- **See also**: [`firedancer/contrib/gdb/fd_gdb.fd_signature_printer`](<#fd_signature_printer>)  (Base Class)



# Functions

---
### build\_pretty\_printer<!-- {{#callable:firedancer/contrib/gdb/fd_gdb.build_pretty_printer}} -->
[View Source →](<../../../../contrib/gdb/fd_gdb.py#L21>)

Creates and returns a pretty printer collection for GDB with specific printers for 'fd_hash' and 'fd_signature'.
- **Inputs**: None
- **Logic and Control Flow**:
    - Creates an instance of `RegexpCollectionPrettyPrinter` with the name 'Firedancer'.
    - Adds a printer for 'fd_hash' using the `fd_hash_printer` class with a regular expression '^fd_hash$'.
    - Adds a printer for 'fd_signature' using the `fd_hash_printer` class with a regular expression '^fd_signature$'.
    - Returns the `RegexpCollectionPrettyPrinter` instance.
- **Output**: A `RegexpCollectionPrettyPrinter` object configured with specific printers for 'fd_hash' and 'fd_signature'.



---
Made with ❤️ by [Driver](https://www.driver.ai/)