<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines gRPC services and messages for block engine validators and relayers to manage packets and bundles.

# Purpose
The file defines a Protocol Buffers (`proto3`) schema for a block engine system, which facilitates communication between validators, relayers, and block engines. It imports definitions from `packet.proto`, `shared.proto`, and `bundle.proto`, indicating dependencies on these files for shared data structures. The schema includes several message types such as `SubscribePacketsRequest`, `SubscribePacketsResponse`, `BlockBuilderFeeInfoRequest`, and `ExpiringPacketBatch`, each serving specific roles in the communication process. For example, `ExpiringPacketBatch` includes a header, a batch of packets, and an expiry time, which helps manage packet forwarding to validators. The file also defines two services: `BlockEngineValidator` and `BlockEngineRelayer`. These services provide remote procedure calls (RPCs) for subscribing to packet and bundle streams, retrieving block builder fee information, and managing accounts and programs of interest. The RPCs facilitate the exchange of data streams and updates between the block engine and connected entities, ensuring efficient and targeted data handling within the network.
# Content Summary
The provided content is a Protocol Buffers (proto3) file that defines the structure and services for a block engine system. This system facilitates communication between validators, relayers, and block engines, primarily for handling packets and bundles in a blockchain environment.

Key components and services defined in the file include:

1. **Messages**:
   - `SubscribePacketsRequest` and `SubscribePacketsResponse`: Used for subscribing to packet streams. The response includes a header and a batch of packets.
   - `SubscribeBundlesRequest` and `SubscribeBundlesResponse`: Used for subscribing to bundle streams. The response includes a list of bundle UUIDs.
   - `BlockBuilderFeeInfoRequest` and `BlockBuilderFeeInfoResponse`: Used to request and receive fee information for block builders, including a public key and commission rate.
   - `AccountsOfInterest` and related messages: Define accounts that are of interest, allowing the system to focus on specific transactions.
   - `ProgramsOfInterestRequest` and `ProgramsOfInterestUpdate`: Similar to accounts, but for programs of interest.
   - `ExpiringPacketBatch`: Represents a batch of packets with an expiration time, providing a mechanism for censorship resistance.
   - `PacketBatchUpdate`: A multiplexed message that can contain either expiring packet batches or heartbeats for time synchronization.

2. **Services**:
   - `BlockEngineValidator`: Allows validators to subscribe to streams of packets and bundles. It also provides a method to get block builder fee information.
   - `BlockEngineRelayer`: Enables relayers to forward packets to block engines and receive updates on accounts and programs of interest. It includes a bi-directional stream for packets and heartbeats, addressing a specific issue with Envoy's handling of streams.

The file imports other proto files (`packet.proto`, `shared.proto`, `bundle.proto`) to define shared structures and types used across messages and services. The package is named `block_engine`, indicating its role in managing block-related operations within a blockchain network.

---
Made with ❤️ by [Driver](https://www.driver.ai/)