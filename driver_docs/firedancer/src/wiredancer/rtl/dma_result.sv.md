<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements a DMA result module for PCIe data handling with various input and output signals.

# Purpose
The `dma_result` module is a Verilog hardware description that manages Direct Memory Access (DMA) operations across multiple PCIe interfaces. It is parameterized by `N_PCIE`, which defines the number of PCIe interfaces it supports. The module handles input and output signals related to DMA requests and responses, including control and data signals. It processes external PCIe signals (`ext_v`, `ext_r`, `ext_e`, `ext_m`) and result signals (`res_v`, `res_t`, `res_d`) to generate DMA control signals (`dma_v`, `dma_a`, `dma_b`, `dma_d`) and result control signals (`res_c`, `res_f`, `res_p`).

The module uses several internal components to manage data flow and control logic. It includes a `generate` block that iterates over each PCIe interface, creating instances of `piped_wire`, `showahead_fifo`, and `tid_inorder` modules to handle signal processing and data buffering. The `rrb_merge` module is used to merge the results from multiple PCIe interfaces into a single output. The module also includes logic to adjust DMA addresses based on a private base and mask, ensuring secure and correct memory access. The design is synchronized with a clock (`clk`) and can be reset using a reset signal (`rst`).
# Modules

---
### dma\_result
Manages data transfer between PCIe interfaces and internal components. Uses pipelining and FIFO structures to handle data flow and control signals.
- **Constants**:
    - ``N_PCIE``: Defines the number of PCIe interfaces, set to 2.
- **Ports**:
    - ``dma_r``: Input signal for DMA read request.
    - ``dma_v``: Output signal indicating DMA valid data.
    - ``dma_a``: Output address for DMA operations.
    - ``dma_b``: Output auxiliary address for DMA operations.
    - ``dma_f``: Input signal for DMA fail condition.
    - ``dma_d``: Output data for DMA operations.
    - ``ext_v``: Input valid signal from external PCIe interfaces.
    - ``ext_r``: Input ready signal from external PCIe interfaces.
    - ``ext_e``: Input enable signal from external PCIe interfaces.
    - ``ext_m``: Input metadata from external PCIe interfaces.
    - ``res_v``: Input valid signal for result data.
    - ``res_t``: Input timestamp or tag for result data.
    - ``res_d``: Input data signal for result data.
    - ``res_c``: Output control signal for result data.
    - ``res_f``: Output fail signal for result data.
    - ``res_p``: Output processed signal for result data.
    - ``priv_base``: Input base address for private data.
    - ``priv_mask``: Input mask for private data address.
    - ``send_fails``: Input signal indicating send failures.
    - ``clk``: Clock signal for synchronization.
    - ``rst``: Reset signal to initialize the module.
- **Logic and Control Flow**:
    - Uses a `generate` block to create instances of logic for each PCIe interface defined by `N_PCIE`.
    - Assigns `dma_a` by masking the lower bits of `dma_aa` to zero.
    - In the `generate` block, assigns `dma_p_v` based on several conditions including `res_o_v`, `dma_m_v`, and `send_fails`.
    - Uses `always_ff` blocks to update `res_p` and process `ext_p_v` and `ext_p_m` on the rising edge of `clk`.
    - Implements a `piped_wire` instance to handle pipelined data from external PCIe interfaces.
    - Uses a `showahead_fifo` instance to buffer and manage data flow with a depth of 512.
    - Implements a `tid_inorder` instance to manage transaction IDs in order with a depth of 2048.
    - Uses an `rrb_merge` instance to merge data from multiple PCIe interfaces into a single output stream.
    - Includes a `$display` statement to log the state of `dma_p_r`, `dma_p_v`, `dma_r`, and `dma_v` when `dma_p_v` is active.



---
Made with ❤️ by [Driver](https://www.driver.ai/)