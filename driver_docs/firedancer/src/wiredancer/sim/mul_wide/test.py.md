<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

A test script for verifying wide multiplication logic using the cocotb framework.

# Purpose
This code is a test suite for a digital design verification process using the Cocotb framework. It defines an asynchronous test function [`test`](<#test>) that interacts with a digital unit under test (DUT) through its clock and reset signals. The test initializes a clock signal with a period of 1 nanosecond and starts a reset sequence using the `toggle_reset` function from the `wd_cocotil` module. The test then reads configuration parameters `W`, `W0`, `W1`, and `T` from the DUT, which are used to generate random input values for the DUT's input signals `in0`, `in1`, and `m_i`.

The test runs for 1024 clock cycles, during which it generates random input values and applies them to the DUT. It checks the DUT's output signals `out0` and `m_o` against expected values calculated from the inputs. The test logs the results and asserts that the DUT's outputs match the expected values, ensuring the DUT's functionality is correct. If the output does not match, the test increments a discrepancy counter `D` and asserts that it remains below a threshold of 100, indicating a limit on acceptable mismatches during the test.
# Imports and Dependencies

---
- `random`
- `cocotb`
- `cocotb.clock.Clock`
- `cocotb.triggers.Timer`
- `cocotb.triggers.RisingEdge`
- `cocotb.triggers.ReadOnly`
- `cocotb.binary.BinaryValue`
- `wd_cocotil`


# Functions

---
### test<!-- {{#callable:firedancer/src/wiredancer/sim/mul_wide/test.test}} -->
[View Source →](<../../../../../../src/wiredancer/sim/mul_wide/test.py#L12>)

Executes a test on a digital unit under test (DUT) by simulating clock cycles and verifying output values against expected results.
- **Decorators**: `@cocotb.test`
- **Inputs**:
    - `dut`: The device under test (DUT) which is a digital circuit or module to be tested.
- **Logic and Control Flow**:
    - Initialize a clock with a 1 ns period and start it.
    - Start a reset toggle on the DUT's clock and reset signal with a duration of 32 cycles.
    - Determine the width parameters `W`, `W0`, and `W1` from the DUT attributes, defaulting to `W` if `W0` or `W1` are not present.
    - Mask the `T` parameter from the DUT to 8 bits.
    - Wait for 1024 rising edges of the clock to synchronize the test environment.
    - For 1024 iterations, generate random integers for `m_i`, `i0`, and `i1` based on the width parameters and append them to the `o_rs` list along with their product.
    - Assign the generated values to the DUT's input signals and wait for a rising edge of the clock.
    - Check if the least significant bit of `m_o` is not '1', increment `D`, and assert `D` is less than 100 before continuing to the next iteration.
    - Pop the first tuple from `o_rs`, compare the expected and actual output values, and log the results.
    - Assert that the expected and actual data and mask values match.
- **Output**: No explicit return value; the function performs assertions and logs information during the test.



---
Made with ❤️ by [Driver](https://www.driver.ai/)