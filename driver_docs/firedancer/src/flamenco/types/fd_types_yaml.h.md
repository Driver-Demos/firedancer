<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines the `fd_flamenco_yaml_t` structure and functions for YAML processing in the Firedancer codebase.

# Purpose
The code is a C header file that defines the structure and functions for handling YAML data within the context of the `fd_flamenco` system. It provides a specific implementation of the `fd_flamenco_walk_fn_t` virtual class interface, which is used for traversing or processing YAML data. The main structure defined is `fd_flamenco_yaml_t`, which includes a file pointer and arrays for managing indentation levels and buffers, indicating its role in reading or writing YAML data with specific formatting requirements.

The header file declares several functions for managing `fd_flamenco_yaml_t` objects. These include functions for creating and deleting instances ([`fd_flamenco_yaml_new`](<#fd_flamenco_yaml_new>) and [`fd_flamenco_yaml_delete`](<#fd_flamenco_yaml_delete>)), initializing an instance with a file handle ([`fd_flamenco_yaml_init`](<#fd_flamenco_yaml_init>)), and accessing the file associated with a YAML object ([`fd_flamenco_yaml_file`](<#fd_flamenco_yaml_file>)). Additionally, the [`fd_flamenco_yaml_walk`](<#fd_flamenco_yaml_walk>) function is defined to implement the `fd_flamenco_walk_fn_t` interface, which suggests its use in iterating over or processing YAML data structures. The file also provides utility functions to determine the alignment and memory footprint of the `fd_flamenco_yaml_t` structure.
# Imports and Dependencies

---
- `../fd_flamenco_base.h`


# Data Structures

---
### fd\_flamenco\_yaml\_t
- **Type**: ``struct``
- **Members**:
    - ``file``: A pointer to a file or platform-specific equivalent.
    - ``stack``: An array used to manage indentation levels, with a size defined by `FD_FLAMENCO_YAML_MAX_INDENT`.
    - ``indent``: A character buffer used for indentation, with a size defined by `FD_FLAMENCO_YAML_INDENT_BUFSZ`.
- **Description**: Defines a structure for handling YAML data with specific support for indentation management and file handling, implementing the `fd_flamenco_walk_fn_t` virtual class interface.


---
### fd\_flamenco\_yaml
- **Type**: ``struct fd_flamenco_yaml``
- **Members**:
    - ``file``: A pointer to a file or platform-specific equivalent.
    - ``stack``: An array of integers with a size defined by `FD_FLAMENCO_YAML_MAX_INDENT`.
    - ``indent``: A character array with a size defined by `FD_FLAMENCO_YAML_INDENT_BUFSZ`.
- **Description**: Defines a structure for handling YAML data with a file pointer, a stack for managing indentation levels, and a buffer for storing indentation characters.


# Functions

---
### fd\_flamenco\_yaml\_align<!-- {{#callable:fd_flamenco_yaml_align}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L24>)

Returns the alignment requirement of the `fd_flamenco_yaml_t` structure.
- **Inputs**: None
- **Logic and Control Flow**:
    - Use the `alignof` operator to determine the alignment requirement of the `fd_flamenco_yaml_t` structure.
    - Return the alignment value.
- **Output**: The alignment requirement of the `fd_flamenco_yaml_t` structure as an `ulong`.


---
### fd\_flamenco\_yaml\_footprint<!-- {{#callable:fd_flamenco_yaml_footprint}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L29>)

Calculates the memory footprint of the `fd_flamenco_yaml_t` structure.
- **Inputs**: None
- **Logic and Control Flow**:
    - Return the size of the `fd_flamenco_yaml_t` structure using the `sizeof` operator.
- **Output**: Returns an `ulong` representing the size in bytes of the `fd_flamenco_yaml_t` structure.


# Function Declarations (Public API)

---
### fd\_flamenco\_yaml\_new<!-- {{#callable_declaration:fd_flamenco_yaml_new}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L34>)

Creates a new YAML object in the provided memory.
- **Description**: Use this function to initialize a `fd_flamenco_yaml_t` object in a pre-allocated memory block. This function sets up the YAML object with default values. The memory block must be large enough to hold a `fd_flamenco_yaml_t` object. If the provided memory pointer is null, the function logs a warning and returns null. This function does not allocate memory; it only initializes the provided memory block.
- **Inputs**:
    - `mem`: A pointer to a pre-allocated memory block where the YAML object will be initialized. Must not be null. The caller retains ownership of the memory.
- **Output**: Returns a pointer to the initialized `fd_flamenco_yaml_t` object, or null if the input memory pointer is null.
- **See Also**: [`fd_flamenco_yaml_new`](<fd_types_yaml.c.md#fd_flamenco_yaml_new>)  (Implementation)


---
### fd\_flamenco\_yaml\_delete<!-- {{#callable_declaration:fd_flamenco_yaml_delete}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L37>)

Deletes a YAML object.
- **Description**: Use this function to delete a `fd_flamenco_yaml_t` object when it is no longer needed. This function helps manage memory by returning the pointer to the YAML object, which can then be freed or otherwise managed by the caller. Ensure that the `yaml` parameter is a valid pointer to a `fd_flamenco_yaml_t` object before calling this function.
- **Inputs**:
    - `yaml`: A pointer to a `fd_flamenco_yaml_t` object. Must be a valid pointer. The function does not check for null pointers, so passing a null pointer can lead to undefined behavior.
- **Output**: Returns the pointer to the `fd_flamenco_yaml_t` object that was passed in.
- **See Also**: [`fd_flamenco_yaml_delete`](<fd_types_yaml.c.md#fd_flamenco_yaml_delete>)  (Implementation)


---
### fd\_flamenco\_yaml\_init<!-- {{#callable_declaration:fd_flamenco_yaml_init}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L43>)

Initializes a YAML object with a file handle.
- **Description**: Use this function to initialize a `fd_flamenco_yaml_t` object with a specified file handle. This function must be called before using the YAML object for any operations. Ensure that both the `yaml` object and the `file` handle are not null before calling this function. If either parameter is null, the function will log a warning and return null. This function sets the file handle in the YAML object, allowing subsequent operations to use it.
- **Inputs**:
    - `yaml`: A pointer to a `fd_flamenco_yaml_t` object to initialize. Must not be null. The caller retains ownership.
    - `file`: A pointer to a file handle, typically a `FILE *` or platform-specific equivalent. Must not be null. The caller retains ownership.
- **Output**: Returns a pointer to the initialized `fd_flamenco_yaml_t` object, or null if either input is null.
- **See Also**: [`fd_flamenco_yaml_init`](<fd_types_yaml.c.md#fd_flamenco_yaml_init>)  (Implementation)


---
### fd\_flamenco\_yaml\_file<!-- {{#callable_declaration:fd_flamenco_yaml_file}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L47>)

Returns the file handle associated with a YAML object.
- **Description**: Use this function to obtain the file handle from a `fd_flamenco_yaml_t` object. This function is useful when you need to access the file or platform-specific equivalent that is associated with the YAML object. Ensure that the `yaml` parameter is a valid pointer to a `fd_flamenco_yaml_t` object before calling this function.
- **Inputs**:
    - `yaml`: A pointer to a `fd_flamenco_yaml_t` object. Must not be null. The function does not modify the object.
- **Output**: Returns a pointer to the file handle or platform-specific equivalent associated with the `fd_flamenco_yaml_t` object.
- **See Also**: [`fd_flamenco_yaml_file`](<fd_types_yaml.c.md#fd_flamenco_yaml_file>)  (Implementation)


---
### fd\_flamenco\_yaml\_walk<!-- {{#callable_declaration:fd_flamenco_yaml_walk}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L52>)

Processes YAML serialization for a given node.
- **Description**: Use this function to serialize a node in a YAML structure. It processes the node based on its type and level in the hierarchy, writing the serialized output to a file associated with the `fd_flamenco_yaml_t` object. Ensure that the `level` does not exceed `FD_FLAMENCO_YAML_MAX_INDENT - 1` to avoid warnings. This function does not handle nodes of type `FD_FLAMENCO_TYPE_ENUM_DISC` and will log a critical error for unknown types.
- **Inputs**:
    - `_self`: A pointer to an `fd_flamenco_yaml_t` object. Must not be null. The object must be initialized before use.
    - `arg`: A pointer to the data to serialize. The type of data depends on the `type` parameter. Must not be null for types that require data.
    - `name`: A string representing the name of the node. Can be null if the node does not have a name.
    - `type`: An integer representing the type of the node. Must be a valid type defined in the API. Unknown types will trigger a critical log error.
    - `type_name`: A string representing the name of the type. This parameter is not used in the function.
    - `level`: An unsigned integer representing the indentation level of the node. Must be less than `FD_FLAMENCO_YAML_MAX_INDENT - 1`.
    - `varint`: An unsigned integer that is not used in the function.
- **Output**: None
- **See Also**: [`fd_flamenco_yaml_walk`](<fd_types_yaml.c.md#fd_flamenco_yaml_walk>)  (Implementation)


---
### fd\_get\_types\_yaml<!-- {{#callable_declaration:fd_get_types_yaml}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_yaml.h#L61>)

Returns a singleton instance of a YAML handler.
- **Description**: Use this function to obtain a singleton instance of `fd_flamenco_yaml_t`, which is used for handling YAML data. This function ensures that only one instance of the YAML handler is created and reused across multiple calls. It initializes the instance if it does not already exist. This function is useful when you need a consistent YAML handler throughout the application. It must be called after the necessary memory allocation and initialization functions are available.
- **Inputs**: None
- **Output**: Returns a pointer to a `fd_flamenco_yaml_t` instance, which is a singleton YAML handler.
- **See Also**: [`fd_get_types_yaml`](<fd_types_yaml.c.md#fd_get_types_yaml>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)