<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions for managing and querying a map of type descriptors by name.

# Purpose
The code defines a function [`fd_types_vt_by_name`](<#fd_types_vt_by_name>) that retrieves a type descriptor from a map based on a given name and its length. It uses a static map `fd_types_map` to store type descriptors, which are initialized once using a list of type descriptors `fd_types_vt_list`. The function checks if the name length is valid and then constructs a key to query the map for the corresponding type descriptor. If the map is not large enough to accommodate all entries, an error is logged.

The code is part of a C source file that likely interacts with a type reflection system, as suggested by the inclusion of the header `fd_types_reflect_private.h`. It provides a specific functionality to look up type descriptors by name, which is a narrow and focused task. The function [`fd_types_vt_by_name`](<#fd_types_vt_by_name>) is a key component, as it encapsulates the logic for initializing the map and querying it. The code does not define a public API or external interface directly but is intended to be used internally within a larger system that requires type reflection capabilities.
# Imports and Dependencies

---
- `fd_types_reflect_private.h`


# Global Variables

---
### fd\_types\_map
- **Type**: ``fd_types_vt_t` array`
- **Description**: An array of `fd_types_vt_t` structures, where the size of the array is determined by the bitwise left shift operation `1<<FD_TYPES_MAP_LG_SLOT_CNT`. This array is used to store type information for a mapping system.
- **Use**: Used to store and manage type information in a mapping system, allowing for insertion and querying of type data.


---
### key
- **Type**: ``fd_types_vt_key_t``
- **Description**: `key` is a variable of type `fd_types_vt_key_t` that is initialized with a name and its length. It is used to create a key for querying the `fd_types_map`.
- **Use**: Used to query the `fd_types_map` for a specific entry based on the provided name and its length.


# Functions

---
### fd\_types\_vt\_by\_name<!-- {{#callable:fd_types_vt_by_name}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_reflect.c#L5>)

Retrieves a pointer to a `fd_types_vt_t` structure by matching a given name and its length.
- **Inputs**:
    - `name`: A pointer to a constant character string representing the name to search for.
    - `name_len`: An unsigned long integer representing the length of the name.
- **Logic and Control Flow**:
    - Initialize the `fd_types_map` once using `fd_types_map_join` and `fd_types_map_new` functions.
    - Iterate over `fd_types_vt_list` to insert each entry into the `fd_types_map` using `fd_types_map_insert`.
    - Log an error if insertion fails due to insufficient map size.
    - Check if `name_len` is zero or exceeds `USHORT_MAX`, returning `NULL` if true.
    - Create a `fd_types_vt_key_t` structure with the provided name and length.
    - Query the `fd_types_map` with the constructed key and return the result.
- **Output**: A pointer to a `fd_types_vt_t` structure if found, otherwise `NULL`.



---
Made with ❤️ by [Driver](https://www.driver.ai/)