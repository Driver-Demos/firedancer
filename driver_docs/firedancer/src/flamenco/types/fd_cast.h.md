<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements a function to cast a double to an unsigned long with saturation, similar to Rust's behavior.

# Purpose
This C header file defines a function to perform a saturating cast from a `double` to an `unsigned long`, similar to Rust's casting behavior since version 1.45. The function [`fd_rust_cast_double_to_ulong`](<#fd_rust_cast_double_to_ulong>) handles special cases such as negative values, NaN, and values exceeding `ULONG_MAX` by saturating them to 0 or `ULONG_MAX` as appropriate. The code uses utility functions from `fd_float.h` to inspect the bit representation of the `double` for determining its sign, exponent, and mantissa. The header is conditionally compiled if `FD_HAS_DOUBLE` is defined, ensuring compatibility with systems that support double-precision floating-point numbers.
# Imports and Dependencies

---
- `../../util/bits/fd_float.h`


# Functions

---
### fd\_rust\_cast\_double\_to\_ulong<!-- {{#callable:fd_rust_cast_double_to_ulong}} -->
[View Source →](<../../../../../src/flamenco/types/fd_cast.h#L20>)

Casts a double to an unsigned long with saturation, similar to Rust's casting behavior.
- **Inputs**:
    - `f`: A double-precision floating-point number to cast to an unsigned long.
- **Logic and Control Flow**:
    - Convert the double `f` to its bit representation `u` using `fd_dblbits(f)`.
    - Check if the exponent part of `u` is all 1s, indicating infinity or NaN, using `fd_dblbits_bexp(u) == 0x7FFUL`.
    - If the mantissa part of `u` is 0, return `ULONG_MAX` for infinity; otherwise, return 0 for NaN using `fd_dblbits_mant(u)`.
    - If the sign bit of `u` is 1, indicating a negative value, return 0 using `fd_dblbits_sign(u)`.
    - If `f` is greater than or equal to `ULONG_MAX`, return `ULONG_MAX`.
    - For normal values, cast `f` to an unsigned long and return it.
- **Output**: An unsigned long integer that is the result of casting the input double with saturation.



---
Made with ❤️ by [Driver](https://www.driver.ai/)