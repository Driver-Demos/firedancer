<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Reflection logic and virtual interface for bincode type serializers.

# Purpose
The `fd_types_reflect.h` header file provides reflection logic for bincode type serializers. It defines a virtual interface, `fd_types_vt`, which includes function pointers for operations such as creating a new instance, decoding, encoding, calculating size, and walking through serialized data. The `fd_types_vt_key` structure is used to store type metadata, including the type name and its length. The file declares an external list, `fd_types_vt_list`, which contains `fd_types_vt_t` structures for each supported bincode type, and a function [`fd_types_vt_by_name`](<#fd_types_vt_by_name>) to retrieve a type class by its name. This setup facilitates the serialization and deserialization of various data types using a consistent interface.
# Imports and Dependencies

---
- `fd_bincode.h`


# Global Variables

---
### fd\_types\_vt\_list
- **Type**: ``fd_types_vt_t const fd_types_vt_list[]``
- **Description**: A table of `fd_types_vt_t` structures, each representing a virtual interface for a type serializer for supported bincode types. The list is null-terminated, indicated by a `name` field set to `NULL` in the last element.
- **Use**: Used to store and access the virtual interfaces for each supported bincode type.


---
### fd\_types\_vt\_list\_cnt
- **Type**: ``ulong``
- **Description**: `fd_types_vt_list_cnt` is a global variable of type `ulong` that represents the number of records in the `fd_types_vt_list` array. This array contains `fd_types_vt_t` structures for each supported bincode type.
- **Use**: Used to determine the number of type serializer records in `fd_types_vt_list`.


# Data Structures

---
### fd\_types\_vt\_key
- **Type**: ``struct``
- **Members**:
    - `name`: Pointer to a constant character string representing the type name.
    - `name_len`: Unsigned short integer representing the length of the type name.
- **Description**: Defines a structure with a type name and its length, used as a key in type serialization interfaces.


---
### fd\_types\_vt\_key\_t
- **Type**: ``struct``
- **Members**:
    - ``name``: A pointer to a constant character string representing the type name.
    - ``name_len``: An unsigned short integer representing the length of the type name.
- **Description**: Defines a structure that holds metadata for a type serializer, specifically the type name and its length.


---
### fd\_types\_vt
- **Type**: ``struct``
- **Members**:
    - ``key``: A union member used for `fd_map.c` that contains a `fd_types_vt_key_t` structure.
    - ``name``: A null-terminated string representing the type name, such as "vote".
    - ``name_len``: An unsigned short integer representing the length of the type name.
    - ``align``: An unsigned short integer representing the alignment requirement of the type.
    - ``hash``: An unsigned integer representing the hash value of the type.
    - ``new_``: A function pointer that creates a new instance of the type.
    - ``decode_footprint``: A function pointer that calculates the memory footprint needed to decode the type.
    - ``decode``: A function pointer that decodes the type from a binary context into an output buffer.
    - ``encode``: A function pointer that encodes the type into a binary context.
    - ``size``: A function pointer that returns the size of the type instance.
    - ``walk``: A function pointer that traverses the type structure, calling a callback function for each element.
- **Description**: Defines a virtual interface for a type serializer, providing a set of function pointers for creating, decoding, encoding, sizing, and walking through a type, along with metadata such as name, alignment, and hash.


---
### fd\_types\_vt\_t
- **Type**: ``struct``
- **Members**:
    - ``key``: A union member that holds a `fd_types_vt_key_t` structure for type identification.
    - ``name``: A pointer to a null-terminated string representing the type name.
    - ``name_len``: A `ushort` representing the length of the type name.
    - ``align``: A `ushort` representing the alignment requirement of the type.
    - ``hash``: A `uint` representing the hash value of the type.
    - ``new_``: A function pointer to create a new instance of the type.
    - ``decode_footprint``: A function pointer to calculate the memory footprint needed for decoding.
    - ``decode``: A function pointer to decode data into an output buffer.
    - ``encode``: A function pointer to encode data from an input buffer.
    - ``size``: A function pointer to get the size of the encoded data.
    - ``walk``: A function pointer to traverse the data structure with a callback function.
- **Description**: Defines a virtual interface for a type serializer, providing function pointers for creating, decoding, encoding, sizing, and traversing serialized data types, along with metadata such as type name, length, alignment, and hash.


# Function Declarations (Public API)

---
### fd\_types\_vt\_by\_name<!-- {{#callable_declaration:fd_types_vt_by_name}} -->
[View Source →](<../../../../../src/flamenco/types/fd_types_reflect.h#L69>)

Retrieves a type serializer interface by name.
- **Description**: Use this function to obtain a pointer to a type serializer interface that matches a given name. This is useful when you need to perform operations on a specific type using its serializer. The function must be called with a valid name and its length. It is important to ensure that the name corresponds to a type present in the `fd_types_vt_list`. If the name is not found, the function returns `NULL`. This function is typically used in contexts where dynamic type handling is required.
- **Inputs**:
    - `name`: A pointer to a null-terminated string representing the type name to search for. Must not be null.
    - `name_len`: The length of the type name. Must be a valid length corresponding to the actual length of the string pointed to by `name`.
- **Output**: A pointer to a `fd_types_vt_t` structure if a matching type is found, or `NULL` if no match is found.
- **See Also**: [`fd_types_vt_by_name`](<fd_types_reflect.c.md#fd_types_vt_by_name>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)