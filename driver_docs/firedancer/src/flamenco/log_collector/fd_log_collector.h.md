<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for a log collector system, including functions for logging, message serialization, and debugging.

# Purpose
The code is a C header file that defines a logging system for a program runtime environment. It provides functionality to collect, serialize, and manage log messages. The primary purpose of this code is to facilitate logging within a transaction execution context, allowing developers to record messages that are not consensus-critical but may be used by off-chain applications. The logging system is designed to handle messages in various formats, including single messages, multiple buffers, and formatted strings, with specific functions to manage message size and serialization.

The file includes several internal functions, such as [`fd_log_collector_private_push`](<#fd_log_collector_private_push>), which serializes log messages into a buffer, and [`fd_log_collector_private_debug`](<#fd_log_collector_private_debug>), which prints all logs for debugging purposes. It also defines a public API for initializing, deleting, and managing log collectors, including functions like [`fd_log_collector_init`](<#fd_log_collector_init>), [`fd_log_collector_msg`](<#fd_log_collector_msg>), and [`fd_log_collector_msg_many`](<#fd_log_collector_msg_many>). Additionally, the code provides specialized logging functions for specific program events, such as [`fd_log_collector_program_invoke`](<#fd_log_collector_program_invoke>) and [`fd_log_collector_program_success`](<#fd_log_collector_program_success>), which log program invocation and success messages, respectively. The header file is intended to be included in other C source files to provide logging capabilities within a larger software system.
# Imports and Dependencies

---
- `fd_log_collector_base.h`
- `../runtime/context/fd_exec_instr_ctx.h`
- `../runtime/context/fd_exec_txn_ctx.h`
- `../../ballet/base58/fd_base58.h`
- `../../ballet/base64/fd_base64.h`
- `stdio.h`
- `stdarg.h`


# Functions

---
### fd\_log\_collector\_private\_push<!-- {{#callable:fd_log_collector_private_push}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L35>)

Stores a log message in a buffer with a serialized format including a tag and message size.
- **Inputs**:
    - ``log``: A pointer to an `fd_log_collector_t` structure that contains the buffer where the log message will be stored.
    - ``msg``: A constant character pointer to the message that needs to be logged.
    - ``msg_sz``: An unsigned long integer representing the size of the message to be logged.
- **Logic and Control Flow**:
    - Retrieve the buffer and its current size from the `log` structure.
    - Determine if the message size requires 1 or 2 bytes for storage based on whether `msg_sz` is greater than 0x7F.
    - Store a predefined tag and the message size in the buffer, using 1 or 2 bytes as needed.
    - Copy the message into the buffer starting after the tag and size bytes.
    - Update the buffer size in the `log` structure to reflect the new total size after adding the message.
- **Output**: No return value; the function modifies the `log` structure's buffer and size in place.


---
### fd\_log\_collector\_init<!-- {{#callable:fd_log_collector_init}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L58>)

Initializes a log collector by setting its buffer size, log size, warning flag, and enabling or disabling it based on the input.
- **Inputs**:
    - ``log``: A pointer to an `fd_log_collector_t` structure that will be initialized.
    - ``enabled``: An integer flag indicating whether the log collector should be enabled (non-zero) or disabled (zero).
- **Logic and Control Flow**:
    - Set `log->buf_sz` to 0, initializing the buffer size to zero.
    - Set `log->log_sz` to 0, initializing the log size to zero.
    - Set `log->warn` to 0, initializing the warning flag to zero.
    - Set `log->disabled` to the negation of `enabled`, disabling the log collector if `enabled` is zero.
- **Output**: No return value; the function modifies the `fd_log_collector_t` structure pointed to by `log`.


---
### fd\_log\_collector\_check\_and\_truncate<!-- {{#callable:fd_log_collector_check_and_truncate}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L72>)

Checks if adding a message size to the current log size exceeds a maximum limit and truncates the log if necessary.
- **Inputs**:
    - ``log``: A pointer to an `fd_log_collector_t` structure representing the log collector.
    - ``msg_sz``: The size of the message to be added to the log.
- **Logic and Control Flow**:
    - Calculate `bytes_written` by adding `msg_sz` to `log->log_sz` using `fd_ulong_sat_add` to handle potential overflow.
    - Check if `bytes_written` is greater than or equal to `FD_LOG_COLLECTOR_MAX`.
    - If the log size exceeds the maximum limit and `log->warn` is not set, set `log->warn` to 1 and push a warning message 'Log truncated' using [`fd_log_collector_private_push`](<#fd_log_collector_private_push>).
    - Return `ULONG_MAX` if the log is truncated, otherwise return `bytes_written`.
- **Output**: Returns the new log size if it does not exceed the maximum limit, otherwise returns `ULONG_MAX` to indicate truncation.
- **Functions Called**:
    - [`fd_log_collector_private_push`](<#fd_log_collector_private_push>)


---
### fd\_log\_collector\_delete<!-- {{#callable:fd_log_collector_delete}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L88>)

Does nothing with the given `fd_log_collector_t` pointer.
- **Inputs**:
    - `log`: A constant pointer to an `fd_log_collector_t` object, which is not used in the function.
- **Logic and Control Flow**:
    - The function takes a single argument, `log`, which is a constant pointer to an `fd_log_collector_t` object.
    - The function does not perform any operations or modifications on the `log` object.
    - The function uses a cast to void to explicitly ignore the `log` parameter, indicating that it is intentionally unused.
- **Output**: No output or return value; the function is a no-op.


---
### fd\_log\_collector\_msg<!-- {{#callable:fd_log_collector_msg}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L145>)

Logs a message of specified size to the log collector if it is enabled and not exceeding the maximum allowed size.
- **Inputs**:
    - ``ctx``: A pointer to `fd_exec_instr_ctx_t`, which contains the transaction context and log collector.
    - ``msg``: A constant character pointer to the message to be logged.
    - ``msg_sz``: An unsigned long integer representing the size of the message to be logged.
- **Logic and Control Flow**:
    - Retrieve the log collector from the transaction context within `ctx`.
    - Check if the log collector is disabled; if so, return immediately without logging.
    - Call [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>) to determine the number of bytes that can be written without exceeding the maximum log size.
    - If the number of bytes that can be written is less than `ULONG_MAX`, update the log size and call [`fd_log_collector_private_push`](<#fd_log_collector_private_push>) to store the message in the log.
- **Output**: No output is returned as the function is `void`; it modifies the log collector state by potentially adding a new log entry.
- **Functions Called**:
    - [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>)
    - [`fd_log_collector_private_push`](<#fd_log_collector_private_push>)


---
### fd\_log\_collector\_msg\_many<!-- {{#callable:fd_log_collector_msg_many}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L172>)

Logs multiple messages by concatenating them and storing them in a log collector buffer, handling potential overflow and truncation.
- **Inputs**:
    - ``ctx``: A pointer to `fd_exec_instr_ctx_t`, which contains the transaction context and log collector.
    - ``num_buffers``: An integer representing the number of message buffer pairs (message and size) to process.
    - ``...``: A variable argument list containing pairs of message strings (`char const *`) and their sizes (`ulong`).
- **Logic and Control Flow**:
    - Check if the log collector is disabled; if so, return immediately.
    - Initialize a variable argument list to process the message buffers.
    - Calculate the total size of all messages and check for overflow using `fd_ulong_sat_add`.
    - Call [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>) to determine if the messages can be logged without exceeding the buffer limit.
    - If the messages can be logged, update the log size and prepare the buffer to store the messages with a tag and size header.
    - Iterate over the message buffers again, copying each message into the log buffer and updating the buffer size.
    - End the variable argument list processing.
- **Output**: No direct output; modifies the log collector's buffer and size if logging is successful.
- **Functions Called**:
    - [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>)


---
### fd\_log\_collector\_printf\_dangerous\_max\_127<!-- {{#callable:fd_log_collector_printf_dangerous_max_127}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L240>)

Logs a formatted message with a size limit of 127 bytes into a log collector buffer, ensuring no truncation occurs.
- **Inputs**:
    - `ctx`: A pointer to `fd_exec_instr_ctx_t`, which contains the transaction context and log collector.
    - `fmt`: A constant character pointer representing the format string for the message to log.
- **Logic and Control Flow**:
    - Check if the log collector is disabled using `FD_LIKELY`; if so, return immediately.
    - Initialize a buffer pointer and buffer size from the log collector within the transaction context.
    - Start a variable argument list to handle the format string and its parameters.
    - Use `vsnprintf` to write the formatted message into the buffer at an offset, ensuring the message size does not exceed `FD_LOG_COLLECTOR_PRINTF_MAX_1B`.
    - Check the result of `vsnprintf` to ensure no truncation occurred; if truncation is detected, trigger a custom test failure.
    - Determine the message size from the result of `vsnprintf` and check if the log should be included or truncated using [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>).
    - If the log is to be included, store a tag and message size in the buffer, then update the buffer size.
- **Output**: No direct output; modifies the log collector's buffer and size if the log is included.
- **Functions Called**:
    - [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>)


---
### fd\_log\_collector\_printf\_dangerous\_128\_to\_2k<!-- {{#callable:fd_log_collector_printf_dangerous_128_to_2k}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L298>)

Logs a formatted message into a buffer if the message size is between 128 and 2000 bytes, ensuring it does not exceed buffer limits.
- **Inputs**:
    - ``ctx``: A pointer to `fd_exec_instr_ctx_t`, which contains the transaction context and log collector.
    - ``fmt``: A constant character pointer representing the format string for the message to log.
    - ``...``: A variable number of arguments to format the message according to `fmt`.
- **Logic and Control Flow**:
    - Check if logging is disabled by examining `log->disabled`; if true, return immediately.
    - Initialize a buffer pointer `buf` and its size `buf_sz` from the log collector context.
    - Use `vsnprintf` to format the message into the buffer starting at `buf_sz + 3`, ensuring the message size does not exceed `FD_LOG_COLLECTOR_PRINTF_MAX_2B`.
    - Check if the formatted message size `res` is within the allowed range (128 to 2000 bytes); if not, trigger a custom test failure.
    - Call [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>) to determine if the message can be logged without exceeding the buffer size.
    - If the message can be logged, store a tag and the message size in the buffer, then update the buffer size `log->buf_sz`.
- **Output**: No direct output; modifies the log collector's buffer to include the new log message if conditions are met.
- **Functions Called**:
    - [`fd_log_collector_check_and_truncate`](<#fd_log_collector_check_and_truncate>)


---
### fd\_log\_collector\_printf\_inefficient\_max\_512<!-- {{#callable:fd_log_collector_printf_inefficient_max_512}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L348>)

Formats a message using a variable argument list and logs it with a maximum size of 512 bytes.
- **Inputs**:
    - `ctx`: A pointer to `fd_exec_instr_ctx_t`, which provides the execution context for the log message.
    - `fmt`: A constant character pointer representing the format string for the message.
- **Logic and Control Flow**:
    - Declare a character array `msg` with a size of 512 bytes to store the formatted message.
    - Initialize a `va_list` variable `ap` to handle the variable arguments.
    - Use `va_start` to initialize `ap` with the variable arguments following `fmt`.
    - Call `vsnprintf` to format the message into `msg` using `fmt` and `ap`, and store the result size in `msg_sz`.
    - Use `va_end` to clean up the `va_list` variable `ap`.
    - Check if `msg_sz` is non-negative and less than the size of `msg` using `FD_TEST_CUSTOM`; if not, report a truncation error.
    - Call [`fd_log_collector_msg`](<#fd_log_collector_msg>) to log the message using the context `ctx`, the formatted message `msg`, and its size `msg_sz`.
- **Output**: No return value; the function logs the formatted message.
- **Functions Called**:
    - [`fd_log_collector_msg`](<#fd_log_collector_msg>)


---
### fd\_log\_collector\_program\_invoke<!-- {{#callable:fd_log_collector_program_invoke}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L384>)

Logs the invocation of a program by encoding its public key to Base58 and printing a formatted message.
- **Inputs**:
    - ``ctx``: A pointer to an `fd_exec_instr_ctx_t` structure, which contains the execution context for the instruction, including transaction context and instruction details.
- **Logic and Control Flow**:
    - Check if the log collector is disabled by evaluating `ctx->txn_ctx->log_collector.disabled`; if true, return immediately.
    - Retrieve the public key of the program from `ctx->txn_ctx->account_keys` using the program ID from `ctx->instr->program_id`.
    - Encode the program's public key to a Base58 string and store it in `ctx->program_id_base58`.
    - Log a message using [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>), which includes the Base58-encoded program ID and the instruction stack size.
- **Output**: No output is returned as the function is `void`; it performs logging as a side effect.
- **Functions Called**:
    - [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>)


---
### fd\_log\_collector\_program\_log<!-- {{#callable:fd_log_collector_program_log}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L403>)

Logs a message with the prefix 'Program log: ' using the log collector.
- **Inputs**:
    - ``ctx``: A pointer to the `fd_exec_instr_ctx_t` structure, which contains the execution context for the log operation.
    - ``msg``: A constant character pointer to the message to log, which must be a valid UTF-8 string.
    - ``msg_sz``: An unsigned long integer representing the size of the message to log.
- **Logic and Control Flow**:
    - Calls the [`fd_log_collector_msg_many`](<#fd_log_collector_msg_many>) function with the execution context `ctx`, the number of buffers as 2, and the message components: the prefix 'Program log: ' and the actual message `msg` with its size `msg_sz`.
- **Output**: No return value; the function logs the message with the specified prefix.
- **Functions Called**:
    - [`fd_log_collector_msg_many`](<#fd_log_collector_msg_many>)


---
### fd\_log\_collector\_program\_return<!-- {{#callable:fd_log_collector_program_return}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L416>)

Logs the program return data in base64 format if logging is enabled.
- **Inputs**:
    - `ctx`: A pointer to `fd_exec_instr_ctx_t`, which contains the execution context including transaction context and program ID.
- **Logic and Control Flow**:
    - Check if logging is disabled by evaluating `ctx->txn_ctx->log_collector.disabled`. If true, return immediately.
    - Encode the return data from `ctx->txn_ctx->return_data.data` to a base64 string and store it in `return_base64`.
    - Calculate the size of the message to be logged, which includes the length of the program ID and the base64 encoded return data.
    - If the message size is less than or equal to 127, use [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>) to log the message.
    - If the message size is greater than 127, use [`fd_log_collector_printf_dangerous_128_to_2k`](<#fd_log_collector_printf_dangerous_128_to_2k>) to log the message.
- **Output**: No return value; the function logs the program return data if logging is enabled.
- **Functions Called**:
    - [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>)
    - [`fd_log_collector_printf_dangerous_128_to_2k`](<#fd_log_collector_printf_dangerous_128_to_2k>)


---
### fd\_log\_collector\_program\_success<!-- {{#callable:fd_log_collector_program_success}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L438>)

Logs a success message for a program using its Base58 encoded ID.
- **Inputs**:
    - ``ctx``: A pointer to `fd_exec_instr_ctx_t`, which contains the execution context including the program ID in Base58 format.
- **Logic and Control Flow**:
    - Calls [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>) with the context and a formatted string to log the success message.
    - The formatted string includes the program ID in Base58 format.
- **Output**: No return value; the function logs a message.
- **Functions Called**:
    - [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>)


---
### fd\_log\_collector\_program\_failure<!-- {{#callable:fd_log_collector_program_failure}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L455>)

Logs a program failure message with error details if logging is enabled and the error message is not empty.
- **Inputs**:
    - ``ctx``: A pointer to `fd_exec_instr_ctx_t`, which contains the execution context including transaction context and program ID.
- **Logic and Control Flow**:
    - Checks if logging is disabled by evaluating `ctx->txn_ctx->log_collector.disabled`; if true, returns immediately.
    - Declares external functions for error string retrieval: `fd_vm_ebpf_strerror`, `fd_vm_syscall_strerror`, and `fd_executor_instr_strerror`.
    - Initializes a buffer `custom_err` for custom error messages and sets `err` to point to `custom_err`.
    - Retrieves the transaction context `txn_ctx` from `ctx`.
    - Checks if the error kind is `FD_EXECUTOR_ERR_KIND_INSTR` and the error is `FD_EXECUTOR_INSTR_ERR_CUSTOM_ERR`; if true, formats a custom error message into `custom_err`.
    - If there is an execution error, determines the error message using the appropriate external function based on `exec_err_kind`.
    - Checks if the error message `err` is not empty; if not empty, formats an error prefix and logs the complete error message using [`fd_log_collector_msg_many`](<#fd_log_collector_msg_many>).
- **Output**: No return value; the function logs an error message if conditions are met.
- **Functions Called**:
    - [`fd_log_collector_msg_many`](<#fd_log_collector_msg_many>)


---
### fd\_log\_collector\_program\_consumed<!-- {{#callable:fd_log_collector_program_consumed}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L498>)

Logs the consumption of compute units by a program using a formatted message.
- **Inputs**:
    - ``ctx``: A pointer to `fd_exec_instr_ctx_t`, which contains the execution context including the program ID.
    - ``consumed``: The number of compute units consumed by the program.
    - ``total``: The total number of compute units available.
- **Logic and Control Flow**:
    - Formats a message string using the program ID from `ctx`, and the `consumed` and `total` compute units.
    - Calls [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>) to log the formatted message, ensuring the message size is less than 127 bytes.
- **Output**: No return value; the function logs a message.
- **Functions Called**:
    - [`fd_log_collector_printf_dangerous_max_127`](<#fd_log_collector_printf_dangerous_max_127>)


---
### fd\_log\_collector\_debug\_get\_msg\_sz<!-- {{#callable:fd_log_collector_debug_get_msg_sz}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L507>)

Calculates the size of a log message from a buffer and updates the buffer pointer.
- **Inputs**:
    - ``buf``: A pointer to a pointer to an unsigned character array, representing the buffer containing the log message.
- **Logic and Control Flow**:
    - Retrieve the first byte of the message size from the buffer at index 1 and store it in `msg0`.
    - Retrieve the second byte of the message size from the buffer at index 2 and store it in `msg1`.
    - Determine if the message size requires two bytes by checking if `msg0` is greater than 0x7F, storing the result in `needs_2b`.
    - Calculate the message size `msg_sz` using a conditional operation: if `needs_2b` is true, combine `msg1` and `msg0` to form a 2-byte size; otherwise, use `msg0` as the size.
    - Increment the buffer pointer by 2 plus the value of `needs_2b` to move past the message size bytes.
- **Output**: Returns the calculated message size as an unsigned short integer.


---
### fd\_log\_collector\_debug\_len<!-- {{#callable:fd_log_collector_debug_len}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L517>)

Calculates the number of log messages in a log collector buffer.
- **Inputs**:
    - ``log``: A pointer to a constant `fd_log_collector_t` structure representing the log collector.
- **Logic and Control Flow**:
    - Initialize a variable `len` to 0 to count the number of log messages.
    - Set a pointer `cur` to the start of the log buffer `log->buf`.
    - Iterate over the log buffer until `cur` reaches the end of the buffer (`log->buf + log->buf_sz`).
    - In each iteration, call [`fd_log_collector_debug_get_msg_sz`](<#fd_log_collector_debug_get_msg_sz>) to get the size of the current log message and update `cur` to point to the next message.
    - Increment `len` for each log message encountered.
    - Return the total count of log messages stored in `len`.
- **Output**: Returns an `ulong` representing the number of log messages in the log collector buffer.
- **Functions Called**:
    - [`fd_log_collector_debug_get_msg_sz`](<#fd_log_collector_debug_get_msg_sz>)


---
### fd\_log\_collector\_debug\_get<!-- {{#callable:fd_log_collector_debug_get}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L528>)

Retrieves a specific log message from a log collector buffer based on the log index.
- **Inputs**:
    - ``log``: A pointer to a `fd_log_collector_t` structure that contains the log buffer.
    - ``log_num``: An unsigned long integer representing the index of the log message to retrieve.
    - ``msg``: A pointer to a `uchar` pointer where the function will store the address of the retrieved log message, if not NULL.
    - ``msg_sz``: A pointer to an unsigned long where the function will store the size of the retrieved log message, if not NULL.
- **Logic and Control Flow**:
    - Initialize `cur` to point to the start of the log buffer in `log` and `cur_sz` to 0.
    - Retrieve the size of the first log message using [`fd_log_collector_debug_get_msg_sz`](<#fd_log_collector_debug_get_msg_sz>) and update `cur` accordingly.
    - Iterate while `log_num` is greater than 0, moving `cur` to the next log message and updating `cur_sz` with the size of the current message, decrementing `log_num` each time.
    - If `msg` is not NULL, set `*msg` to point to the current log message.
    - If `msg_sz` is not NULL, set `*msg_sz` to the size of the current log message.
    - Return the pointer `cur` to the current log message.
- **Output**: A pointer to the current log message in the buffer.
- **Functions Called**:
    - [`fd_log_collector_debug_get_msg_sz`](<#fd_log_collector_debug_get_msg_sz>)


---
### fd\_log\_collector\_debug\_sprintf<!-- {{#callable:fd_log_collector_debug_sprintf}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L547>)

Formats log messages from a log collector into a string, optionally filtering out null characters, and returns the size of the formatted output.
- **Inputs**:
    - ``log``: A pointer to a `fd_log_collector_t` structure containing the log buffer and its size.
    - ``out``: A pointer to a character array where the formatted log messages will be stored.
    - ``filter_zero``: An integer flag indicating whether to filter out null characters (non-zero value) or not (zero value).
- **Logic and Control Flow**:
    - Initialize `out_sz` to 0 to track the size of the output string.
    - Set `pos` to 0 and `buf` to the start of the log buffer.
    - Iterate over the log buffer while `pos` is less than the buffer size.
    - For each log message, get its size using [`fd_log_collector_debug_get_msg_sz`](<#fd_log_collector_debug_get_msg_sz>).
    - If `filter_zero` is set, copy non-null characters from the log message to `out`, incrementing `out_sz` for each character copied.
    - If `filter_zero` is not set, copy the entire log message to `out` using `fd_memcpy`, and update `out_sz` by the size of the message.
    - Append a newline character to `out` and increment `out_sz`.
    - Move `buf` to the next log message and update `pos`.
    - After processing all messages, remove the last newline character by decrementing `out_sz`, if `out_sz` is not zero.
    - Terminate the output string with a null character.
    - Return the size of the formatted output string (`out_sz`).
- **Output**: Returns the size of the formatted output string as an unsigned long integer.
- **Functions Called**:
    - [`fd_log_collector_debug_get_msg_sz`](<#fd_log_collector_debug_get_msg_sz>)


---
### fd\_log\_collector\_private\_debug<!-- {{#callable:fd_log_collector_private_debug}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L586>)

Formats and prints all logs from a log collector to the warning log output.
- **Inputs**:
    - ``log``: A pointer to a constant `fd_log_collector_t` structure that contains the logs to be printed.
- **Logic and Control Flow**:
    - Declare a character array `out` with a size of `FD_LOG_COLLECTOR_MAX + FD_LOG_COLLECTOR_EXTRA` to store the formatted log output.
    - Call [`fd_log_collector_debug_sprintf`](<#fd_log_collector_debug_sprintf>) with `log`, `out`, and `1` as arguments to format the logs into the `out` array, filtering out null characters.
    - Use `FD_LOG_WARNING` to print the formatted logs enclosed between '-----' lines to the warning log output.
- **Output**: No return value; the function outputs formatted logs to the warning log.
- **Functions Called**:
    - [`fd_log_collector_debug_sprintf`](<#fd_log_collector_debug_sprintf>)


# Function Declarations (Public API)

---
### fd\_log\_collector\_private\_debug<!-- {{#callable_declaration:fd_log_collector_private_debug}} -->
[View Source →](<../../../../../src/flamenco/log_collector/fd_log_collector.h#L55>)

Prints all logs for debugging purposes.
- **Description**: Use this function to print all logs collected in the `fd_log_collector_t` structure for debugging purposes. This function is intended for internal use only and should not be called directly in production code. It formats the logs into a human-readable string and outputs them with warning-level logging. Ensure that the log collector is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `log`: A pointer to a constant `fd_log_collector_t` structure containing the logs to be printed. Must not be null. The caller retains ownership of the log collector.
- **Output**: None
- **See Also**: [`fd_log_collector_private_debug`](<#fd_log_collector_private_debug>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)