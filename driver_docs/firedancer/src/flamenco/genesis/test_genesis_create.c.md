<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests the creation of a genesis block with various configurations and options in Firedancer.

# Purpose
The code is an executable C program designed to create and configure a genesis block for a blockchain system, likely within the context of a Firedancer runtime environment. It includes the necessary headers, `fd_genesis_create.h` and `fd_types.h`, which suggest that it relies on external definitions and functions related to genesis block creation and data types. The program initializes a logging system, sets up memory for scratch space, and configures minimal genesis block options such as public keys and timing parameters.

The main functionality involves creating a genesis block with specified options, including public keys for identity, faucet, stake, and vote, as well as parameters like creation time and ticks per slot. The program tests the creation of the genesis block with different configurations, including adding initial accounts and feature gates. It uses a buffer to serialize the genesis block data and includes tests to ensure the buffer size is adequate. The program concludes by logging a success message and cleaning up resources. The presence of a `TODO` comment indicates that further integration with the Firedancer runtime is intended for verification purposes.
# Imports and Dependencies

---
- `fd_genesis_create.h`
- `../types/fd_types.h`


# Functions

---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../../src/flamenco/genesis/test_genesis_create.c#L6>)

Initializes the environment, configures genesis options, tests buffer serialization, and finalizes the process.
- **Inputs**:
    - `argc`: The number of command-line arguments.
    - `argv`: An array of command-line argument strings.
- **Logic and Control Flow**:
    - Calls `fd_boot` to initialize the environment with command-line arguments.
    - Retrieves the current log level and sets it to a minimum of 4 to suppress warning logs.
    - Attaches scratch memory using `fd_scratch_attach` with predefined memory buffers.
    - Initializes `fd_genesis_options_t` with minimal configuration values for public keys, creation time, ticks per slot, and target tick duration.
    - Tests [`fd_genesis_create`](<fd_genesis_create.c.md#fd_genesis_create>) with a NULL buffer to ensure it fails as expected when the buffer is too small.
    - Restores the original log level after the test.
    - Serializes genesis options to a buffer and checks the result size to ensure successful serialization.
    - Modifies options to add initial accounts and tests serialization again.
    - Disables all features in `fd_features_t`, sets `full_inflation_vote` to 0, and tests serialization with updated options.
    - Logs a notice indicating the process passed.
    - Detaches scratch memory using `fd_scratch_detach` and halts the process with `fd_halt`.
- **Output**: Returns 0 to indicate successful execution.
- **Functions Called**:
    - [`fd_genesis_create`](<fd_genesis_create.c.md#fd_genesis_create>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)