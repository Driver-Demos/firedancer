<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines the "solcap" data format for capturing Solana runtime data, using C structs and Protobufs.

# Purpose
The code defines the `solcap` data format, which is a portable file format for capturing Solana runtime data. This format is suitable for replay and debugging purposes. The file structure includes a file header, a file Protobuf object, and multiple chunks, each with its own header, Protobuf object, and data. The file header provides a brief description of the file's content type and points to the first chunk. Metadata, such as slot bounds, is stored in a Protobuf blob following the header. The code specifies that the byte order is little endian and that there should be no gaps between slots. It also defines several magic numbers to identify different chunk types, such as account chunks and bank hash preimage captures.

The code includes definitions for several structures, such as `fd_solcap_fhdr_t` for the file header and `fd_solcap_chunk_t` for the chunk header. It also defines `fd_solcap_account_tbl_t`, which represents an entry in the table of accounts changed in a block. The code uses a mix of C structs and Protobufs to support schema additions while maintaining fixed-size structures for file navigation. The code also defines several hardcoded limits, such as the size of the file header and the maximum size of various Protobuf structures. The file is intended to be included in other C files, as indicated by the use of include guards and the inclusion of a base header file.
# Imports and Dependencies

---
- `../fd_flamenco_base.h`


# Data Structures

---
### fd\_solcap\_fhdr
- **Type**: ``struct``
- **Members**:
    - `magic`: A `ulong` that must equal `FD_SOLCAP_V1_NULL_MAGIC` to identify the file type.
    - `chunk0_foff`: A `ulong` indicating the offset of the first chunk from the beginning of the stream.
    - `meta_sz`: A `uint` representing the size of the metadata Protobuf `fd_solcap_FileMeta`.
    - `_pad14`: An array of three `uint` used for padding to align the structure.
- **Description**: Defines the file header for a capture file in the Solana capture data format, providing essential information about the file type and the location of the first data chunk, along with metadata size for further processing.


---
### fd\_solcap\_fhdr\_t
- **Type**: ``struct``
- **Members**:
    - `magic`: A magic number that identifies the file type, expected to be `FD_SOLCAP_V1_NULL_MAGIC`.
    - `chunk0_foff`: The offset of the first chunk from the beginning of the stream.
    - `meta_sz`: The size of the metadata Protobuf object.
    - `_pad14`: Padding to align the structure, consisting of three `uint` elements.
- **Description**: Defines the file header for a capture file in the 'solcap' format, which includes a magic number for file identification, an offset to the first chunk, and metadata size information, with padding for alignment.


---
### fd\_solcap\_chunk\_t
- **Type**: ``struct``
- **Members**:
    - `magic`: Contains a unique identifier for the chunk type.
    - `total_sz`: Indicates the total size of the chunk including the header and data.
    - `meta_coff`: Specifies the offset from the chunk header to the start of the metadata.
    - `meta_sz`: Represents the size of the metadata following the chunk header.
    - `_pad18`: Reserved padding to align the structure size.
- **Description**: Defines the fixed-size header of a chunk in the Solana capture data format, which includes metadata offsets and sizes, and is followed by a serialized Protobuf blob containing chunk-specific information.


---
### fd\_solcap\_account\_tbl
- **Type**: ``struct``
- **Members**:
    - `key`: An array of 32 unsigned characters representing the account address.
    - `acc_coff`: A long integer indicating the chunk offset to the account chunk.
    - `_pad28`: An array of 5 unsigned long integers used for padding.
- **Description**: Represents an entry in the table of accounts that were changed in a block, with `key` as the account address and `acc_coff` pointing to the chunk offset of the account's data.


---
### fd\_solcap\_account\_tbl\_t
- **Type**: ``struct``
- **Members**:
    - `key`: An array of 32 unsigned characters representing the account address.
    - `acc_coff`: A long integer indicating the chunk offset to the account chunk.
    - `_pad28`: An array of 5 unsigned long integers used for padding.
- **Description**: Represents an entry in the table of accounts that were changed in a block, with `key` as the account address, `acc_coff` pointing to the chunk offset of the account chunk, and `_pad28` used for padding.


# Functions

---
### fd\_solcap\_is\_chunk\_magic<!-- {{#callable:fd_solcap_is_chunk_magic}} -->
[View Source →](<../../../../../src/flamenco/capture/fd_solcap_proto.h#L96>)

Checks if a given magic number corresponds to a null chunk in the Solcap format.
- **Inputs**:
    - `magic`: An unsigned long integer representing the magic number to check.
- **Logic and Control Flow**:
    - Perform a bitwise AND operation between `magic` and `FD_SOLCAP_V1_MAGIC_MASK`.
    - Compare the result of the bitwise operation to `FD_SOLCAP_V1_NULL_MAGIC`.
    - Return 1 if the result matches `FD_SOLCAP_V1_NULL_MAGIC`, otherwise return 0.
- **Output**: Returns an integer indicating whether the magic number is a null chunk (1 for true, 0 for false).



---
Made with ❤️ by [Driver](https://www.driver.ai/)