<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines constants, error codes, and APIs for virtual machine operations, tracing, and syscalls in Firedancer.

# Purpose
The code is a C header file that defines constants, error codes, and function prototypes for a virtual machine (VM) used in the Firedancer project. It includes definitions for various error codes related to VM operations, syscall errors, and specific errors for sBPF (Solana's Berkeley Packet Filter) validation. The file also defines constants for VM register, stack, heap, and memory map configurations, as well as compute budget limits for different operations. These constants are used to manage the resources and operations within the VM environment.

Additionally, the file provides function prototypes for handling VM error messages, disassembling instructions and programs, tracing VM events, and managing syscalls. The [`fd_vm_strerror`](<#fd_vm_strerror>) function converts error codes into human-readable strings. The disassembly functions ([`fd_vm_disasm_instr`](<#fd_vm_disasm_instr>) and [`fd_vm_disasm_program`](<#fd_vm_disasm_program>)) are used to convert VM instructions and programs into a readable format. The trace functions (`fd_vm_trace_*`) manage the recording and retrieval of VM execution events, which can be used for debugging and performance analysis. The syscall functions (`fd_vm_syscall_*`) manage the registration and execution of system calls within the VM, allowing for custom and predefined operations to be executed. The file is intended to be included in other C source files to provide these functionalities as part of a larger VM implementation.
# Imports and Dependencies

---
- `../fd_flamenco_base.h`
- `../../ballet/sbpf/fd_sbpf_loader.h`
- `../features/fd_features.h`


# Data Structures

---
### fd\_vm\_trace\_event\_exe
- **Type**: ``struct``
- **Members**:
    - ``info``: Event info bit field.
    - ``pc``: Program counter.
    - ``ic``: Instruction count.
    - ``cu``: Compute units.
    - ``ic_correction``: Instruction count correction.
    - ``frame_cnt``: Frame count.
    - ``reg``: Array of registers with size `FD_VM_REG_CNT`.
    - ``text``: Array of two `ulong` values, where `text[1]` is used if the event has valid clear.
- **Description**: Represents a trace event for a virtual machine execution, capturing details such as program counter, instruction count, compute units, and register states. The structure is aligned to 8 bytes and includes fields for event information, frame count, and a text array for instruction data.


---
### fd\_vm\_trace\_event\_exe\_t
- **Type**: ``struct``
- **Members**:
    - ``info``: Event info bit field.
    - ``pc``: Program counter.
    - ``ic``: Instruction counter.
    - ``cu``: Compute units.
    - ``ic_correction``: Instruction counter correction.
    - ``frame_cnt``: Frame count.
    - ``reg``: Array of registers with size `FD_VM_REG_CNT`.
    - ``text``: Array of two `ulong` values representing instruction text.
- **Description**: Represents an execution trace event in a virtual machine, capturing details such as program counter, instruction counter, compute units, frame count, register states, and instruction text.


---
### fd\_vm\_trace\_event\_mem
- **Type**: ``struct``
- **Members**:
    - ``info``: Event info bit field.
    - ``vaddr``: VM address range associated with the event.
    - ``sz``: Size of the memory range associated with the event.
- **Description**: Represents a memory trace event in a virtual machine, capturing information about memory access attempts, including the address range and size of the memory involved. The structure is aligned to 8 bytes and may include user data if the event is valid, with padding to maintain alignment.


---
### fd\_vm\_trace\_event\_mem\_t
- **Type**: ``struct``
- **Members**:
    - ``info``: Event info bit field.
    - ``vaddr``: VM address range associated with the event.
    - ``sz``: Size of the memory range involved in the event.
- **Description**: Represents a memory trace event in a virtual machine, capturing details about memory access attempts, including the address range and size of the access. The structure is aligned to 8 bytes and can store user data if the event is valid, with padding to maintain alignment.


---
### fd\_vm\_trace
- **Type**: ``struct``
- **Members**:
    - ``magic``: A unique identifier set to `FD_VM_TRACE_MAGIC` to verify the trace structure.
    - ``event_max``: Specifies the total number of bytes available for event storage.
    - ``event_data_max``: Defines the maximum number of bytes that can be captured per data event.
    - ``event_sz``: Indicates the number of bytes currently used in the event storage.
- **Description**: The `fd_vm_trace` structure is used to manage and store trace events in a virtual machine environment. It includes fields to identify the structure (`magic`), manage the storage capacity (`event_max`), limit the data captured per event (`event_data_max`), and track the current usage of the storage (`event_sz`). This structure is aligned to 8 bytes to ensure proper memory alignment for efficient access and manipulation.


---
### fd\_vm\_trace\_t
- **Type**: ``struct``
- **Members**:
    - ``magic``: Contains a magic number to identify the trace structure.
    - ``event_max``: Specifies the maximum number of bytes available for event storage.
    - ``event_data_max``: Indicates the maximum number of bytes that can be captured per data event.
    - ``event_sz``: Tracks the number of bytes currently used in event storage.
- **Description**: Defines a structure for tracing events in a virtual machine, including execution and memory access events. It uses a magic number to verify the structure's integrity and manages storage for events with specified maximum sizes. The structure allows for recording and managing trace events, providing a mechanism to capture and analyze the behavior of the virtual machine during execution.


# Functions

---
### fd\_vm\_trace\_event<!-- {{#callable:fd_vm_trace_event}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L569>)

Returns a pointer to the memory location immediately following the `fd_vm_trace_t` structure in memory.
- **Inputs**:
    - `trace`: A pointer to a constant `fd_vm_trace_t` structure, representing the trace object.
- **Logic and Control Flow**:
    - Calculates the memory address immediately after the `fd_vm_trace_t` structure by adding 1 to the `trace` pointer.
    - Casts the resulting address to a `void` pointer and returns it.
- **Output**: A `void` pointer to the memory location immediately following the `fd_vm_trace_t` structure.


---
### fd\_vm\_trace\_event\_sz<!-- {{#callable:fd_vm_trace_event_sz}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L570>)

Retrieves the number of bytes currently used for trace events in a given `fd_vm_trace_t` structure.
- **Inputs**:
    - `trace`: A pointer to a constant `fd_vm_trace_t` structure, which contains information about the trace events.
- **Logic and Control Flow**:
    - Accesses the `event_sz` field of the `fd_vm_trace_t` structure pointed to by `trace`.
    - Returns the value of the `event_sz` field, which represents the number of bytes used for trace events.
- **Output**: Returns an `ulong` representing the number of bytes of trace events stored.


---
### fd\_vm\_trace\_event\_max<!-- {{#callable:fd_vm_trace_event_max}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L571>)

Retrieves the maximum number of bytes allocated for event storage in a virtual machine trace.
- **Inputs**:
    - `trace`: A pointer to a constant `fd_vm_trace_t` structure, which contains information about the virtual machine trace.
- **Logic and Control Flow**:
    - Accesses the `event_max` field of the `fd_vm_trace_t` structure pointed to by `trace`.
    - Returns the value of the `event_max` field.
- **Output**: Returns an `ulong` representing the maximum number of bytes allocated for event storage in the trace.


---
### fd\_vm\_trace\_event\_data\_max<!-- {{#callable:fd_vm_trace_event_data_max}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L572>)

Retrieves the maximum number of bytes that can be captured per data event from a `fd_vm_trace_t` structure.
- **Inputs**:
    - `trace`: A pointer to a constant `fd_vm_trace_t` structure from which the maximum event data size is retrieved.
- **Logic and Control Flow**:
    - Accesses the `event_data_max` field of the `fd_vm_trace_t` structure pointed to by `trace`.
    - Returns the value of `event_data_max`.
- **Output**: Returns an `ulong` representing the maximum number of bytes that can be captured per data event.


---
### fd\_vm\_trace\_event\_info<!-- {{#callable:fd_vm_trace_event_info}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L579>)

Calculates an event information value by combining a type and a validity flag into a single unsigned long integer.
- **Inputs**:
    - `type`: An integer representing the event type, expected to be one of the `FD_VM_TRACE_EVENT_TYPE_*` constants.
    - `valid`: An integer representing the validity of the event, expected to be either 0 or 1.
- **Logic and Control Flow**:
    - Shift the `valid` value left by 2 bits.
    - Perform a bitwise OR operation between the shifted `valid` value and the `type` value.
    - Cast the result to an `unsigned long` and return it.
- **Output**: An `unsigned long` integer that encodes the event type and validity information.


---
### fd\_vm\_trace\_event\_info\_type<!-- {{#callable:fd_vm_trace_event_info_type}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L581>)

Extracts the event type from the `info` bit field by masking and converting it to an integer.
- **Inputs**:
    - `info`: An unsigned long integer representing the event information bit field.
- **Logic and Control Flow**:
    - Apply a bitwise AND operation between `info` and `3UL` to isolate the last two bits.
    - Cast the result to an integer and return it.
- **Output**: An integer representing the event type, extracted from the `info` bit field.


---
### fd\_vm\_trace\_event\_info\_valid<!-- {{#callable:fd_vm_trace_event_info_valid}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L582>)

Extracts the validity bit from the `info` bit field by shifting it right by 2 bits.
- **Inputs**:
    - `info`: An unsigned long integer representing the event info bit field.
- **Logic and Control Flow**:
    - Shift the `info` value right by 2 bits to isolate the validity bit.
    - Cast the result to an integer.
- **Output**: An integer representing the validity of the event, which is either 0 or 1.


---
### fd\_vm\_trace\_reset<!-- {{#callable:fd_vm_trace_reset}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L588>)

Resets the event size of a virtual machine trace to zero.
- **Inputs**:
    - `trace`: A pointer to an `fd_vm_trace_t` structure, which represents the trace object to reset.
- **Logic and Control Flow**:
    - Check if the `trace` pointer is NULL using `FD_UNLIKELY`; if it is NULL, return `FD_VM_ERR_INVAL`.
    - Set the `event_sz` field of the `trace` structure to 0, indicating that all events are cleared.
    - Return `FD_VM_SUCCESS` to indicate successful reset.
- **Output**: Returns `FD_VM_SUCCESS` (0) on success or `FD_VM_ERR_INVAL` (-1) if the `trace` pointer is NULL.


---
### fd\_vm\_syscall\_register\_all<!-- {{#callable:fd_vm_syscall_register_all}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L696>)

Registers all syscalls for a given `syscalls` object, using a default slot and deployment flag.
- **Inputs**:
    - `syscalls`: A pointer to an `fd_sbpf_syscalls_t` structure where syscalls will be registered.
    - `is_deploy`: An unsigned character flag indicating if the syscalls are for deployment (1) or execution (0).
- **Logic and Control Flow**:
    - Calls [`fd_vm_syscall_register_slot`](<syscall/fd_vm_syscall.c.md#fd_vm_syscall_register_slot>) with `syscalls`, a slot value of `0UL`, `NULL` for features, and `is_deploy`.
- **Output**: Returns an integer status code from [`fd_vm_syscall_register_slot`](<syscall/fd_vm_syscall.c.md#fd_vm_syscall_register_slot>), indicating success or failure.
- **Functions Called**:
    - [`fd_vm_syscall_register_slot`](<syscall/fd_vm_syscall.c.md#fd_vm_syscall_register_slot>)


# Function Declarations (Public API)

---
### fd\_vm\_strerror<!-- {{#callable_declaration:fd_vm_strerror}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L120>)

Converts an error code to a human-readable string.
- **Description**: Use this function to obtain a human-readable description of a Firedancer VM error code. It accepts both standard Firedancer error codes and specific VM execution and validation error codes. The function returns a constant string that describes the error associated with the provided code. If the error code is not recognized, it returns a default message indicating an unknown error. The returned string is always non-null and has an infinite lifetime.
- **Inputs**:
    - `err`: An integer representing the error code to convert. Valid values include standard Firedancer error codes and specific VM error codes. If the code is not recognized, the function returns a default message.
- **Output**: A constant character pointer to a string describing the error. The string is non-null and has an infinite lifetime.
- **See Also**: [`fd_vm_strerror`](<fd_vm.c.md#fd_vm_strerror>)  (Implementation)


---
### fd\_vm\_disasm\_instr<!-- {{#callable_declaration:fd_vm_disasm_instr}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L423>)

Disassembles a single instruction from a text section.
- **Description**: Use this function to convert a single instruction from a text section into a human-readable format. It appends the disassembled instruction to the output buffer, updating the output length accordingly. Ensure that the input parameters are valid and that the output buffer has sufficient space to accommodate the disassembled instruction. The function returns an error code if any input is invalid or if the output buffer is insufficient.
- **Inputs**:
    - `text`: Pointer to the text section containing the instruction to disassemble. Must not be null and should have at least one element.
    - `text_cnt`: Number of words available in the text section. Must be greater than zero.
    - `pc`: Program counter corresponding to the first word of the instruction. Used for disassembly context.
    - `syscalls`: Pointer to a syscall mapping for annotating syscalls in the disassembly. Can be null if no annotation is needed.
    - `out`: Pointer to the output buffer where the disassembled instruction will be appended. Must not be null and should have space for at least one character.
    - `out_max`: Maximum number of bytes available in the output buffer. Must be greater than zero.
    - `_out_len`: Pointer to the current length of the output buffer content. Must not be null and should be less than 'out_max'.
- **Output**: Returns FD_VM_SUCCESS on success, updating the output buffer and length. Returns FD_VM_ERR_INVAL on invalid input, leaving the output unchanged. Returns FD_VM_ERR_FULL if the output buffer is insufficient, updating the output up to the point of error.
- **See Also**: [`fd_vm_disasm_instr`](<fd_vm_disasm.c.md#fd_vm_disasm_instr>)  (Implementation)


---
### fd\_vm\_disasm\_program<!-- {{#callable_declaration:fd_vm_disasm_program}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L467>)

Disassembles a program into a human-readable format.
- **Description**: Use this function to convert a sequence of instructions into a readable format, which can help in debugging or analyzing the program. Ensure that the `text` array is not null and contains the number of instructions specified by `text_cnt`. The `out` buffer must be large enough to hold the disassembled output, and `_out_len` should initially reflect the current length of the string in `out`. The function updates `_out_len` to reflect the new length after appending the disassembled output. Handle potential errors such as invalid input or insufficient buffer space.
- **Inputs**:
    - `text`: Pointer to an array of instructions to disassemble. Must not be null if `text_cnt` is greater than zero.
    - `text_cnt`: Number of instructions in the `text` array. Must be non-negative.
    - `syscalls`: Pointer to a syscall mapping for annotating syscalls in the disassembly. Can be null if no annotation is needed.
    - `out`: Buffer to store the disassembled output. Must not be null and should have enough space to accommodate the output.
    - `out_max`: Maximum number of bytes that can be written to the `out` buffer. Must be greater than zero.
    - `_out_len`: Pointer to a variable holding the current length of the string in `out`. Must not be null and should be less than `out_max` initially.
- **Output**: Returns an integer status code: `FD_VM_SUCCESS` on success, `FD_VM_ERR_INVAL` for invalid input, `FD_VM_ERR_UNSUP` if there are too many functions or labels, `FD_VM_ERR_FULL` if the output buffer is insufficient, and `FD_VM_ERR_IO` for formatting errors.
- **See Also**: [`fd_vm_disasm_program`](<fd_vm_disasm.c.md#fd_vm_disasm_program>)  (Implementation)


---
### fd\_vm\_trace\_align<!-- {{#callable_declaration:fd_vm_trace_align}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L531>)

Returns the alignment requirement for trace events.
- **Description**: Use this function to obtain the alignment requirement for trace events in the virtual machine. This is useful when allocating memory for trace events to ensure proper alignment. The function does not require any parameters and always returns a constant value. It is safe to call this function at any time, and it does not have any side effects.
- **Inputs**: None
- **Output**: Returns an unsigned long integer representing the alignment requirement, which is 8.
- **See Also**: [`fd_vm_trace_align`](<fd_vm_trace.c.md#fd_vm_trace_align>)  (Implementation)


---
### fd\_vm\_trace\_footprint<!-- {{#callable_declaration:fd_vm_trace_footprint}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L539>)

Calculates the memory footprint required for a trace object.
- **Description**: Use this function to determine the memory size needed to store a trace object with specified maximum event storage and maximum data capture per event. This function is useful when allocating memory for trace objects. Ensure that the values for `event_max` and `event_data_max` do not exceed 1 exbibyte (2^60 bytes) to avoid a return value of zero, which indicates invalid input.
- **Inputs**:
    - `event_max`: Specifies the maximum number of bytes for event storage. Must be less than or equal to 1 exbibyte (2^60 bytes). If greater, the function returns zero.
    - `event_data_max`: Specifies the maximum number of bytes that can be captured per event. Must be less than or equal to 1 exbibyte (2^60 bytes). If greater, the function returns zero.
- **Output**: Returns the aligned size in bytes required for the trace object, or zero if the input values are invalid.
- **See Also**: [`fd_vm_trace_footprint`](<fd_vm_trace.c.md#fd_vm_trace_footprint>)  (Implementation)


---
### fd\_vm\_trace\_new<!-- {{#callable_declaration:fd_vm_trace_new}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L543>)

Creates a new trace object in shared memory.
- **Description**: Use this function to initialize a trace object in a provided shared memory region. The shared memory must be properly aligned and have sufficient space to accommodate the trace object based on the specified maximum number of events and event data size. This function must be called before any operations on the trace object. If the shared memory is null, misaligned, or if the calculated footprint is zero, the function will return null.
- **Inputs**:
    - `shmem`: A pointer to the shared memory region where the trace object will be created. Must not be null and must be aligned according to `fd_vm_trace_align()`.
    - `event_max`: The maximum number of bytes for event storage. Must be a positive value that results in a non-zero footprint.
    - `event_data_max`: The maximum number of bytes that can be captured per event. Must be a positive value that results in a non-zero footprint.
- **Output**: Returns a pointer to the initialized trace object on success, or null if the input is invalid or the footprint is zero.
- **See Also**: [`fd_vm_trace_new`](<fd_vm_trace.c.md#fd_vm_trace_new>)  (Implementation)


---
### fd\_vm\_trace\_join<!-- {{#callable_declaration:fd_vm_trace_join}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L548>)

Validates and returns a trace object from a given pointer.
- **Description**: Use this function to obtain a valid `fd_vm_trace_t` object from a pointer. It checks if the pointer is non-null, properly aligned, and has the correct magic number. If any of these conditions are not met, it returns `NULL`. This function is useful when you need to ensure that a trace object is valid before performing operations on it.
- **Inputs**:
    - `_trace`: A pointer to a potential `fd_vm_trace_t` object. It must not be null, must be aligned according to `fd_vm_trace_align()`, and must have a magic number equal to `FD_VM_TRACE_MAGIC`. If these conditions are not met, the function returns `NULL`.
- **Output**: Returns a pointer to a valid `fd_vm_trace_t` object if the input is valid; otherwise, returns `NULL`.
- **See Also**: [`fd_vm_trace_join`](<fd_vm_trace.c.md#fd_vm_trace_join>)  (Implementation)


---
### fd\_vm\_trace\_leave<!-- {{#callable_declaration:fd_vm_trace_leave}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L551>)

Returns a pointer to the trace object or NULL if the trace is invalid.
- **Description**: Use this function to safely leave a trace context and obtain a pointer to the trace object. It is important to ensure that the `trace` parameter is not NULL before calling this function, as passing a NULL value will result in a warning and a NULL return value. This function is typically used when you need to exit a trace context and still retain access to the trace object for further operations.
- **Inputs**:
    - `trace`: A pointer to a `fd_vm_trace_t` object. Must not be NULL. If NULL, the function logs a warning and returns NULL.
- **Output**: Returns a pointer to the `fd_vm_trace_t` object if the input is valid, otherwise returns NULL.
- **See Also**: [`fd_vm_trace_leave`](<fd_vm_trace.c.md#fd_vm_trace_leave>)  (Implementation)


---
### fd\_vm\_trace\_delete<!-- {{#callable_declaration:fd_vm_trace_delete}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L554>)

Deletes a trace object.
- **Description**: Use this function to delete a trace object that was previously created. It checks if the provided trace object is valid by verifying its alignment and magic number. If the trace object is invalid, the function logs a warning and returns NULL. This function must be called with a valid trace object that was aligned according to `fd_vm_trace_align` and has a correct magic number. After successful deletion, the function returns the pointer to the trace object.
- **Inputs**:
    - `_trace`: A pointer to the trace object to delete. Must not be NULL, must be aligned according to `fd_vm_trace_align`, and must have a valid magic number. If these conditions are not met, the function logs a warning and returns NULL.
- **Output**: Returns a pointer to the trace object if deletion is successful, or NULL if the trace object is invalid.
- **See Also**: [`fd_vm_trace_delete`](<fd_vm_trace.c.md#fd_vm_trace_delete>)  (Implementation)


---
### fd\_vm\_trace\_printf<!-- {{#callable_declaration:fd_vm_trace_printf}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L641>)

Prints the current trace to stdout with optional syscall annotations.
- **Description**: Use this function to output a formatted representation of the current trace to the standard output. It is useful for debugging or logging purposes. The function requires a valid trace object and can optionally annotate syscalls if a syscall mapping is provided. Ensure that the trace object is not null before calling this function. The function returns an error code if the trace is null or if there is an issue parsing the trace events.
- **Inputs**:
    - `trace`: A pointer to a `fd_vm_trace_t` object representing the trace to print. Must not be null. If null, the function returns `FD_VM_ERR_INVAL`.
    - `syscalls`: A pointer to a `fd_sbpf_syscalls_t` object for syscall annotations. Can be null if syscall annotations are not needed. The function will still execute without annotations if this parameter is null.
- **Output**: Returns `FD_VM_SUCCESS` on success. Returns `FD_VM_ERR_INVAL` if the trace is null, and `FD_VM_ERR_IO` if there is a corruption detected while parsing the trace events.
- **See Also**: [`fd_vm_trace_printf`](<fd_vm_trace.c.md#fd_vm_trace_printf>)  (Implementation)


---
### fd\_vm\_syscall\_register<!-- {{#callable_declaration:fd_vm_syscall_register}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L670>)

Registers a syscall with a specified name and function.
- **Description**: Use this function to add a new syscall to the provided syscall map. Ensure that the `syscalls` and `name` parameters are not null before calling. The function will fail if the name or its hash is already present in the map. On success, the syscall map retains a read-only reference to the `name`, so it should have an infinite lifetime. This function is useful for adding custom syscalls, but for most cases, consider using `fd_vm_syscall_register_slot` instead.
- **Inputs**:
    - `syscalls`: A pointer to the syscall map where the new syscall will be registered. Must not be null. The caller retains ownership.
    - `name`: A constant character string representing the name of the syscall. Must not be null and should have an infinite lifetime as the syscall map retains a read-only reference.
    - `func`: A function pointer representing the implementation of the syscall. Can be null, but the VM may not accept it as valid.
- **Output**: Returns `FD_VM_SUCCESS` (0) on success or `FD_VM_ERR_INVAL` (-1) on failure, such as when inputs are null or the name is already in the map.
- **See Also**: [`fd_vm_syscall_register`](<syscall/fd_vm_syscall.c.md#fd_vm_syscall_register>)  (Implementation)


---
### fd\_vm\_syscall\_register\_slot<!-- {{#callable_declaration:fd_vm_syscall_register_slot}} -->
[View Source →](<../../../../../src/flamenco/vm/fd_vm_base.h#L687>)

Registers syscalls for a specified slot.
- **Description**: Use this function to register syscalls for a specific slot in the `syscalls` map. It clears any existing syscalls and registers new ones based on the provided `slot` and `features`. If `slot` is zero, all syscalls are enabled. The `is_deploy` parameter determines whether to include syscalls used for program deployment verification. Ensure `syscalls` is not null before calling this function.
- **Inputs**:
    - `syscalls`: A pointer to an `fd_sbpf_syscalls_t` structure where syscalls will be registered. Must not be null.
    - `slot`: An unsigned long integer specifying the slot for which syscalls should be registered. If zero, all syscalls are enabled.
    - `features`: A pointer to a constant `fd_features_t` structure that specifies which syscalls to enable based on the slot. Can be null if `slot` is zero.
    - `is_deploy`: An unsigned char indicating whether the syscalls are for deployment verification (1) or execution (0).
- **Output**: Returns `FD_VM_SUCCESS` on success, or a negative error code such as `FD_VM_ERR_INVAL` if `syscalls` is null, or `FD_VM_ERR_FULL` if the syscall map is full.
- **See Also**: [`fd_vm_syscall_register_slot`](<syscall/fd_vm_syscall.c.md#fd_vm_syscall_register_slot>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)