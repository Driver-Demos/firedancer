<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Automatically generated nanopb header for defining data structures and enums for VM syscall testing.

# Purpose
The code is a C header file generated by the nanopb tool, which is used for encoding and decoding Protocol Buffers in C. This file defines data structures and constants for handling virtual machine (VM) execution contexts and syscall testing within the Solana Sealevel environment. The file includes several `typedef` structures that represent different components of the VM and syscall execution, such as `fd_exec_test_vm_context_t`, `fd_exec_test_syscall_invocation_t`, and `fd_exec_test_syscall_effects_t`. These structures are used to describe the state and behavior of the VM and syscalls, including memory regions, error codes, and register states.

The header file also defines enumerations, such as `fd_exec_test_err_kind_t`, which categorizes different error types encountered during execution. It includes macros for initializing these structures with default or zero values, ensuring that they are set up correctly before use. Additionally, the file contains field tags and encoding specifications for each structure, which are necessary for the nanopb library to serialize and deserialize the data. The header file is intended to be included in other C source files that require these definitions to perform VM and syscall testing, making it a crucial component for testing and validating the execution of syscalls in the Solana Sealevel environment.
# Imports and Dependencies

---
- `../../../../ballet/nanopb/pb_firedancer.h`
- `invoke.pb.h`
- `context.pb.h`
- `metadata.pb.h`


# Data Structures

---
### fd\_exec\_test\_err\_kind\_t
- **Type**: ``enum``
- **Members**:
    - `FD_EXEC_TEST_ERR_KIND_UNSPECIFIED`: Represents an unspecified error kind with a value of 0.
    - `FD_EXEC_TEST_ERR_KIND_EBPF`: Represents an eBPF error kind with a value of 1.
    - `FD_EXEC_TEST_ERR_KIND_SYSCALL`: Represents a syscall error kind with a value of 2.
    - `FD_EXEC_TEST_ERR_KIND_INSTRUCTION`: Represents an instruction error kind with a value of 3.
- **Description**: Defines different kinds of error types that can occur during execution tests, specifically for eBPF, syscall, and instruction errors, with an unspecified category as a default.


---
### fd\_exec\_test\_input\_data\_region\_t
- **Type**: ``struct``
- **Members**:
    - `offset`: Offset from the start of the input data segment (0x400000000).
    - `content`: Pointer to the content of the memory region.
    - `is_writable`: Indicates if the memory region is writable.
- **Description**: Defines a memory region within an input data segment, specifying its offset, content, and whether it is writable. This structure is used in memory mapping setups to manage input data regions.


---
### fd\_exec\_test\_syscall\_invocation\_t
- **Type**: ``struct``
- **Members**:
    - `function_name`: Holds the sBPF function name of the syscall.
    - `heap_prefix`: Points to the initial portion of the heap, used to store syscall inputs.
    - `stack_prefix`: Points to the initial portion of the stack, used to store syscall inputs.
- **Description**: Defines a single invocation of a syscall, including the function name and initial memory regions for heap and stack to store syscall inputs.


---
### fd\_exec\_test\_syscall\_effects\_t
- **Type**: ``struct``
- **Members**:
    - `error`: Stores the EBPF error code if the invocation was unsuccessful.
    - `r0`: Holds the result of a successful execution.
    - `cu_avail`: Indicates the remaining compute units.
    - `heap`: Points to the memory region for the heap.
    - `stack`: Points to the memory region for the stack.
    - `inputdata`: Points to the deprecated input data memory region.
    - `frame_count`: Tracks the current number of stack frames pushed.
    - `log`: Points to the memory region for the syscall log.
    - `rodata`: Points to the memory region for read-only data.
    - `pc`: Stores the program counter value.
    - `input_data_regions_count`: Counts the number of input data regions.
    - `input_data_regions`: Points to the array of input data regions.
    - `error_kind`: Specifies the kind of error, used with the error code.
    - `r1`: Stores the value of output register 1.
    - `r2`: Stores the value of output register 2.
    - `r3`: Stores the value of output register 3.
    - `r4`: Stores the value of output register 4.
    - `r5`: Stores the value of output register 5.
    - `r6`: Stores the value of output register 6.
    - `r7`: Stores the value of output register 7.
    - `r8`: Stores the value of output register 8.
    - `r9`: Stores the value of output register 9.
    - `r10`: Stores the value of output register 10.
- **Description**: Describes the effects of executing a syscall in a virtual machine context, including error handling, memory regions, and register states. It provides detailed information about the execution state, such as error codes, available compute units, memory regions, stack frames, and output registers. This structure is essential for testing and debugging syscall executions within the VM.


---
### fd\_exec\_test\_validate\_vm\_effects\_t
- **Type**: ``struct``
- **Members**:
    - `result`: Stores the result of the validation as a 32-bit integer.
    - `success`: Indicates if the validation was successful with a boolean value.
- **Description**: Defines the effects of validating a virtual machine (VM) execution, containing a result code and a success flag. If the `result` is 0, indicating success, the associated protobuf will be empty.


---
### fd\_exec\_test\_return\_data\_t
- **Type**: ``struct``
- **Members**:
    - `program_id`: Pointer to a `pb_bytes_array_t` that represents the program identifier.
    - `data`: Pointer to a `pb_bytes_array_t` that contains the data associated with the execution.
- **Description**: Holds return data for an execution test, including a program identifier and associated data, both stored as byte arrays.


---
### fd\_exec\_test\_vm\_context\_t
- **Type**: ``struct``
- **Members**:
    - `heap_max`: Maximum heap size in bytes.
    - `rodata`: Pointer to program read-only data.
    - `rodata_text_section_offset`: Offset of the text section from the start of the program rodata segment.
    - `rodata_text_section_length`: Length of the text section in the program rodata region, in bytes.
    - `r0`: General-purpose register 0.
    - `r1`: General-purpose register 1.
    - `r2`: General-purpose register 2.
    - `r3`: General-purpose register 3.
    - `r4`: General-purpose register 4.
    - `r5`: General-purpose register 5.
    - `r6`: General-purpose register 6.
    - `r7`: General-purpose register 7.
    - `r8`: General-purpose register 8.
    - `r9`: General-purpose register 9.
    - `r10`: General-purpose register 10.
    - `r11`: General-purpose register 11.
    - `entry_pc`: Program counter for VM execution.
    - `call_whitelist`: Bitset of valid call destinations in terms of program counter.
    - `tracing_enabled`: Flag indicating if tracing is enabled.
    - `has_return_data`: Flag indicating if return data is present.
    - `return_data`: Structure containing return data.
    - `sbpf_version`: Version of the SBPF.
- **Description**: Represents the execution context for a virtual machine (VM) test, including memory constraints, program data, register states, execution entry point, and configuration flags. It is used to set up the environment for executing programs within the Firedancer VM, providing necessary information such as heap size, read-only data, and valid call destinations.


---
### fd\_exec\_test\_syscall\_context\_t
- **Type**: ``struct``
- **Members**:
    - `has_vm_ctx`: Indicates if the `vm_ctx` field is valid.
    - `vm_ctx`: Holds the virtual machine context information.
    - `has_instr_ctx`: Indicates if the `instr_ctx` field is valid.
    - `instr_ctx`: Holds the instruction context information.
    - `has_syscall_invocation`: Indicates if the `syscall_invocation` field is valid.
    - `syscall_invocation`: Holds the syscall invocation details.
- **Description**: Manages the execution context for a virtual machine syscall execution, including optional contexts for the virtual machine, instructions, and syscall invocation.


---
### fd\_exec\_test\_syscall\_fixture\_t
- **Type**: ``struct``
- **Members**:
    - `has_metadata`: Indicates if metadata is present.
    - `metadata`: Holds metadata information.
    - `has_input`: Indicates if input data is present.
    - `input`: Contains the syscall context input data.
    - `has_output`: Indicates if output data is present.
    - `output`: Contains the effects of the syscall execution.
- **Description**: Defines a fixture for testing syscall processing, including optional metadata, input context, and output effects.


---
### fd\_exec\_test\_full\_vm\_context\_t
- **Type**: ``struct``
- **Members**:
    - `has_vm_ctx`: Indicates if the `vm_ctx` field is present.
    - `vm_ctx`: Holds the virtual machine context using `fd_exec_test_vm_context_t`.
    - `has_features`: Indicates if the `features` field is present.
    - `features`: Holds the feature set using `fd_exec_test_feature_set_t`.
- **Description**: Contains all necessary components to set up a full virtual machine context, including the virtual machine context and feature set, with flags to indicate their presence.


---
### fd\_exec\_test\_validate\_vm\_fixture\_t
- **Type**: ``struct``
- **Members**:
    - `has_metadata`: Indicates if metadata is present.
    - `metadata`: Holds metadata information.
    - `has_input`: Indicates if input data is present.
    - `input`: Contains the full VM context input data.
    - `has_output`: Indicates if output data is present.
    - `output`: Holds the effects of the VM validation.
- **Description**: Defines a fixture for validating a virtual machine (VM) in a test environment, including optional metadata, input, and output components.



---
Made with ❤️ by [Driver](https://www.driver.ai/)