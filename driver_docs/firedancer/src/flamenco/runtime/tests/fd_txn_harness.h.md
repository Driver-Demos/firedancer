<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for serializing and executing transactions in a runtime test environment.

# Purpose
This C header file defines function prototypes for testing and executing transactions in a runtime environment. It includes necessary headers such as `fd_solfuzz.h`, `fd_microblock.h`, and `txn.pb.h` to support its operations. The function [`fd_runtime_fuzz_serialize_txn`](<#fd_runtime_fuzz_serialize_txn>) serializes a Protobuf `SanitizedTransaction` into a transaction descriptor, ensuring the serialized data does not exceed a maximum size of 1232 bytes. The function [`fd_runtime_fuzz_txn_ctx_exec`](<#fd_runtime_fuzz_txn_ctx_exec>) executes a parsed transaction descriptor against the runtime, returning a transaction context and writing the execution result to a pre-allocated pointer. The file uses include guards to prevent multiple inclusions.
# Imports and Dependencies

---
- `fd_solfuzz.h`
- `../../../disco/pack/fd_microblock.h`
- `generated/txn.pb.h`


# Function Declarations (Public API)

---
### fd\_runtime\_fuzz\_serialize\_txn<!-- {{#callable_declaration:fd_runtime_fuzz_serialize_txn}} -->
[View Source →](<../../../../../../src/flamenco/runtime/tests/fd_txn_harness.h#L8>)

Serializes a Protobuf SanitizedTransaction into a transaction descriptor.
- **Description**: Use this function to serialize a Protobuf SanitizedTransaction into a transaction descriptor format. The function writes the serialized data into a pre-allocated buffer and returns the number of bytes consumed. Ensure that the buffer is at least 1232 bytes in size to accommodate the serialized data. If the serialized data exceeds this size, the function returns `ULONG_MAX`. This function is useful when preparing transactions for execution in a runtime environment.
- **Inputs**:
    - `txn_raw_begin`: A pointer to a pre-allocated buffer where the serialized transaction data will be written. The buffer must be at least 1232 bytes in size. The caller retains ownership of the buffer.
    - `tx`: A pointer to a constant `fd_exec_test_sanitized_transaction_t` structure representing the transaction to serialize. The structure must be properly initialized and must not be null.
- **Output**: Returns the number of bytes consumed in the buffer. If the serialized data exceeds 1232 bytes, returns `ULONG_MAX`.
- **See Also**: [`fd_runtime_fuzz_serialize_txn`](<fd_txn_harness.c.md#fd_runtime_fuzz_serialize_txn>)  (Implementation)


---
### fd\_runtime\_fuzz\_txn\_ctx\_exec<!-- {{#callable_declaration:fd_runtime_fuzz_txn_ctx_exec}} -->
[View Source →](<../../../../../../src/flamenco/runtime/tests/fd_txn_harness.h#L22>)

Executes a transaction against the runtime and returns the transaction context.
- **Description**: Use this function to execute a parsed transaction descriptor against the runtime. It returns a transaction context that is allocated in the scratchpad memory. The function also writes the execution result to the provided `exec_res` pointer. Ensure that `exec_res` is pre-allocated before calling this function. This function is useful when you need to manage transaction execution and context within a runtime environment.
- **Inputs**:
    - `runner`: A pointer to an `fd_solfuzz_runner_t` structure. This must not be null and should be properly initialized before calling the function.
    - `xid`: A pointer to a constant `fd_funk_txn_xid_t` structure representing the transaction ID. This must not be null.
    - `txn`: A pointer to an `fd_txn_p_t` structure representing the transaction to execute. This must not be null.
    - `exec_res`: A pointer to an integer where the function will write the execution result. This must be pre-allocated and not null.
- **Output**: Returns a pointer to an `fd_exec_txn_ctx_t` structure representing the transaction context allocated in the scratchpad memory.
- **See Also**: [`fd_runtime_fuzz_txn_ctx_exec`](<fd_txn_harness.c.md#fd_runtime_fuzz_txn_ctx_exec>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)