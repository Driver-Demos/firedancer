<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements functions to verify batched range proofs for 128-bit unsigned integers.

# Purpose
The code provides functionality for verifying cryptographic range proofs, specifically for 128-bit unsigned integers. It includes two main functions: [`fd_zksdk_verify_proof_range_u128`](<#fd_zksdk_verify_proof_range_u128>) and [`fd_zksdk_instr_verify_proof_batched_range_proof_u128`](<#fd_zksdk_instr_verify_proof_batched_range_proof_u128>). The [`fd_zksdk_verify_proof_range_u128`](<#fd_zksdk_verify_proof_range_u128>) function is a static inline function that verifies a single range proof using the provided proof data, commitments, bit lengths, and a transcript. It constructs an `fd_rangeproofs_ipp_proof_t` structure from the input proof and calls `fd_rangeproofs_verify` to perform the verification. The function returns a success or error code based on the verification result.

The [`fd_zksdk_instr_verify_proof_batched_range_proof_u128`](<#fd_zksdk_instr_verify_proof_batched_range_proof_u128>) function is responsible for handling batched range proof verification. It initializes and validates the batch context using `batched_range_proof_init_and_validate`, which sets up the necessary parameters for the batch verification process. If the initialization is successful, it calls [`fd_zksdk_verify_proof_range_u128`](<#fd_zksdk_verify_proof_range_u128>) to verify the range proof for each batch. The function returns a status code indicating the success or failure of the batched verification process. This code is part of a larger cryptographic library and is intended to be used as part of a zero-knowledge proof system.
# Imports and Dependencies

---
- `../fd_zksdk_private.h`


# Functions

---
### fd\_zksdk\_verify\_proof\_range\_u128<!-- {{#callable:fd_zksdk_verify_proof_range_u128}} -->
[View Source →](<../../../../../../../../src/flamenco/runtime/program/zksdk/instructions/fd_zksdk_batched_range_proof_u128.c#L3>)

Verifies a range proof for a 128-bit unsigned integer using given commitments, bit lengths, and a transcript.
- **Inputs**:
    - `proof`: A pointer to a `fd_zksdk_range_proof_u128_proof_t` structure containing the range proof data.
    - `commitments`: An array of 32 unsigned characters representing the commitments.
    - `bit_lengths`: An array of 1 unsigned character representing the bit lengths.
    - `batch_len`: An unsigned character representing the batch length.
    - `transcript`: A pointer to a `fd_zksdk_transcript_t` structure used for the verification process.
- **Logic and Control Flow**:
    - Initializes a `fd_rangeproofs_ipp_proof_t` structure with specific values from the `proof` parameter.
    - Calls the `fd_rangeproofs_verify` function with the range proof, initialized `ipp_proof`, commitments, bit lengths, batch length, and transcript.
    - Checks if the result of `fd_rangeproofs_verify` is `FD_RANGEPROOFS_SUCCESS`.
    - Returns `FD_EXECUTOR_INSTR_SUCCESS` if the verification is successful.
    - Returns `FD_ZKSDK_VERIFY_PROOF_ERROR` if the verification fails.
- **Output**: Returns an integer indicating success (`FD_EXECUTOR_INSTR_SUCCESS`) or failure (`FD_ZKSDK_VERIFY_PROOF_ERROR`) of the verification process.


---
### fd\_zksdk\_instr\_verify\_proof\_batched\_range\_proof\_u128<!-- {{#callable:fd_zksdk_instr_verify_proof_batched_range_proof_u128}} -->
[View Source →](<../../../../../../../../src/flamenco/runtime/program/zksdk/instructions/fd_zksdk_batched_range_proof_u128.c#L32>)

Verifies a batched range proof for 128-bit unsigned integers using a given context and proof data.
- **Inputs**:
    - `_context`: A pointer to a `fd_zksdk_batched_range_proof_context_t` structure that contains the commitments and bit lengths for the proof.
    - `_proof`: A pointer to a `fd_zksdk_range_proof_u128_proof_t` structure that contains the proof data to verify.
- **Logic and Control Flow**:
    - Initialize a `fd_zksdk_transcript_t` array to store the transcript data.
    - Cast `_context` to a `fd_zksdk_batched_range_proof_context_t` pointer and `_proof` to a `fd_zksdk_range_proof_u128_proof_t` pointer.
    - Initialize `batch_len` to zero.
    - Call `batched_range_proof_init_and_validate` to initialize and validate the proof, updating `batch_len` and `transcript`.
    - If the validation fails (i.e., `val` is not `FD_EXECUTOR_INSTR_SUCCESS`), return the error code `val`.
    - Call [`fd_zksdk_verify_proof_range_u128`](<#fd_zksdk_verify_proof_range_u128>) with the proof, commitments, bit lengths, `batch_len`, and `transcript` to perform the verification.
    - Return the result of [`fd_zksdk_verify_proof_range_u128`](<#fd_zksdk_verify_proof_range_u128>).
- **Output**: Returns an integer status code indicating success (`FD_EXECUTOR_INSTR_SUCCESS`) or an error code if verification fails.
- **Functions Called**:
    - [`fd_zksdk_verify_proof_range_u128`](<#fd_zksdk_verify_proof_range_u128>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)