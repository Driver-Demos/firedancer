<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines constants and functions for managing compute budget limits in the Firedancer runtime.

# Purpose
This C header file defines constants and function prototypes related to managing compute budget limits in a runtime environment. It includes definitions for minimum and maximum heap frame sizes, granularity for heap frame requests, and a maximum compute unit limit. The file also categorizes program types with constants for non-builtin, builtin, and migrating builtin programs. Function prototypes are declared for validating compute budget limits and executing compute budget-related instructions, which are essential for ensuring that resource usage adheres to specified constraints. The header file includes a reference to an external base header file, `fd_flamenco_base.h`, which likely provides foundational definitions and types used in this context.
# Imports and Dependencies

---
- `../../fd_flamenco_base.h`


# Function Declarations (Public API)

---
### fd\_sanitize\_compute\_unit\_limits<!-- {{#callable_declaration:fd_sanitize_compute_unit_limits}} -->
[View Source →](<../../../../../../src/flamenco/runtime/program/fd_compute_budget_program.h#L21>)

Validates and adjusts compute budget limits.
- **Description**: Use this function to validate and adjust the compute budget limits in a transaction context. It checks if the requested heap size is valid and returns an error if it is not. It also ensures that the compute unit limit and loaded accounts data size limit are within specified bounds. Call this function before executing a transaction to ensure that the compute budget parameters are correctly set and within acceptable limits.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure. This must not be null and should contain the compute budget details to validate and adjust. The caller retains ownership of this structure.
- **Output**: Returns an integer indicating success or an error code. A return value of `FD_RUNTIME_EXECUTE_SUCCESS` indicates success, while other values indicate specific errors related to invalid heap size or loaded accounts data size limit.
- **See Also**: [`fd_sanitize_compute_unit_limits`](<fd_compute_budget_program.c.md#fd_sanitize_compute_unit_limits>)  (Implementation)


---
### fd\_executor\_compute\_budget\_program\_execute\_instructions<!-- {{#callable_declaration:fd_executor_compute_budget_program_execute_instructions}} -->
[View Source →](<../../../../../../src/flamenco/runtime/program/fd_compute_budget_program.h#L32>)

Executes compute budget program instructions in a transaction context.
- **Description**: Use this function to process and execute compute budget program instructions within a given transaction context. It iterates over each instruction in the transaction, categorizes them as built-in or non-built-in, and processes compute budget instructions. The function updates the compute budget details in the context based on the instructions executed. It returns specific error codes if it encounters invalid instruction data or duplicate instructions for certain compute budget parameters. Ensure the transaction context is properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to an `fd_exec_txn_ctx_t` structure that contains the transaction context. This must not be null and should be properly initialized before calling the function. The function updates the compute budget details within this context.
- **Output**: Returns an integer status code. `FD_RUNTIME_EXECUTE_SUCCESS` indicates successful execution, while other codes indicate specific errors such as invalid instruction data or duplicate instructions.
- **See Also**: [`fd_executor_compute_budget_program_execute_instructions`](<fd_compute_budget_program.c.md#fd_executor_compute_budget_program_execute_instructions>)  (Implementation)


---
### fd\_compute\_budget\_program\_execute<!-- {{#callable_declaration:fd_compute_budget_program_execute}} -->
[View Source →](<../../../../../../src/flamenco/runtime/program/fd_compute_budget_program.h#L35>)

Executes a compute budget program with default compute units.
- **Description**: Use this function to execute a compute budget program within a given execution context. It updates the context with a default number of compute units. This function is typically called when a program needs to execute with predefined compute resources. Ensure that the execution context is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `ctx`: A pointer to an `fd_exec_instr_ctx_t` structure representing the execution context. Must not be null. The caller retains ownership of the context, and it must be initialized before use.
- **Output**: Returns `FD_EXECUTOR_INSTR_SUCCESS` to indicate successful execution.
- **See Also**: [`fd_compute_budget_program_execute`](<fd_compute_budget_program.c.md#fd_compute_budget_program_execute>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)