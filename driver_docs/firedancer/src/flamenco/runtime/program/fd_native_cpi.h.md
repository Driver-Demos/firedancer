<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions for invoking native programs and creating account metadata in the Firedancer runtime.

# Purpose
This C header file defines the interface for native program invocation and account metadata creation within a runtime environment. It includes necessary dependencies from other header files such as `fd_flamenco_base.h`, `fd_types.h`, and `fd_vm_syscall.h`. The file declares two functions: [`fd_native_cpi_native_invoke`](<#fd_native_cpi_native_invoke>), which allows native programs to call into other native programs using a context, program ID, instruction data, account metadata, and signers; and [`fd_native_cpi_create_account_meta`](<#fd_native_cpi_create_account_meta>), which initializes account metadata with specified properties like key, signer status, and writability. The header uses include guards to prevent multiple inclusions and is part of a larger system that interacts with native programs, as indicated by the reference to Agave's `native_invoke()` function.
# Imports and Dependencies

---
- `../../fd_flamenco_base.h`
- `../../types/fd_types.h`
- `../../vm/syscall/fd_vm_syscall.h`


# Function Declarations (Public API)

---
### fd\_native\_cpi\_native\_invoke<!-- {{#callable_declaration:fd_native_cpi_native_invoke}} -->
[View Source →](<../../../../../../src/flamenco/runtime/program/fd_native_cpi.h#L8>)

Invokes a native program with specified instruction data and account metadata.
- **Description**: Use this function to call a native program from another native program, providing the necessary instruction data and account metadata. This function requires a valid execution context and a program ID for the target native program. It prepares the instruction with the given data and account metadata, then executes it. Ensure that the account metadata and signer information are correctly set up before calling this function. The function returns an error code if the preparation or execution of the instruction fails.
- **Inputs**:
    - `ctx`: A pointer to the execution instruction context. Must not be null.
    - `native_program_id`: A pointer to the public key of the native program to invoke. Must not be null.
    - `instr_data`: A pointer to the instruction data to pass to the native program. Must not be null.
    - `instr_data_len`: The length of the instruction data. Must be a valid length for the data provided.
    - `acct_metas`: A pointer to an array of account metadata structures. Must not be null.
    - `acct_metas_len`: The number of account metadata entries. Must match the length of the `acct_metas` array.
    - `signers`: A pointer to an array of public keys representing the signers. Can be null if there are no signers.
    - `signers_cnt`: The number of signers. Must match the length of the `signers` array if `signers` is not null.
- **Output**: Returns an integer error code. A non-zero value indicates an error during preparation or execution of the instruction.
- **See Also**: [`fd_native_cpi_native_invoke`](<fd_native_cpi.c.md#fd_native_cpi_native_invoke>)  (Implementation)


---
### fd\_native\_cpi\_create\_account\_meta<!-- {{#callable_declaration:fd_native_cpi_create_account_meta}} -->
[View Source →](<../../../../../../src/flamenco/runtime/program/fd_native_cpi.h#L24>)

Creates an account metadata structure for a native CPI call.
- **Description**: Use this function to initialize an `fd_vm_rust_account_meta_t` structure with the specified public key, signer status, and writable status. This function is typically used when preparing account metadata for cross-program invocations (CPI) in native programs. Ensure that the `meta` parameter points to a valid `fd_vm_rust_account_meta_t` structure before calling this function.
- **Inputs**:
    - `key`: A pointer to an `fd_pubkey_t` structure containing the public key. Must not be null.
    - `is_signer`: A `uchar` indicating if the account is a signer. Use 1 for true and 0 for false.
    - `is_writable`: A `uchar` indicating if the account is writable. Use 1 for true and 0 for false.
    - `meta`: A pointer to an `fd_vm_rust_account_meta_t` structure where the account metadata will be stored. Must not be null.
- **Output**: None
- **See Also**: [`fd_native_cpi_create_account_meta`](<fd_native_cpi.c.md#fd_native_cpi_create_account_meta>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)