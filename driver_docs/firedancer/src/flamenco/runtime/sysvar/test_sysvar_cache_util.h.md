<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

APIs to set up and tear down a sysvar cache environment with a database in a test context.

# Purpose
The `test_sysvar_cache_util.h` file is a C header file that provides an interface for setting up and tearing down a system variable cache environment with an underlying database. It includes the necessary headers for system variable caching and account database user management. The file defines a structure, `test_sysvar_cache_env_t`, which encapsulates the environment needed for testing, including pointers to a bank, a system variable cache, and other related components. The file declares two functions: `test_sysvar_cache_env_create`, which initializes the environment by allocating resources from a workspace, and [`test_sysvar_cache_env_destroy`](<#test_sysvar_cache_env_destroy>), which deallocates these resources. This header is intended for use in testing scenarios where a controlled environment for system variable caching is required.
# Imports and Dependencies

---
- `fd_sysvar_cache.h`
- `../../accdb/fd_accdb_user.h`


# Data Structures

---
### test\_sysvar\_cache\_env
- **Type**: ``struct``
- **Members**:
    - `shfunk`: A pointer to a shared function or resource.
    - `accdb`: An array of `fd_accdb_user_t` representing access database users.
    - `xid`: A transaction identifier of type `fd_funk_txn_xid_t`.
    - `bank`: A pointer to a `fd_bank_t` structure.
    - `sysvar_cache`: A pointer to a `fd_sysvar_cache_t` structure.
- **Description**: Defines a structure for managing a system variable cache environment, including pointers to shared resources, access database users, transaction identifiers, and associated bank and system variable cache structures.


---
### test\_sysvar\_cache\_env\_t
- **Type**: ``struct``
- **Members**:
    - ``shfunk``: A pointer to a shared function or resource.
    - ``accdb``: An array of one `fd_accdb_user_t` structure, representing an account database user.
    - ``xid``: A transaction identifier of type `fd_funk_txn_xid_t`.
    - ``bank``: A pointer to a `fd_bank_t` structure, representing a bank.
    - ``sysvar_cache``: A pointer to a `fd_sysvar_cache_t` structure, representing a system variable cache.
- **Description**: Defines an environment for testing a system variable cache with an underlying database, including pointers to shared resources, account database user, transaction identifier, bank, and system variable cache.


# Function Declarations (Public API)

---
### test\_sysvar\_cache\_env\_destroy<!-- {{#callable_declaration:test_sysvar_cache_env_destroy}} -->
[View Source →](<../../../../../../src/flamenco/runtime/sysvar/test_sysvar_cache_util.h#L33>)

Releases resources allocated for a sysvar cache environment.
- **Description**: Use this function to release all resources allocated by `test_sysvar_cache_env_create`. It must be called when the sysvar cache environment is no longer needed to prevent resource leaks. Ensure that the `env` parameter is valid and was previously initialized by `test_sysvar_cache_env_create`. This function will reset the memory of the `env` structure to zero after releasing resources.
- **Inputs**:
    - `env`: A pointer to a `test_sysvar_cache_env_t` structure. It must not be null and should have been initialized by `test_sysvar_cache_env_create`. The function will reset the memory of this structure to zero after releasing resources.
- **Output**: None
- **See Also**: [`test_sysvar_cache_env_destroy`](<test_sysvar_cache.c.md#test_sysvar_cache_env_destroy>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)