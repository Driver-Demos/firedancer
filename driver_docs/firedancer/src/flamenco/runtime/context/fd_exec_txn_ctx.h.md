<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines the context and functions needed to execute a transaction, including account management and error handling.

# Purpose
The code is a C header file that defines the structure and functions necessary for managing the execution context of a transaction within a system. It provides a detailed framework for handling transaction execution, including the management of accounts, instructions, and execution errors. The primary structure, `fd_exec_txn_ctx_t`, encapsulates all the necessary data and state required to execute a transaction, such as account information, instruction traces, execution fees, and error handling. This structure is central to the transaction execution process, providing a comprehensive context that includes both static and dynamic data elements.

The file also defines several utility functions and macros to facilitate the manipulation and querying of the transaction context. These include functions for setting up and tearing down the transaction context, accessing accounts by index or public key, and checking account conditions such as writability. Additionally, the file includes error handling mechanisms and logging capabilities to support robust transaction execution. The header file is intended to be included in other C source files that require transaction execution capabilities, and it defines a public API for interacting with the transaction context.
# Imports and Dependencies

---
- `fd_exec_instr_ctx.h`
- `../../log_collector/fd_log_collector_base.h`
- `../../../ballet/txn/fd_txn.h`
- `../../features/fd_features.h`
- `../fd_txncache.h`
- `../fd_bank_hash_cmp.h`
- `../../progcache/fd_progcache_user.h`
- `../fd_compute_budget_details.h`
- `../../../disco/pack/fd_microblock.h`


# Data Structures

---
### fd\_txn\_return\_data
- **Type**: ``struct``
- **Members**:
    - ``program_id``: Stores the public key of the program associated with the transaction.
    - ``len``: Indicates the length of the data in the `data` array.
    - ``data``: Holds up to 1024 bytes of data related to the transaction.
- **Description**: Contains information returned from syscalls related to a transaction, including the program's public key, the length of the data, and the data itself.


---
### fd\_txn\_return\_data\_t
- **Type**: ``struct``
- **Members**:
    - ``program_id``: Holds the public key of the program that returns data.
    - ``len``: Stores the length of the data returned.
    - ``data``: Contains the actual data returned, with a maximum size of 1024 bytes.
- **Description**: Stores data returned from syscalls, including the program's public key, the length of the data, and the data itself, which can be up to 1024 bytes in size.


---
### fd\_exec\_instr\_trace\_entry
- **Type**: ``struct``
- **Members**:
    - ``instr_info``: Pointer to metadata about the instruction.
    - ``stack_height``: Represents the stack height when the instruction was pushed onto the stack, including itself.
- **Description**: Defines an entry in the instruction trace, containing metadata about an instruction and the stack height at the time the instruction was added to the stack.


---
### fd\_exec\_instr\_trace\_entry\_t
- **Type**: ``struct``
- **Members**:
    - ``instr_info``: Pointer to metadata about the instruction.
    - ``stack_height``: Represents the stack height when the instruction was pushed onto the stack, including itself.
- **Description**: Represents an entry in the instruction trace, containing metadata about the instruction and the stack height at the time the instruction was added to the stack. This structure is used to track the execution of instructions within a transaction context.


---
### fd\_exec\_txn\_ctx
- **Type**: ``struct``
- **Members**:
    - `magic`: A unique identifier for the structure, set to `FD_EXEC_TXN_CTX_MAGIC`.
    - `flags`: Stores various flags related to transaction execution.
    - `bank`: Pointer to the bank structure associated with the transaction.
    - `features`: Holds feature flags for the transaction execution.
    - `status_cache`: Pointer to the transaction status cache.
    - `enable_exec_recording`: Flag to enable or disable execution recording.
    - `bank_hash_cmp`: Pointer to the bank hash comparison structure.
    - `funk`: Array of `fd_funk_t` structures, used for transaction execution.
    - `progcache`: Pointer to the program cache.
    - `_progcache`: Array of `fd_progcache_t` structures for internal use.
    - `xid`: Array of transaction identifiers.
    - `slot`: Slot number associated with the transaction.
    - `bank_idx`: Index of the bank in the transaction context.
    - `txn`: Pointer to the transaction structure.
    - `spad`: Pointer to the scratchpad, sized for worst-case transaction execution.
    - `spad_wksp`: Workspace for the scratchpad.
    - `compute_budget_details`: Details of the compute budget for the transaction.
    - `paid_fees`: Total fees paid for the transaction.
    - `loaded_accounts_data_size`: Size of the loaded accounts data for the transaction.
    - `loaded_accounts_data_size_cost`: Cost of the loaded accounts data size in compute units.
    - `custom_err`: Stores a custom error code if one is returned.
    - `instr_stack_sz`: Current depth of the instruction execution stack.
    - `instr_stack`: Array representing the instruction execution stack.
    - `failed_instr`: Pointer to the instruction that failed, if any.
    - `instr_err_idx`: Index of the instruction error, if any.
    - `accounts_cnt`: Number of account public keys accessed by the transaction.
    - `account_keys`: Array of account public keys accessed by the transaction.
    - `executable_cnt`: Number of BPF upgradeable loader accounts.
    - `executable_accounts`: Array of BPF upgradeable loader program data accounts.
    - `accounts`: Array of borrowed accounts accessed by the transaction.
    - `programs_to_reverify_cnt`: Count of programs that need to be reverified.
    - `programs_to_reverify`: Array of public keys for programs to be reverified.
    - `rollback_nonce_account`: Array representing the rollback state of the nonce account.
    - `nonce_account_idx_in_txn`: Index of the nonce account in the transaction, if applicable.
    - `rollback_fee_payer_account`: Array representing the rollback state of the fee payer account.
    - `num_instructions`: Counter for the number of instructions in the transaction.
    - `return_data`: Data returned from `return_data` syscalls.
    - `accounts_resize_delta`: Tracks account resizing at the transaction level.
    - `blake_txn_msg_hash`: Hash of the raw transaction message used by the status cache.
    - `execution_fee`: Execution fee paid by the fee payer in the transaction.
    - `priority_fee`: Priority fee paid by the fee payer in the transaction.
    - `capture_ctx`: Pointer to the capture context.
    - `instr_infos`: Array of instruction information for the transaction.
    - `instr_info_cnt`: Count of instruction information entries.
    - `cpi_instr_infos`: Array of CPI instruction information.
    - `cpi_instr_info_cnt`: Count of CPI instruction information entries.
    - `instr_trace`: Array representing the instruction trace.
    - `instr_trace_length`: Number of instructions in the trace.
    - `log_collector`: Instance of the log collector.
    - `exec_err`: Execution error code.
    - `exec_err_kind`: Type of execution error.
    - `current_instr_idx`: Index of the current instruction being executed.
    - `fuzz_config`: Configuration for fuzzing options, including VM tracing.
- **Description**: Defines the context needed to execute a transaction, including various fields for managing transaction execution, such as flags, bank information, execution features, and caches. It also includes arrays and counters for managing accounts, instructions, and errors, as well as rollback states for accounts. The structure supports transaction execution by maintaining detailed information about the transaction's state, execution environment, and any errors encountered during execution.


# Functions

---
### fd\_exec\_txn\_ctx\_find\_index\_of\_account<!-- {{#callable:fd_exec_txn_ctx_find_index_of_account}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L225>)

Finds the index of a specified public key in the account keys of a transaction context, searching backwards.
- **Inputs**:
    - `ctx`: A pointer to a constant `fd_exec_txn_ctx_t` structure, representing the transaction context containing account keys.
    - `pubkey`: A pointer to a constant `fd_pubkey_t` structure, representing the public key to find in the transaction context's account keys.
- **Logic and Control Flow**:
    - Initialize a loop that iterates backwards over the account keys in the transaction context, starting from the last account key and moving to the first.
    - For each account key, compare it with the provided public key using `memcmp`.
    - If a match is found (i.e., `memcmp` returns 0), return the current index as an integer.
    - If no match is found after checking all account keys, return -1.
- **Output**: Returns the index of the matching account key as an integer, or -1 if no match is found.


# Function Declarations (Public API)

---
### fd\_exec\_txn\_ctx\_new<!-- {{#callable_declaration:fd_exec_txn_ctx_new}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L198>)

Initializes a new transaction execution context.
- **Description**: Use this function to initialize a new transaction execution context in the provided memory. It is important to ensure that the memory is not null and is properly aligned according to `FD_EXEC_TXN_CTX_ALIGN`. If these conditions are not met, the function will return null and log a warning. This function sets up the context by clearing the memory and setting a magic number to indicate successful initialization. Call this function before using the context in transaction execution.
- **Inputs**:
    - `mem`: A pointer to a memory block where the transaction execution context will be initialized. The memory must not be null and must be aligned to `FD_EXEC_TXN_CTX_ALIGN`. The caller retains ownership of the memory.
- **Output**: Returns the pointer to the initialized memory block if successful, or null if the memory is null or misaligned.
- **See Also**: [`fd_exec_txn_ctx_new`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_new>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_join<!-- {{#callable_declaration:fd_exec_txn_ctx_join}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L201>)

Rejoins a transaction context with specified memory and workspace.
- **Description**: Use this function to rejoin a transaction context with a given memory block and optional workspace pointers. This function checks if the provided memory block is valid and contains the correct magic number before proceeding. If the memory block is null or the magic number is incorrect, the function logs a warning and returns null. Ensure that the memory block is properly initialized and contains a valid transaction context before calling this function.
- **Inputs**:
    - `mem`: A pointer to a memory block that contains a transaction context. Must not be null and must contain a valid magic number. If invalid, the function returns null.
    - `spad`: A pointer to a scratchpad structure. Can be null if not used.
    - `spad_wksp`: A pointer to a workspace structure for the scratchpad. Can be null if not used.
- **Output**: Returns a pointer to the rejoined transaction context if successful, or null if the memory block is invalid.
- **See Also**: [`fd_exec_txn_ctx_join`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_join>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_leave<!-- {{#callable_declaration:fd_exec_txn_ctx_leave}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L204>)

Exits a transaction context and returns a pointer to it.
- **Description**: Use this function to exit a transaction context and obtain a pointer to the context structure. It is important to ensure that the context is valid before calling this function. The function checks if the context is null or if the magic number is incorrect, logging a warning and returning null in these cases. This function is typically used when you need to leave a transaction context and still retain a reference to it for further operations.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null and must have a valid magic number. If null or if the magic number is incorrect, the function logs a warning and returns null.
- **Output**: Returns a pointer to the `fd_exec_txn_ctx_t` structure if the context is valid; otherwise, returns null.
- **See Also**: [`fd_exec_txn_ctx_leave`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_leave>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_delete<!-- {{#callable_declaration:fd_exec_txn_ctx_delete}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L207>)

Deletes a transaction context.
- **Description**: Use this function to delete a transaction context that was previously created. It checks if the provided memory pointer is valid, aligned, and has the correct magic number before proceeding. If any of these checks fail, it logs a warning and returns NULL. This function must be called with a valid pointer to a transaction context that was properly initialized and aligned.
- **Inputs**:
    - `mem`: A pointer to the memory location of the transaction context. It must not be null, must be aligned to `FD_EXEC_TXN_CTX_ALIGN`, and must have a valid magic number. If these conditions are not met, the function logs a warning and returns NULL.
- **Output**: Returns the original memory pointer if successful, or NULL if the input is invalid.
- **See Also**: [`fd_exec_txn_ctx_delete`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_delete>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_setup\_basic<!-- {{#callable_declaration:fd_exec_txn_ctx_setup_basic}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L212>)

Initializes a transaction context with default values.
- **Description**: Use this function to set up a transaction context with default values for various fields. This is useful when you need a basic transaction context without specific transaction descriptors or raw transaction data. It prepares the context for further operations by initializing fields to zero or default states, ensuring that the context is in a known and consistent state before use. Call this function before using the context in transaction-related operations.
- **Inputs**:
    - `ctx`: A pointer to an `fd_exec_txn_ctx_t` structure. Must not be null. The function initializes this structure with default values.
- **Output**: None
- **See Also**: [`fd_exec_txn_ctx_setup_basic`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_setup_basic>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_teardown<!-- {{#callable_declaration:fd_exec_txn_ctx_teardown}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L215>)

Tears down a transaction execution context.
- **Description**: Use this function to clean up or finalize a transaction execution context after its use. It is important to call this function to ensure that any resources associated with the transaction context are properly released. This function must be called after the transaction context is no longer needed and before the context is deallocated or reused.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction execution context to be torn down. The pointer must not be null, and the context must be valid and previously initialized.
- **Output**: None
- **See Also**: [`fd_exec_txn_ctx_teardown`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_teardown>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_get\_account\_at\_index<!-- {{#callable_declaration:fd_exec_txn_ctx_get_account_at_index}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L248>)

Retrieves an account from the transaction context by index.
- **Description**: Use this function to obtain a specific account from a transaction context by its index. It is important to ensure that the index is within the valid range of accounts in the context. If a condition function is provided, it will be used to validate the account before it is returned. If the condition is not met, or if the index is out of range, the function will return an error code. This function is useful when you need to access account details during transaction processing.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null and must be properly initialized.
    - `idx`: An unsigned short representing the index of the account to retrieve. Must be less than the total number of accounts in the context (`ctx->accounts_cnt`). If out of range, the function returns an error.
    - `account`: A pointer to a pointer to `fd_txn_account_t` where the function will store the address of the retrieved account. Must not be null.
    - `condition`: A pointer to a function of type `fd_txn_account_condition_fn_t` used to validate the account. Can be null, in which case no validation is performed.
- **Output**: Returns an integer status code: `FD_ACC_MGR_SUCCESS` on success, or `FD_ACC_MGR_ERR_UNKNOWN_ACCOUNT` if the index is out of range or the condition is not met.
- **See Also**: [`fd_exec_txn_ctx_get_account_at_index`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_get_account_at_index>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_get\_account\_with\_key<!-- {{#callable_declaration:fd_exec_txn_ctx_get_account_with_key}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L257>)

Retrieves an account from the transaction context using a public key.
- **Description**: Use this function to obtain an account from a transaction context by specifying its public key. This function is useful when you need to access account details during transaction processing. It requires a valid transaction context and a public key to identify the account. If the account is found, it returns the account and optionally applies a condition function to it. If the account is not found, it returns an error code indicating the account is unknown.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null.
    - `pubkey`: A pointer to a `fd_pubkey_t` structure representing the public key of the account to retrieve. Must not be null.
    - `account`: A pointer to a pointer to `fd_txn_account_t` where the function will store the address of the retrieved account. Must not be null.
    - `condition`: A pointer to a `fd_txn_account_condition_fn_t` function to apply a condition on the retrieved account. Can be null if no condition is needed.
- **Output**: Returns an integer status code. Returns `FD_ACC_MGR_ERR_UNKNOWN_ACCOUNT` if the account is not found.
- **See Also**: [`fd_exec_txn_ctx_get_account_with_key`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_get_account_with_key>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_get\_executable\_account<!-- {{#callable_declaration:fd_exec_txn_ctx_get_executable_account}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L265>)

Retrieves an executable account by its public key.
- **Description**: Use this function to obtain an executable account from a transaction context using its public key. It first attempts to find the account among existing borrowed accounts, ensuring that any changes from prior instructions are reflected. If not found, it searches the list of executable accounts. If a condition function is provided, it applies this function to the found account to verify additional preconditions. This function returns an error if the account is not found or if the condition function fails.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null.
    - `pubkey`: A pointer to a `fd_pubkey_t` structure representing the public key of the account to retrieve. Must not be null.
    - `account`: A pointer to a pointer to `fd_txn_account_t`, where the function will store the address of the found account. Must not be null.
    - `condition`: A pointer to a function of type `fd_txn_account_condition_fn_t` that checks additional preconditions on the account. Can be null, in which case no additional checks are performed.
- **Output**: Returns `FD_ACC_MGR_SUCCESS` if the account is found and meets the condition, or `FD_ACC_MGR_ERR_UNKNOWN_ACCOUNT` if the account is not found or the condition fails.
- **See Also**: [`fd_exec_txn_ctx_get_executable_account`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_get_executable_account>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_get\_key\_of\_account\_at\_index<!-- {{#callable_declaration:fd_exec_txn_ctx_get_key_of_account_at_index}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L275>)

Retrieves the public key of an account at a specified index.
- **Description**: Use this function to obtain the public key of an account from a transaction context at a given index. Ensure that the index is within the bounds of the available account keys in the context. If the index is out of bounds, the function returns an error code indicating insufficient account keys. This function is useful when you need to access account information based on its position in the transaction context.
- **Inputs**:
    - `ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null and must be properly initialized.
    - `idx`: An unsigned short integer representing the index of the account key to retrieve. Must be less than the total number of account keys in the context.
    - `key`: A pointer to a location where the function will store the address of the account's public key. Must not be null.
- **Output**: Returns an integer status code. Returns `FD_EXECUTOR_INSTR_SUCCESS` on success, or `FD_EXECUTOR_INSTR_ERR_NOT_ENOUGH_ACC_KEYS` if the index is out of bounds.
- **See Also**: [`fd_exec_txn_ctx_get_key_of_account_at_index`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_get_key_of_account_at_index>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_reset\_return\_data<!-- {{#callable_declaration:fd_exec_txn_ctx_reset_return_data}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L280>)

Resets the return data length in the transaction context.
- **Description**: Use this function to reset the length of the return data in a transaction context to zero. This is typically done to clear any previously stored return data before starting a new transaction or operation that will generate new return data. Ensure that the transaction context is valid and properly initialized before calling this function.
- **Inputs**:
    - `txn_ctx`: A pointer to a `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null. The function will modify the `return_data.len` field of this structure.
- **Output**: None
- **See Also**: [`fd_exec_txn_ctx_reset_return_data`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_reset_return_data>)  (Implementation)


---
### fd\_exec\_txn\_ctx\_account\_is\_writable\_idx<!-- {{#callable_declaration:fd_exec_txn_ctx_account_is_writable_idx}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L296>)

Checks if a transaction account is writable by index.
- **Description**: Use this function to determine if a specific account in a transaction context is writable. This function requires a valid transaction context and an index that specifies the account to check. It is important to ensure that the index is within the range of available accounts in the transaction context. The function returns an integer indicating the writability status of the account at the given index.
- **Inputs**:
    - `txn_ctx`: A pointer to a constant `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null and should be properly initialized.
    - `idx`: An unsigned short integer representing the index of the account to check. Must be within the range of accounts in the transaction context.
- **Output**: Returns an integer indicating whether the account at the specified index is writable.
- **See Also**: [`fd_exec_txn_ctx_account_is_writable_idx`](<fd_exec_txn_ctx.c.md#fd_exec_txn_ctx_account_is_writable_idx>)  (Implementation)


---
### fd\_exec\_txn\_account\_is\_writable\_idx\_flat<!-- {{#callable_declaration:fd_exec_txn_account_is_writable_idx_flat}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L302>)

Determines if a transaction account is writable.
- **Description**: Use this function to check if a specific account in a transaction is writable based on various conditions. It evaluates the writability of the account by checking if the account is marked as writable in the transaction descriptor, if it is not a reserved key, and if it is not subject to demotion due to BPF upgradeable loader conditions. This function is useful when you need to verify account permissions before performing operations that require write access.
- **Inputs**:
    - `slot`: The current slot number, which is used to evaluate feature activation. Must be a valid unsigned long integer.
    - `idx`: The index of the account within the transaction. Must be a valid unsigned short integer.
    - `addr_at_idx`: A pointer to the public key of the account at the specified index. Must not be null.
    - `txn_descriptor`: A pointer to the transaction descriptor containing account information. Must not be null.
    - `features`: A pointer to the features structure used to check feature activation. Must not be null.
    - `bpf_upgradeable_in_txn`: An unsigned integer indicating if a BPF upgradeable loader account is present in the transaction. Typically obtained from another function.
- **Output**: Returns 1 if the account is writable, otherwise returns 0.
- **See Also**: [`fd_exec_txn_account_is_writable_idx_flat`](<fd_exec_txn_ctx.c.md#fd_exec_txn_account_is_writable_idx_flat>)  (Implementation)


---
### fd\_txn\_account\_has\_bpf\_loader\_upgradeable<!-- {{#callable_declaration:fd_txn_account_has_bpf_loader_upgradeable}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L312>)

Checks if any account key matches the BPF loader upgradeable program ID.
- **Description**: Use this function to determine if any of the provided account keys correspond to the BPF loader upgradeable program ID. This is useful when you need to verify the presence of a specific program ID within a set of account keys. Ensure that the `account_keys` array is not null and that `accounts_cnt` accurately reflects the number of elements in the array. The function returns a non-zero value if a match is found, otherwise it returns zero.
- **Inputs**:
    - `account_keys`: An array of `fd_pubkey_t` structures representing account public keys. Must not be null, and each element should be a valid public key.
    - `accounts_cnt`: The number of account keys in the `account_keys` array. Must be a non-negative value and should accurately reflect the size of the array.
- **Output**: Returns 1 if a matching BPF loader upgradeable program ID is found, otherwise returns 0.
- **See Also**: [`fd_txn_account_has_bpf_loader_upgradeable`](<fd_exec_txn_ctx.c.md#fd_txn_account_has_bpf_loader_upgradeable>)  (Implementation)


---
### fd\_txn\_account\_check\_exists<!-- {{#callable_declaration:fd_txn_account_check_exists}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L322>)

Checks if a transaction account exists.
- **Description**: Use this function to verify the existence of a transaction account. It is useful when you need to ensure that an account is present before performing operations on it. The function does not modify the account or the transaction context. It is important to pass a valid account pointer to avoid undefined behavior.
- **Inputs**:
    - `acc`: A pointer to the transaction account to check. Must not be null. The caller retains ownership.
    - `ctx`: A pointer to the transaction execution context. This parameter is not used in the function, but must be valid. The caller retains ownership.
    - `idx`: An index value. This parameter is not used in the function, but must be valid.
- **Output**: Returns a non-zero value if the account exists, or zero if it does not.
- **See Also**: [`fd_txn_account_check_exists`](<fd_exec_txn_ctx.c.md#fd_txn_account_check_exists>)  (Implementation)


---
### fd\_txn\_account\_check\_is\_writable<!-- {{#callable_declaration:fd_txn_account_check_is_writable}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L327>)

Checks if a transaction account is writable.
- **Description**: Use this function to determine if a specific account in a transaction context is writable. This function is useful when you need to verify the writability of an account before performing operations that require write access. Ensure that the transaction context is properly initialized and that the index provided is within the valid range of accounts in the context.
- **Inputs**:
    - `acc`: A pointer to an `fd_txn_account_t` structure. This parameter is not used in the function, but it must be a valid pointer.
    - `ctx`: A pointer to a constant `fd_exec_txn_ctx_t` structure representing the transaction context. Must not be null.
    - `idx`: An unsigned short integer representing the index of the account within the transaction context. Must be within the valid range of account indices in the context.
- **Output**: Returns an integer indicating whether the account at the specified index is writable. A non-zero value indicates the account is writable, while zero indicates it is not.
- **See Also**: [`fd_txn_account_check_is_writable`](<fd_exec_txn_ctx.c.md#fd_txn_account_check_is_writable>)  (Implementation)


---
### fd\_txn\_account\_check\_fee\_payer\_writable<!-- {{#callable_declaration:fd_txn_account_check_fee_payer_writable}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L338>)

Checks if the fee payer account is writable.
- **Description**: Use this function to verify if the fee payer account in a transaction is writable. This is important to ensure that the fee payer can be modified as required by the transaction. The function should be called with a valid transaction context and the index of the account to check. It is typically used in transaction processing to validate account permissions before executing a transaction.
- **Inputs**:
    - `acc`: A pointer to `fd_txn_account_t`, representing the account to check. The function does not use this parameter, so it can be null.
    - `ctx`: A pointer to a constant `fd_exec_txn_ctx_t`, representing the transaction context. Must not be null.
    - `idx`: An unsigned short integer representing the index of the account to check within the transaction. Must be a valid index within the transaction's account list.
- **Output**: Returns an integer indicating if the fee payer account is writable. A non-zero value indicates writable, while zero indicates not writable.
- **See Also**: [`fd_txn_account_check_fee_payer_writable`](<fd_exec_txn_ctx.c.md#fd_txn_account_check_fee_payer_writable>)  (Implementation)


---
### fd\_txn\_account\_check\_borrow\_mut<!-- {{#callable_declaration:fd_txn_account_check_borrow_mut}} -->
[View Source →](<../../../../../../src/flamenco/runtime/context/fd_exec_txn_ctx.h#L354>)

Checks if an account is mutable and attempts to borrow it mutably.
- **Description**: Use this function to verify if an account is mutable and to attempt to borrow it for modification. This function is useful when you need to ensure that an account can be safely modified within a transaction context. It must be called with a valid account pointer. The function does not modify the transaction context or the index parameter, and it does not perform any operations on them.
- **Inputs**:
    - `acc`: A pointer to an `fd_txn_account_t` structure representing the account to check and borrow. Must not be null. The function checks if the account is mutable and attempts to borrow it mutably.
    - `ctx`: A pointer to a constant `fd_exec_txn_ctx_t` structure representing the transaction context. This parameter is not used in the function, but it must be a valid pointer.
    - `idx`: An unsigned short integer representing the index of the account in the transaction context. This parameter is not used in the function.
- **Output**: Returns an integer indicating success or failure. A non-zero return value indicates that the account is mutable and has been successfully borrowed mutably.
- **See Also**: [`fd_txn_account_check_borrow_mut`](<fd_exec_txn_ctx.c.md#fd_txn_account_check_borrow_mut>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)