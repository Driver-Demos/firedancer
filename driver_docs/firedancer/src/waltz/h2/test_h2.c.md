<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests for HTTP/2 components including HPACK, header matching, connection, and protocol handling.

# Purpose
This code is a C test suite for validating various components related to HTTP/2 functionality. It includes several test modules such as `test_hpack.c`, `test_h2_hdr_match.c`, `test_h2_conn.c`, and `test_h2_proto.c`, which are used to test different aspects of HTTP/2 processing. The [`main`](<#main>) function initializes the environment by calling `fd_boot`, sets up a random number generator using `fd_rng_new`, and then sequentially executes each test function, logging the progress with `FD_LOG_NOTICE`. If the `FD_HAS_HOSTED` macro is defined, it also includes and tests `test_h2_rbuf.c`. After all tests are executed, the random number generator is cleaned up, and the program logs a "pass" message before halting with `fd_halt`.
# Imports and Dependencies

---
- `../../util/fd_util.h`
- `test_hpack.c`
- `test_h2_rbuf.c`
- `test_h2_hdr_match.c`
- `test_h2_conn.c`
- `test_h2_proto.c`


# Functions

---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../../src/waltz/h2/test_h2.c#L11>)

Initializes the environment, runs a series of tests, and then terminates the program.
- **Inputs**:
    - `argc`: The number of command-line arguments.
    - `argv`: An array of strings representing the command-line arguments.
- **Logic and Control Flow**:
    - Calls `fd_boot` to initialize the environment with command-line arguments.
    - Creates a random number generator `rng` using `fd_rng_new`, `fd_rng_join`, and initializes it with `_rng`.
    - Logs a notice and calls [`test_hpack`](<test_hpack.c.md#test_hpack>) to test HPACK functionality.
    - If `FD_HAS_HOSTED` is defined, logs a notice and calls [`test_h2_rbuf`](<test_h2_rbuf.c.md#test_h2_rbuf>) with `rng` to test H2 buffer functionality.
    - Logs a notice and calls [`test_h2_hdr_match`](<test_h2_hdr_match.c.md#test_h2_hdr_match>) to test H2 header matching functionality.
    - Logs a notice and calls [`test_h2_conn`](<test_h2_conn.c.md#test_h2_conn>) to test H2 connection functionality.
    - Logs a notice and calls [`test_h2_proto`](<test_h2_proto.c.md#test_h2_proto>) to test H2 protocol functionality.
    - Deletes the random number generator using `fd_rng_leave` and `fd_rng_delete`.
    - Logs a notice indicating all tests passed.
    - Calls `fd_halt` to terminate the program.
- **Output**: Returns 0 to indicate successful execution.
- **Functions Called**:
    - [`test_hpack`](<test_hpack.c.md#test_hpack>)
    - [`test_h2_rbuf`](<test_h2_rbuf.c.md#test_h2_rbuf>)
    - [`test_h2_hdr_match`](<test_h2_hdr_match.c.md#test_h2_hdr_match>)
    - [`test_h2_conn`](<test_h2_conn.c.md#test_h2_conn>)
    - [`test_h2_proto`](<test_h2_proto.c.md#test_h2_proto>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)