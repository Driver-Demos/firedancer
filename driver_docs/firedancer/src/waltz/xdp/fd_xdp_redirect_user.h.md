<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions to activate and deactivate XSK file descriptors in an XDP redirect program's XSKMAP.

# Purpose
This C header file defines the interface for managing XSK (AF_XDP socket) file descriptors within an XDP (eXpress Data Path) redirect program. It includes two primary functions: [`fd_xsk_activate`](<#fd_xsk_activate>) and [`fd_xsk_deactivate`](<#fd_xsk_deactivate>). The [`fd_xsk_activate`](<#fd_xsk_activate>) function installs an XSK file descriptor into the XDP redirect program's XSKMAP for a specified network device, allowing packets to be redirected to and from the XSK's RX and TX queues. The [`fd_xsk_deactivate`](<#fd_xsk_deactivate>) function removes an XSK file descriptor from the XSKMAP, stopping the flow of traffic to the XSK. The file includes necessary headers and uses macros to manage function prototypes.
# Imports and Dependencies

---
- `fd_xsk.h`
- `../../util/fd_util.h`


# Function Declarations (Public API)

---
### fd\_xsk\_activate<!-- {{#callable_declaration:fd_xsk_activate}} -->
[View Source →](<../../../../../src/waltz/xdp/fd_xdp_redirect_user.h#L7>)

Installs an XSK file descriptor into the XDP redirect program's XSKMAP.
- **Description**: Use this function to bind an XSK file descriptor to a specific network device and queue in the XDP redirect program. This function must be called with a valid `fd_xsk_t` object that is locally joined. It replaces any existing XSK at the specified key without notification. When packets arrive on the network device's RX queue and the XDP program performs an XDP_REDIRECT action, these packets are redirected to the XSK RX queue. Packets written to the XSK's TX ring are sent to the corresponding network device's TX queue, but may be lost if congestion occurs. The function logs a warning and returns NULL if an error occurs.
- **Inputs**:
    - `xsk`: A pointer to a valid `fd_xsk_t` object that is locally joined. Must not be null.
    - `xsk_map_fd`: An integer representing the file descriptor of the XSKMAP. Must be a valid file descriptor.
- **Output**: Returns the `xsk` on success. Returns NULL and logs a warning if an error occurs.
- **See Also**: [`fd_xsk_activate`](<fd_xdp_redirect_user.c.md#fd_xsk_activate>)  (Implementation)


---
### fd\_xsk\_deactivate<!-- {{#callable_declaration:fd_xsk_deactivate}} -->
[View Source →](<../../../../../src/waltz/xdp/fd_xdp_redirect_user.h#L30>)

Uninstalls an XSK file descriptor from the XDP redirect program's XSKMAP.
- **Description**: Use this function to stop an XSK from receiving traffic by removing it from the XDP redirect program's XSKMAP. This function should be called when you want to deactivate the XSK and cease its traffic handling capabilities. It returns the XSK on success or if no installation was found, and logs a warning and returns NULL on error.
- **Inputs**:
    - `xsk`: A pointer to an `fd_xsk_t` structure representing the XSK to deactivate. Must be a valid local join to `fd_xsk_t`.
    - `xsk_map_fd`: An integer file descriptor for the XSKMAP from which the XSK will be uninstalled. Must be valid and open.
- **Output**: Returns the `xsk` on success or if no redirect program installation was found. Returns NULL and logs a warning on error.
- **See Also**: [`fd_xsk_deactivate`](<fd_xdp_redirect_user.c.md#fd_xsk_deactivate>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)