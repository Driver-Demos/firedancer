<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines data structures and functions for IPv4 neighbor discovery using ARP, including logging and printing.

# Purpose
This C header file defines structures and functions for managing IPv4 neighbor discovery using the Address Resolution Protocol (ARP). It includes the definition of the `fd_neigh4_entry` structure, which represents an ARP table entry with fields for an IPv4 address, a MAC address, a state, and a timestamp for probe suppression. The file defines two states for ARP entries: `FD_NEIGH4_STATE_INCOMPLETE` and `FD_NEIGH4_STATE_ACTIVE`. It also declares the function [`fd_neigh4_hmap_fprintf`](<#fd_neigh4_hmap_fprintf>), which prints the routing table to a specified file, ensuring the order of routes remains stable between calls. The header includes necessary dependencies and configuration for integration with other components, such as logging and map slot parameterization.
# Imports and Dependencies

---
- `../../util/log/fd_log.h`
- `fd_neigh4_map_defines.h`
- `../../util/tmpl/fd_map_slot_para.c`


# Data Structures

---
### fd\_neigh4\_entry
- **Type**: ``struct``
- **Members**:
    - ``ip4_addr``: Stores the IPv4 address.
    - ``mac_addr``: Stores the MAC address as an array of 6 unsigned characters.
    - ``state``: Indicates the state of the neighbor entry.
    - ``_pad``: Used for padding to align the structure.
    - ``probe_suppress_until``: Stores a timestamp until which probe suppression is active.
- **Description**: Aligns to 16 bytes and represents an IPv4 neighbor entry with fields for IP and MAC addresses, state, padding, and a timestamp for probe suppression.


---
### fd\_neigh4\_entry\_t
- **Type**: ``struct``
- **Members**:
    - ``ip4_addr``: Stores the IPv4 address.
    - ``mac_addr``: Stores the MAC address as an array of 6 unsigned characters.
    - ``state``: Indicates the state of the neighbor entry.
    - ``_pad``: Used for padding to align the structure.
    - ``probe_suppress_until``: Specifies the time until which probes are suppressed.
- **Description**: Aligns to 16 bytes and represents an entry in an IPv4 neighbor table, used for ARP-based neighbor discovery.


# Function Declarations (Public API)

---
### fd\_neigh4\_hmap\_fprintf<!-- {{#callable_declaration:fd_neigh4_hmap_fprintf}} -->
[View Source →](<../../../../../src/waltz/neigh/fd_neigh4_map.h#L35>)

Prints the routing table to a specified file.
- **Description**: Use this function to print the routing table of an IPv4 neighbor discovery map to a specified file. The function outputs the table in ASCII format with LF newlines. It only operates on tables that are in the ACTIVE state. The order of the routes in the output is not defined but remains consistent between calls. This function returns 0 on success and an error code on failure.
- **Inputs**:
    - `map`: A pointer to a constant `fd_neigh4_hmap_t` structure representing the IPv4 neighbor discovery map. The map must be in the ACTIVE state. The caller retains ownership and must ensure the pointer is not null.
    - `file`: A pointer to a `FILE` or equivalent target where the routing table will be printed. The caller retains ownership and must ensure the pointer is not null.
- **Output**: Returns 0 on success. On failure, returns an error code corresponding to the `errno` set by the `fprintf` function.
- **See Also**: [`fd_neigh4_hmap_fprintf`](<fd_neigh4_map.c.md#fd_neigh4_hmap_fprintf>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)