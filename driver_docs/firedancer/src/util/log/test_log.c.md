<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests for logging functionality, including log levels, hexdump logging, and wallclock operations.

# Purpose
The code is a C program designed to test and demonstrate various logging functionalities. It includes assertions to verify constants related to logging, such as `FD_LOG_NAME_MAX` and `FD_LOG_WALLCLOCK_CSTR_BUF_SZ`. The program initializes logging settings and tests different log levels, including `DEBUG`, `INFO`, `NOTICE`, `WARNING`, `CRIT`, `ALERT`, and `EMERG`. It also tests the logging of hexdumps with different configurations, such as null and non-null memory, varying sizes, and descriptions. The program exercises edge cases, including large data blobs and unprintable characters, to ensure the logging system handles these scenarios correctly.

The program also includes tests for logging configuration functions, such as `fd_log_colorize`, `fd_log_level_logfile`, and `fd_log_thread_set`, among others. It verifies the behavior of wallclock-related functions like `fd_log_wallclock`, `fd_log_sleep`, and `fd_log_wait_until`. Additionally, the code includes debugging helpers and ensures that the logging system can handle repeated log messages efficiently. The program concludes with tests for cancelling log messages, which terminate the program under certain conditions. Overall, the code serves as a comprehensive test suite for a logging library, ensuring that various logging features and edge cases are correctly implemented and functioning.
# Imports and Dependencies

---
- `../fd_util.h`


# Global Variables

---
### volatile\_yes
- **Type**: `int volatile`
- **Description**: A global variable declared as an integer with the 'volatile' keyword, initialized to 1.
- **Use**: Used to control conditional logging and backtrace tests in the program.


---
### large\_blob
- **Type**: ``char` array`
- **Description**: A static character array named `large_blob` with a size of 50,000 elements. It is initialized to store a large amount of data, specifically 50,000 characters.
- **Use**: Used to store and manipulate a large block of data, as demonstrated by the `memset` function filling it with a specific character.


# Functions

---
### backtrace\_test<!-- {{#callable:backtrace_test}} -->
[View Source →](<../../../../../src/util/log/test_log.c#L15>)

Triggers critical, alert, and emergency log messages with backtrace and aborts the program if `volatile_yes` is true.
- **Inputs**: None
- **Logic and Control Flow**:
    - Checks if `volatile_yes` is true.
    - If true, logs a critical message using `FD_LOG_CRIT` and aborts the program.
    - If true, logs an alert message using `FD_LOG_ALERT` and aborts the program.
    - If true, logs an emergency message using `FD_LOG_EMERG` and aborts the program.
- **Output**: No return value; the function logs messages and aborts the program.


---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../../src/util/log/test_log.c#L24>)

Initializes logging, tests various logging functionalities, and performs rudimentary wallclock tests.
- **Inputs**:
    - `argc`: The number of command-line arguments.
    - `argv`: An array of command-line argument strings.
- **Logic and Control Flow**:
    - Calls `fd_boot` to initialize the environment with command-line arguments.
    - Logs various messages at different levels (DEBUG, INFO, NOTICE, WARNING) to test logging functionality.
    - Retrieves and logs information about the calling thread, such as colorization mode, log levels, and identifiers.
    - Verifies the integrity of build information using `FD_TEST`.
    - Sets and tests the wallclock using `fd_log_wallclock_set`.
    - Tests hexdump logging with various edge cases, including different log levels, descriptions, and memory sizes.
    - Exercises logging with large and unprintable character blobs.
    - Tests log level settings by adjusting and verifying them.
    - Sets and verifies thread and CPU names using `fd_log_thread_set` and `fd_log_cpu_set`.
    - Performs rudimentary wallclock tests to measure overhead and test sleep and wait functionalities.
    - Logs a test message using a hexadecimal format.
    - Flushes the log using `fd_log_flush`.
    - Includes conditional tests for `FD_TEST` to ensure it does not interpret lines as format strings.
    - Ends with cancelling log messages and calls `fd_halt` to terminate the program.
- **Output**: Returns 0 to indicate successful execution.
- **Functions Called**:
    - [`backtrace_test`](<#backtrace_test>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)