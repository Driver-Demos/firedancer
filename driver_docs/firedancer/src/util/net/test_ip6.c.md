<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests IPv6 to IPv4 address mapping and validation functions.

# Purpose
This code is a C program that tests the functionality of IPv6 and IPv4 address handling utilities. It includes headers `fd_ip6.h`, `fd_ip4.h`, and `fd_util.h` to access necessary functions and macros. The program initializes by calling `fd_boot` and then creates an IPv6 address that is mapped from an IPv4 address using `fd_ip6_addr_ip4_mapped`. It verifies the correctness of this mapping with `FD_TEST` assertions, checking if the IPv6 address is correctly identified as an IPv4-mapped address and if the conversion back to an IPv4 address is accurate. The program also tests the robustness of the mapping by altering bits in the IPv6 address and ensuring it is no longer recognized as an IPv4-mapped address. Upon successful completion of all tests, it logs a notice indicating the tests passed and then halts execution with `fd_halt`.
# Imports and Dependencies

---
- `fd_ip6.h`
- `fd_ip4.h`
- `../../util/fd_util.h`


# Functions

---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../../src/util/net/test_ip6.c#L5>)

Initializes the environment, tests IPv6 to IPv4 address mapping, and logs the result.
- **Inputs**:
    - `argc`: The count of command-line arguments.
    - `argv`: The array of command-line arguments.
- **Logic and Control Flow**:
    - Calls `fd_boot` to initialize the environment with command-line arguments.
    - Declares an array `ip6_addr` to store a 16-byte IPv6 address.
    - Maps an IPv4 address to an IPv6 address using [`fd_ip6_addr_ip4_mapped`](<fd_ip6.h.md#fd_ip6_addr_ip4_mapped>).
    - Verifies the mapping with `fd_memeq` and [`fd_ip6_addr_is_ip4_mapped`](<fd_ip6.h.md#fd_ip6_addr_is_ip4_mapped>).
    - Iterates over the first 10 bytes of `ip6_addr`, flipping each bit and checking that the address is no longer an IPv4-mapped IPv6 address.
    - Restores the original bits after each check.
    - Verifies that the IPv6 address can be converted back to the original IPv4 address using [`fd_ip6_addr_to_ip4`](<fd_ip6.h.md#fd_ip6_addr_to_ip4>).
    - Logs a success message with `FD_LOG_NOTICE`.
    - Calls `fd_halt` to terminate the program.
- **Output**: Returns 0 to indicate successful execution.
- **Functions Called**:
    - [`fd_ip6_addr_ip4_mapped`](<fd_ip6.h.md#fd_ip6_addr_ip4_mapped>)
    - [`fd_ip6_addr_is_ip4_mapped`](<fd_ip6.h.md#fd_ip6_addr_is_ip4_mapped>)
    - [`fd_ip6_addr_to_ip4`](<fd_ip6.h.md#fd_ip6_addr_to_ip4>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)