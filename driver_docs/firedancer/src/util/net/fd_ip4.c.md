<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Converts a string representation of an IPv4 address to a 32-bit integer format.

# Purpose
The code provides functionality to convert a string representation of an IPv4 address into its numerical form. It includes the function [`fd_cstr_to_ip4_addr`](<#fd_cstr_to_ip4_addr>), which takes a string `s` and a pointer `out` to store the resulting IPv4 address. The function first copies the input string into a local buffer `_s` and tokenizes it using the period character as a delimiter. It expects exactly four tokens, corresponding to the four octets of an IPv4 address. Each token is converted to an unsigned character using the helper function [`__fd_cstr_to_uchar`](<#__fd_cstr_to_uchar>), which checks for valid numeric conversion and ensures the value does not exceed the maximum value for an unsigned character. If all tokens are valid, the function combines them into a single IPv4 address and stores it in the location pointed to by `out`.

The code includes necessary headers and uses utility functions from `fd_util.h`, such as `fd_cstr_tokenize` and `FD_IP4_ADDR`, to facilitate string manipulation and address construction. The function [`fd_cstr_to_ip4_addr`](<#fd_cstr_to_ip4_addr>) returns 1 on successful conversion and 0 if the input string is invalid or if any conversion fails. The code is intended to be part of a larger system that requires conversion of IPv4 addresses from string format to numerical format, and it does not define a public API or external interface on its own.
# Imports and Dependencies

---
- `fd_ip4.h`
- `../fd_util.h`
- `stdlib.h`


# Functions

---
### \_\_fd\_cstr\_to\_uchar<!-- {{#callable:__fd_cstr_to_uchar}} -->
[View Source →](<../../../../../src/util/net/fd_ip4.c#L8>)

Converts a C string to an unsigned char value, returning -1 if the conversion is invalid or out of range.
- **Inputs**:
    - `cstr`: A constant character pointer to the C string that represents the number to convert.
- **Logic and Control Flow**:
    - Initialize `endptr` to NULL to track the end of the parsed string.
    - Use `strtoul` to convert the string `cstr` to an unsigned long integer, storing the end of the parsed string in `endptr`.
    - Check if the conversion did not consume any characters (`cstr == endptr`), if there are leftover characters (`endptr[0]`), or if the value exceeds `UCHAR_MAX`.
    - Return -1 if any of the above conditions are true, indicating an invalid conversion.
    - Otherwise, return the converted value cast to an integer.
- **Output**: Returns the converted unsigned char value as an integer, or -1 if the conversion is invalid or out of range.


---
### fd\_cstr\_to\_ip4\_addr<!-- {{#callable:fd_cstr_to_ip4_addr}} -->
[View Source →](<../../../../../src/util/net/fd_ip4.c#L16>)

Converts a C string representing an IPv4 address into a 32-bit unsigned integer.
- **Inputs**:
    - `s`: A pointer to a C string containing the IPv4 address in dot-decimal notation.
    - `out`: A pointer to a `uint` where the function will store the converted IPv4 address.
- **Logic and Control Flow**:
    - Copy the input string `s` into a local buffer `_s` with a maximum length of 15 characters and null-terminate it.
    - Tokenize the string `_s` using the dot character '.' as a delimiter, expecting exactly 4 tokens.
    - If the tokenization does not result in exactly 4 tokens, return 0 to indicate failure.
    - Convert each token to an unsigned char using the helper function [`__fd_cstr_to_uchar`](<#__fd_cstr_to_uchar>).
    - If any conversion results in a negative value, return 0 to indicate failure.
    - Combine the four converted values into a single 32-bit unsigned integer using the macro `FD_IP4_ADDR`.
    - Store the result in the location pointed to by `out` and return 1 to indicate success.
- **Output**: Returns 1 if the conversion is successful and 0 if it fails.
- **Functions Called**:
    - [`__fd_cstr_to_uchar`](<#__fd_cstr_to_uchar>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)