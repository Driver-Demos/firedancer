<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests for SIMD operations on various data types, including vector extraction, insertion, and storage.

# Purpose
The code is a test suite for verifying the functionality of vector operations on different data types, including integers, floats, doubles, and bytes. It defines several test functions such as [`vc_test`](<#vc_test>), [`vf_test`](<#vf_test>), [`vi_test`](<#vi_test>), [`vu_test`](<#vu_test>), [`vd_test`](<#vd_test>), [`vl_test`](<#vl_test>), and [`vv_test`](<#vv_test>), each corresponding to a specific vector type. These functions perform a series of operations to test the extraction, insertion, loading, and storing of vector elements. The tests include both aligned and unaligned memory operations, as well as conditional compilation for AVX2 instructions to test gather operations.

Each test function checks the correctness of vector operations by comparing the results of operations like `extract`, `insert`, `load`, and `store` against expected values. The functions use helper functions such as `vc_pack`, `vc_eq`, `vc_ne`, and others to perform these checks. The code is structured to return `1` if all tests pass and `0` if any test fails, indicating a failure in the vector operation being tested. This suite is intended to ensure that vector operations behave as expected across different data types and memory alignments.
# Imports and Dependencies

---
- `../fd_util.h`
- `fd_sse.h`


# Functions

---
### vc\_test<!-- {{#callable:vc_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L4>)

Validates a vector `vc_t` against expected boolean values and performs various vector operations to ensure correctness.
- **Inputs**:
    - `c`: A vector of type `vc_t` to test.
    - `c0`: An integer representing the expected boolean value for the first element of the vector.
    - `c1`: An integer representing the expected boolean value for the second element of the vector.
    - `c2`: An integer representing the expected boolean value for the third element of the vector.
    - `c3`: An integer representing the expected boolean value for the fourth element of the vector.
- **Logic and Control Flow**:
    - Convert `c0`, `c1`, `c2`, and `c3` to boolean values (0 or 1).
    - Initialize a volatile integer array `_` and an integer array `m` with 23 elements.
    - Set all elements of `m` to zero using `fd_memset`.
    - Pack the boolean values into an integer `b` and compare with the packed vector `c`. Return 0 if they do not match.
    - Unpack `b` and compare with `c` using `vc_eq`. Return 0 if the packed result is not 15.
    - Extract each element from `c` and compare with `c0`, `c1`, `c2`, and `c3`. Return 0 if any do not match.
    - Use `vc_extract_variable` to extract elements from `c` using `_` and compare with `c0`, `c1`, `c2`, and `c3`. Return 0 if any do not match.
    - Store `c` into `m` using aligned and unaligned store functions ([`vc_st`](<fd_sse_vc.h.md#vc_st>), [`vc_stu`](<fd_sse_vc.h.md#vc_stu>)).
    - Load from `m` using fast load functions ([`vc_ld_fast`](<fd_sse_vc.h.md#vc_ld_fast>), [`vc_ldu_fast`](<fd_sse_vc.h.md#vc_ldu_fast>)) and compare with `c`. Return 0 if any do not match.
    - If `__AVX2__` is defined, perform a fast gather operation and compare with `c`. Return 0 if they do not match.
    - Multiply each element of `m` by its index plus one.
    - Load from `m` using load functions ([`vc_ld`](<fd_sse_vc.h.md#vc_ld>), [`vc_ldu`](<fd_sse_vc.h.md#vc_ldu>)) and compare with `c`. Return 0 if any do not match.
    - If `__AVX2__` is defined, perform a gather operation and compare with `c`. Return 0 if they do not match.
    - Insert `c0`, `c1`, `c2`, and `c3` into a false vector using `vc_insert` and compare with `c`. Return 0 if they do not match.
    - Use `vc_insert_variable` to insert `c0`, `c1`, `c2`, and `c3` into a true vector using `_` and compare with `c`. Return 0 if they do not match.
    - Return 1 if all tests pass.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vc_st`](<fd_sse_vc.h.md#vc_st>)
    - [`vc_stu`](<fd_sse_vc.h.md#vc_stu>)
    - [`vc_ld_fast`](<fd_sse_vc.h.md#vc_ld_fast>)
    - [`vc_ldu_fast`](<fd_sse_vc.h.md#vc_ldu_fast>)
    - [`vc_ld`](<fd_sse_vc.h.md#vc_ld>)
    - [`vc_ldu`](<fd_sse_vc.h.md#vc_ldu>)


---
### vf\_test<!-- {{#callable:vf_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L67>)

Validates a vector of floats by performing extraction, storage, loading, and insertion operations, and checks for equality with given float values.
- **Inputs**:
    - ``f``: A vector of floats (`vf_t`) to test.
    - ``f0``: The expected float value at index 0.
    - ``f1``: The expected float value at index 1.
    - ``f2``: The expected float value at index 2.
    - ``f3``: The expected float value at index 3.
- **Logic and Control Flow**:
    - Extracts each float from the vector `f` and compares it with the corresponding input float (`f0`, `f1`, `f2`, `f3`).
    - Uses a volatile integer array to perform variable index extraction and compares the results with the input floats.
    - Stores the vector `f` into a float array `m` using both aligned and unaligned store operations.
    - Loads the stored values back into a vector `g` and checks if it equals the original vector `f` using equality checks and packing operations.
    - If `__AVX2__` is defined, performs a gather operation and checks for equality.
    - Inserts the input floats into a new vector `g` and checks if it equals the original vector `f`.
    - Uses a volatile integer array to perform variable index insertion and checks for equality with the original vector `f`.
    - Returns 0 if any check fails, otherwise returns 1.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vf_extract_variable`](<fd_sse_vf.h.md#vf_extract_variable>)
    - [`vf_insert_variable`](<fd_sse_vf.h.md#vf_insert_variable>)


---
### vi\_test<!-- {{#callable:vi_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L111>)

Validates a vector `vi_t` against four integer values and performs various vector operations to ensure consistency.
- **Inputs**:
    - `i`: A vector of type `vi_t` to test.
    - `i0`: The expected integer value at index 0 of the vector.
    - `i1`: The expected integer value at index 1 of the vector.
    - `i2`: The expected integer value at index 2 of the vector.
    - `i3`: The expected integer value at index 3 of the vector.
- **Logic and Control Flow**:
    - Check if the elements of vector `i` at indices 0 to 3 match `i0` to `i3` using `vi_extract`.
    - Use a volatile integer array to dynamically extract and verify elements of `i` using [`vi_extract_variable`](<fd_sse_vi.h.md#vi_extract_variable>).
    - Store vector `i` into an integer array `m` using aligned and unaligned store operations ([`vi_st`](<fd_sse_vi.h.md#vi_st>) and [`vi_stu`](<fd_sse_vi.h.md#vi_stu>)).
    - Load the stored values back into vector `j` and compare with `i` using [`vi_ld`](<fd_sse_vi.h.md#vi_ld>), [`vi_ldu`](<fd_sse_vi.h.md#vi_ldu>), and `vc_pack` to ensure they match.
    - If `__AVX2__` is defined, perform a gather operation on `m` and compare the result with `i`.
    - Reconstruct vector `j` from `i0` to `i3` using `vi_insert` and [`vi_insert_variable`](<fd_sse_vi.h.md#vi_insert_variable>), and compare with `i` to ensure they match.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vi_extract_variable`](<fd_sse_vi.h.md#vi_extract_variable>)
    - [`vi_st`](<fd_sse_vi.h.md#vi_st>)
    - [`vi_stu`](<fd_sse_vi.h.md#vi_stu>)
    - [`vi_ld`](<fd_sse_vi.h.md#vi_ld>)
    - [`vi_ldu`](<fd_sse_vi.h.md#vi_ldu>)
    - [`vi_insert_variable`](<fd_sse_vi.h.md#vi_insert_variable>)


---
### vu\_test<!-- {{#callable:vu_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L155>)

Validates a vector `vu_t` against four unsigned integers and performs various vector operations to ensure consistency.
- **Inputs**:
    - `u`: A vector of type `vu_t` to be tested.
    - `u0`: An unsigned integer representing the expected value at index 0 of the vector.
    - `u1`: An unsigned integer representing the expected value at index 1 of the vector.
    - `u2`: An unsigned integer representing the expected value at index 2 of the vector.
    - `u3`: An unsigned integer representing the expected value at index 3 of the vector.
- **Logic and Control Flow**:
    - Check if the elements at indices 0 to 3 of vector `u` match `u0` to `u3` using `vu_extract`; return 0 if any do not match.
    - Use a volatile integer array to extract elements from `u` using [`vu_extract_variable`](<fd_sse_vu.h.md#vu_extract_variable>) and compare them to `u0` to `u3`; return 0 if any do not match.
    - Store vector `u` into an array `m` using aligned and unaligned store functions [`vu_st`](<fd_sse_vu.h.md#vu_st>) and [`vu_stu`](<fd_sse_vu.h.md#vu_stu>).
    - Load the stored values back into vector `v` using [`vu_ld`](<fd_sse_vu.h.md#vu_ld>) and [`vu_ldu`](<fd_sse_vu.h.md#vu_ldu>), and check for equality with `u` using `vu_eq` and `vc_pack`; return 0 if any do not match.
    - If `__AVX2__` is defined, perform a gather operation on `m` and check for equality with `u`; return 0 if not equal.
    - Insert `u0` to `u3` into a zero-initialized vector using `vu_insert` and check for inequality with `u` using `vu_ne`; return 0 if any are not equal.
    - Use a volatile integer array to insert `u0` to `u3` into a one-initialized vector using [`vu_insert_variable`](<fd_sse_vu.h.md#vu_insert_variable>) and check for inequality with `u` using `vu_ne`; return 0 if any are not equal.
    - Return 1 if all checks pass.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vu_extract_variable`](<fd_sse_vu.h.md#vu_extract_variable>)
    - [`vu_st`](<fd_sse_vu.h.md#vu_st>)
    - [`vu_stu`](<fd_sse_vu.h.md#vu_stu>)
    - [`vu_ld`](<fd_sse_vu.h.md#vu_ld>)
    - [`vu_ldu`](<fd_sse_vu.h.md#vu_ldu>)
    - [`vu_gather`](<fd_sse_vu.h.md#vu_gather>)
    - [`vu_insert_variable`](<fd_sse_vu.h.md#vu_insert_variable>)


---
### vd\_test<!-- {{#callable:vd_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L199>)

Validates a vector of doubles `d` against expected values `d0` and `d1` through various extraction, storage, and insertion operations.
- **Inputs**:
    - `d`: A vector of doubles to test.
    - `d0`: The expected double value at index 0 of the vector `d`.
    - `d1`: The expected double value at index 1 of the vector `d`.
- **Logic and Control Flow**:
    - Check if the first element of `d` is equal to `d0`; return 0 if not.
    - Check if the second element of `d` is equal to `d1`; return 0 if not.
    - Use a volatile integer array to extract elements from `d` and compare them to `d0` and `d1`; return 0 if any comparison fails.
    - Store `d` into a double array `m` using aligned and unaligned store operations.
    - Load from `m` into `e` and compare with `d` using equality checks; return 0 if any comparison fails.
    - If `__AVX2__` is defined, perform gather operations on `m` and compare with `d`; return 0 if any comparison fails.
    - Insert `d0` and `d1` into a zero-initialized vector and compare with `d`; return 0 if any comparison fails.
    - Use a volatile integer array to insert `d0` and `d1` into a one-initialized vector and compare with `d`; return 0 if any comparison fails.
    - Return 1 if all tests pass.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vd_extract`](<fd_sse_vd.h.md#vd_extract>)
    - [`vd_extract_variable`](<fd_sse_vd.h.md#vd_extract_variable>)
    - [`vd_insert`](<fd_sse_vd.h.md#vd_insert>)
    - [`vd_insert_variable`](<fd_sse_vd.h.md#vd_insert_variable>)


---
### vl\_test<!-- {{#callable:vl_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L234>)

Validates a vector `vl_t` against expected values and performs various vector operations to ensure correctness.
- **Inputs**:
    - ``l``: A vector of type `vl_t` to test.
    - ``l0``: The expected value at index 0 of the vector `l`.
    - ``l1``: The expected value at index 1 of the vector `l`.
- **Logic and Control Flow**:
    - Check if the first element of `l` is equal to `l0`; return 0 if not.
    - Check if the second element of `l` is equal to `l1`; return 0 if not.
    - Use [`vl_extract_variable`](<fd_sse_vl.h.md#vl_extract_variable>) to check if the elements at indices 0 and 1 match `l0` and `l1`, respectively; return 0 if not.
    - Store the vector `l` into an aligned array `m` and perform unaligned stores at offsets 2 and 5.
    - Load the vector from `m` and check if it is equal to `l` using `vc_pack` and `vl_eq`; return 0 if not.
    - Perform similar checks for unaligned loads from `m+2` and `m+5`.
    - If `__AVX2__` is defined, perform gather operations on `m` and check equality with `l`; return 0 if not.
    - Insert `l0` and `l1` into a zero-initialized vector and check if it is equal to `l`; return 0 if not.
    - Use [`vl_insert_variable`](<fd_sse_vl.h.md#vl_insert_variable>) to insert `l0` and `l1` into a one-initialized vector and check if it is equal to `l`; return 0 if not.
    - Return 1 if all checks pass.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vl_extract_variable`](<fd_sse_vl.h.md#vl_extract_variable>)
    - [`vl_st`](<fd_sse_vl.h.md#vl_st>)
    - [`vl_stu`](<fd_sse_vl.h.md#vl_stu>)
    - [`vl_ld`](<fd_sse_vl.h.md#vl_ld>)
    - [`vl_ldu`](<fd_sse_vl.h.md#vl_ldu>)
    - [`vl_insert_variable`](<fd_sse_vl.h.md#vl_insert_variable>)


---
### vv\_test<!-- {{#callable:vv_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L269>)

Validates a vector `vv_t` against expected values and performs various vector operations to ensure correctness.
- **Inputs**:
    - `v`: A vector of type `vv_t` to be tested.
    - `v0`: An unsigned long integer representing the expected value at index 0 of the vector.
    - `v1`: An unsigned long integer representing the expected value at index 1 of the vector.
- **Logic and Control Flow**:
    - Check if the first element of vector `v` is equal to `v0`; return 0 if not.
    - Check if the second element of vector `v` is equal to `v1`; return 0 if not.
    - Use a volatile integer array to extract and verify elements of `v` at indices 0 and 1; return 0 if they do not match `v0` and `v1`.
    - Store vector `v` into an aligned memory array `m` and perform unaligned stores at offsets 2 and 5.
    - Load the stored values back into vector `w` and compare with `v`; return 0 if they are not equal.
    - If `__AVX2__` is defined, perform gather operations on `m` and compare with `v`; return 0 if they are not equal.
    - Insert `v0` and `v1` into a zero-initialized vector and compare with `v`; return 0 if they are not equal.
    - Use a volatile integer array to insert `v0` and `v1` into a one-initialized vector and compare with `v`; return 0 if they are not equal.
    - Return 1 if all checks pass.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vv_extract_variable`](<fd_sse_vv.h.md#vv_extract_variable>)
    - [`vv_st`](<fd_sse_vv.h.md#vv_st>)
    - [`vv_stu`](<fd_sse_vv.h.md#vv_stu>)
    - [`vv_ld`](<fd_sse_vv.h.md#vv_ld>)
    - [`vv_ldu`](<fd_sse_vv.h.md#vv_ldu>)
    - [`vv_insert_variable`](<fd_sse_vv.h.md#vv_insert_variable>)


---
### vb\_test<!-- {{#callable:vb_test}} -->
[View Source →](<../../../../../src/util/simd/test_sse_common.c#L304>)

Validates a `vb_t` vector against a given array of `uchar` values through extraction, storage, loading, and insertion operations.
- **Inputs**:
    - `b`: A `vb_t` vector to test against the `uchar` array.
    - `bi`: A pointer to an array of `uchar` values, expected to have at least 16 elements.
- **Logic and Control Flow**:
    - Initialize a volatile integer array `_` and a `uchar` array `m` with 151 elements.
    - Extract each element from the `vb_t` vector `b` and compare it with the corresponding element in the `bi` array; return 0 if any comparison fails.
    - Use a loop to extract each element from `b` using [`vb_extract_variable`](<fd_sse_vb.h.md#vb_extract_variable>) and compare it with `bi`; return 0 if any comparison fails.
    - Store the `vb_t` vector `b` into the `uchar` array `m` using both aligned and unaligned store operations.
    - Load the stored values back into a `vb_t` vector `g` and compare with `b` using `vb_eq`; return 0 if any comparison fails.
    - Initialize `g` to zero and insert each element from `bi` into `g` using `vb_insert`; compare `g` with `b` using `vb_ne` and return 0 if any comparison fails.
    - Use a loop to insert each element from `bi` into `g` using [`vb_insert_variable`](<fd_sse_vb.h.md#vb_insert_variable>); compare `g` with `b` using `vb_ne` and return 0 if any comparison fails.
    - Return 1 if all tests pass.
- **Output**: Returns 1 if all tests pass, otherwise returns 0.
- **Functions Called**:
    - [`vb_extract_variable`](<fd_sse_vb.h.md#vb_extract_variable>)
    - [`vb_st`](<fd_sse_vb.h.md#vb_st>)
    - [`vb_stu`](<fd_sse_vb.h.md#vb_stu>)
    - [`vb_ld`](<fd_sse_vb.h.md#vb_ld>)
    - [`vb_ldu`](<fd_sse_vb.h.md#vb_ldu>)
    - [`vb_insert_variable`](<fd_sse_vb.h.md#vb_insert_variable>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)