<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for AVX SIMD operations on vectors of 16 unsigned 16-bit integers, including constructors, memory, arithmetic, binary, and logical operations.

# Purpose
The code defines a set of macros and inline functions for operations on 256-bit vectors of unsigned 16-bit integers, using AVX (Advanced Vector Extensions) intrinsics. The primary data type used is `wh_t`, which is an alias for `__m256i`, representing a 256-bit vector. The code provides a variety of operations on these vectors, including constructors, memory operations, element extraction and insertion, arithmetic operations, binary operations, and logical operations. These operations are designed to handle vectors with 16 lanes, each holding a 16-bit unsigned integer.

The code is intended to be included indirectly through a header file named `fd_avx.h`, as indicated by the preprocessor directive at the beginning. It provides a narrow functionality focused on vector operations for unsigned 16-bit integers, leveraging AVX intrinsics for performance. The use of macros and inline functions allows for efficient execution by minimizing function call overhead. The code does not define public APIs or external interfaces but rather provides low-level operations that can be used in other parts of a program that require SIMD (Single Instruction, Multiple Data) processing capabilities.
# Functions

---
### wh\_ld<!-- {{#callable:wh_ld}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L44>)

Loads 16 unsigned 16-bit integers from a 32-byte aligned memory location into a vector register.
- **Inputs**:
    - `p`: A pointer to a 32-byte aligned memory location containing 16 unsigned 16-bit integers.
- **Logic and Control Flow**:
    - Casts the input pointer `p` to a pointer of type `__m256i const *`.
    - Uses the `_mm256_load_si256` intrinsic to load the data from the memory location into a `__m256i` vector register.
- **Output**: Returns a `wh_t` type, which is a `__m256i` vector containing the loaded 16 unsigned 16-bit integers.


---
### wh\_st<!-- {{#callable:wh_st}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L45>)

Stores a vector of 16 unsigned 16-bit integers into a 32-byte aligned memory location.
- **Inputs**:
    - ``p``: A pointer to a 32-byte aligned memory location where the vector will be stored.
    - ``i``: A vector of type `wh_t` containing 16 unsigned 16-bit integers to be stored.
- **Logic and Control Flow**:
    - Uses the `_mm256_store_si256` intrinsic to store the vector `i` into the memory location pointed to by `p`.
- **Output**: No return value; the function performs a memory store operation.


---
### wh\_ldu<!-- {{#callable:wh_ldu}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L47>)

Loads a 256-bit vector of unsigned 16-bit integers from an unaligned memory address.
- **Inputs**:
    - `p`: A pointer to the memory location from which to load the vector.
- **Logic and Control Flow**:
    - Casts the input pointer `p` to a pointer of type `__m256i const *`.
    - Uses the `_mm256_loadu_si256` intrinsic to load a 256-bit vector from the unaligned memory location pointed to by `p`.
- **Output**: Returns a `wh_t` type, which is a 256-bit vector containing 16 unsigned 16-bit integers loaded from the specified memory location.


---
### wh\_stu<!-- {{#callable:wh_stu}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L48>)

Stores a vector of unsigned 16-bit integers to a memory location without requiring alignment.
- **Inputs**:
    - ``p``: A pointer to the memory location where the vector will be stored. The location does not need to be aligned.
    - ``i``: A vector of type `wh_t` (which is an alias for `__m256i`) containing the unsigned 16-bit integers to store.
- **Logic and Control Flow**:
    - Uses the `_mm256_storeu_si256` intrinsic to store the vector `i` at the memory location pointed to by `p`.
- **Output**: No return value; the function performs a memory store operation.


---
### wh\_extract\_variable<!-- {{#callable:wh_extract_variable}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L64>)

Extracts a 16-bit unsigned integer from a specified lane of a 256-bit vector.
- **Inputs**:
    - ``a``: A 256-bit vector (`wh_t`) containing 16 lanes, each holding a 16-bit unsigned integer.
    - ``n``: An integer specifying the lane index (0 to 15) from which to extract the 16-bit unsigned integer.
- **Logic and Control Flow**:
    - Declare a union `t` with a 256-bit vector and an array of 16 unsigned 16-bit integers.
    - Store the 256-bit vector `a` into the union's vector member `t->m`.
    - Return the 16-bit unsigned integer from the `n`-th position of the union's array member `t->h`.
- **Output**: A 16-bit unsigned integer extracted from the specified lane `n` of the vector `a`.


---
### wh\_insert\_variable<!-- {{#callable:wh_insert_variable}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L71>)

Replaces the value in a specified lane of a vector of unsigned 16-bit integers with a new value.
- **Inputs**:
    - `a`: A vector of unsigned 16-bit integers (`wh_t`).
    - `n`: The index of the lane to replace, an integer between 0 and 15.
    - `v`: The new unsigned 16-bit integer value to insert into the specified lane.
- **Logic and Control Flow**:
    - Store the vector `a` into a temporary union `t` that allows access to individual lanes.
    - Replace the value at index `n` in the `h` array of the union `t` with the new value `v`.
    - Load the modified vector from the union `t` and return it.
- **Output**: A vector of unsigned 16-bit integers (`wh_t`) with the value at lane `n` replaced by `v`.


---
### wh\_rol<!-- {{#callable:wh_rol}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L118>)

Performs a bitwise left rotation on each 16-bit lane of a vector of unsigned 16-bit integers.
- **Inputs**:
    - ``a``: A vector of type `wh_t` where each lane contains a 16-bit unsigned integer.
    - ``imm``: An integer specifying the number of positions to rotate left, masked to the range [0, 15].
- **Logic and Control Flow**:
    - Mask the `imm` value with 15 to ensure it is within the range [0, 15].
    - Perform a left shift on the vector `a` by the masked `imm` value using `wh_shl`.
    - Perform a right shift on the vector `a` by the negated and masked `imm` value using `wh_shr`.
    - Combine the results of the left and right shifts using a bitwise OR operation with `wh_or`.
- **Output**: Returns a vector of type `wh_t` with each lane rotated left by the specified number of positions.


---
### wh\_ror<!-- {{#callable:wh_ror}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L119>)

Performs a bitwise right rotation on each 16-bit lane of a vector of unsigned 16-bit integers.
- **Inputs**:
    - ``a``: A vector of type `wh_t` where each lane is a 16-bit unsigned integer.
    - ``imm``: An integer representing the number of positions to rotate right, masked to the range [0, 15].
- **Logic and Control Flow**:
    - Mask `imm` with 15 to ensure it is within the range [0, 15].
    - Perform a right shift on `a` by the masked `imm` value using `wh_shr`.
    - Perform a left shift on `a` by the negated and masked `imm` value using `wh_shl`.
    - Combine the results of the right and left shifts using a bitwise OR operation with `wh_or`.
- **Output**: Returns a `wh_t` vector where each lane is the result of a right rotation of the corresponding lane in `a` by `imm` positions.


---
### wh\_rol\_variable<!-- {{#callable:wh_rol_variable}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L121>)

Performs a variable bitwise left rotation on each 16-bit lane of a vector of unsigned 16-bit integers.
- **Inputs**:
    - ``a``: A vector of type `wh_t` where each lane contains a 16-bit unsigned integer.
    - ``n``: An integer specifying the number of bits to rotate each lane to the left.
- **Logic and Control Flow**:
    - Compute `n & 15` to ensure the rotation count is within the range of 0 to 15 bits.
    - Perform a left shift on `a` by `n & 15` bits using `wh_shl_variable`.
    - Perform a right shift on `a` by `(-n) & 15` bits using `wh_shr_variable`.
    - Combine the results of the left and right shifts using a bitwise OR operation with `wh_or`.
- **Output**: Returns a vector of type `wh_t` with each lane rotated left by `n` bits.


---
### wh\_ror\_variable<!-- {{#callable:wh_ror_variable}} -->
[View Source →](<../../../../../src/util/simd/fd_avx_wh.h#L122>)

Performs a bitwise right rotation on each 16-bit lane of a vector of unsigned 16-bit integers by a variable number of bits.
- **Inputs**:
    - ``a``: A vector of type `wh_t` where each lane contains a 16-bit unsigned integer.
    - ``n``: An integer specifying the number of bits to rotate right, with the effective rotation being `n & 15`.
- **Logic and Control Flow**:
    - Calculate the effective number of bits to rotate right as `n & 15`.
    - Calculate the effective number of bits to rotate left as `(-n) & 15`.
    - Perform a right shift on `a` by the effective right rotation bits using `wh_shr_variable`.
    - Perform a left shift on `a` by the effective left rotation bits using `wh_shl_variable`.
    - Combine the results of the right and left shifts using a bitwise OR operation with `wh_or`.
- **Output**: Returns a vector of type `wh_t` with each lane containing the result of the right rotation operation.



---
Made with ❤️ by [Driver](https://www.driver.ai/)