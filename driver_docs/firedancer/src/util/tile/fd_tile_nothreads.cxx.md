<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements non-threaded tile management functions, including boot, halt, and execution handling.

# Purpose
The code defines a set of functions and structures related to managing and executing tasks on a tile-based system. It includes private and public APIs for handling tile identifiers and execution contexts. The private variables such as `fd_tile_private_id0`, `fd_tile_private_id1`, and `fd_tile_private_cnt` are used to store state information about the tiles, which are initialized during the boot process. The functions [`fd_tile_id0`](<#fd_tile_id0>), [`fd_tile_id1`](<#fd_tile_id1>), and [`fd_tile_cnt`](<#fd_tile_cnt>) provide access to these private variables. The code also defines a structure `fd_tile_exec_private` to manage execution contexts, including task information and command-line arguments.

The code includes functions for creating and managing execution contexts, such as [`fd_tile_exec_new`](<#fd_tile_exec_new>) and [`fd_tile_exec_delete`](<#fd_tile_exec_delete>), which handle the lifecycle of tasks on tiles. The boot and halt functions, [`fd_tile_private_boot`](<#fd_tile_private_boot>) and [`fd_tile_private_halt`](<#fd_tile_private_halt>), manage the initialization and cleanup of the tile system, logging relevant information during these processes. The code is structured to support a tile-based execution model, where tasks are dispatched and managed across different tiles, with logging and diagnostic capabilities integrated into the boot and halt processes.
# Imports and Dependencies

---
- `fd_tile.h`


# Global Variables

---
### fd\_tile\_private\_id0
- **Type**: ``ulong``
- **Description**: Represents a global variable that stores an identifier for a tile. It is initialized during the boot process and reset during the halt process.
- **Use**: Used to store and retrieve the identifier of a tile in the system.


---
### fd\_tile\_private\_id1
- **Type**: ``ulong``
- **Description**: Represents a static global variable of type `ulong` that is used to store an identifier related to the tile system.
- **Use**: Used to store and manage a unique identifier for a tile, initialized during the boot process and reset during the halt process.


---
### fd\_tile\_private\_cnt
- **Type**: `ulong`
- **Description**: Represents the count of tiles that are currently active or initialized in the system.
- **Use**: Used to track the number of active tiles, initialized during the boot process and reset during the halt process.


---
### fd\_tile\_private\_id
- **Type**: `ulong`
- **Description**: Stores the identifier for the current tile, initialized during the boot process and reset during halt.
- **Use**: Used to track the identifier of the tile in the system.


---
### fd\_tile\_private\_idx
- **Type**: ``ulong``
- **Description**: A static global variable that stores the index of a tile in the system. It is initialized to 0 during the boot process and reset to 0 during the halt process.
- **Use**: Used to track the current tile index in the system, particularly during boot and halt operations.


---
### fd\_tile\_private\_stack0
- **Type**: `ulong`
- **Description**: Represents a global variable of type `ulong` that is used to store a stack-related value for a tile in the system.
- **Use**: Used in the `fd_tile_private_boot` and `fd_tile_private_halt` functions to manage stack diagnostics and reset stack values during boot and halt operations.


---
### fd\_tile\_private\_stack1
- **Type**: `ulong`
- **Description**: `fd_tile_private_stack1` is a global variable of type `ulong` that is used to store stack-related information for a tile in the system.
- **Use**: It is initialized during the boot process and reset during the halt process to manage stack diagnostics.


# Data Structures

---
### fd\_tile\_exec\_private<!-- {{#data_structure:fd_tile_exec_private}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L23>)

- **Type**: ``struct``
- **Members**:
    - ``done``: Indicates if the task is complete.
    - ``argc``: Stores the number of command-line arguments.
    - ``argv``: Holds the command-line arguments as an array of strings.
    - ``task``: Represents the task to execute, defined by `fd_tile_task_t`.
    - ``idx``: Stores the index of the tile.
- **Description**: Defines a structure to manage the execution state of a tile, including task details, command-line arguments, and execution status.


# Functions

---
### fd\_tile\_id0<!-- {{#callable:fd_tile_id0}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L7>)

Returns the value of the static variable `fd_tile_private_id0`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Return the value of the static variable `fd_tile_private_id0`.
- **Output**: The function returns an `ulong` which is the value of `fd_tile_private_id0`.


---
### fd\_tile\_id1<!-- {{#callable:fd_tile_id1}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L8>)

Returns the value of the static variable `fd_tile_private_id1`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Accesses the static variable `fd_tile_private_id1`.
    - Returns the value of `fd_tile_private_id1`.
- **Output**: The function returns an `ulong` which is the value of `fd_tile_private_id1`.


---
### fd\_tile\_cnt<!-- {{#callable:fd_tile_cnt}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L9>)

Returns the value of the static variable `fd_tile_private_cnt`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Accesses the static variable `fd_tile_private_cnt`.
    - Returns the value of `fd_tile_private_cnt`.
- **Output**: The function returns an `ulong` representing the current count of tiles.


---
### fd\_tile\_id<!-- {{#callable:fd_tile_id}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L16>)

Returns the value of the private variable `fd_tile_private_id`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Return the value of the static variable `fd_tile_private_id`.
- **Output**: The function returns an `ulong` which is the value of `fd_tile_private_id`.


---
### fd\_tile\_idx<!-- {{#callable:fd_tile_idx}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L17>)

Returns the value of the private variable `fd_tile_private_idx`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Return the value of the static variable `fd_tile_private_idx`.
- **Output**: The function returns an `ulong` which is the value of `fd_tile_private_idx`.


---
### fd\_tile\_cpu\_id<!-- {{#callable:fd_tile_cpu_id}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L19>)

Returns `ULONG_MAX` if `tile_idx` is non-zero, otherwise returns the CPU ID from `fd_log_cpu_id()`.
- **Inputs**:
    - `tile_idx`: An unsigned long integer representing the tile index.
- **Logic and Control Flow**:
    - Check if `tile_idx` is non-zero.
    - If `tile_idx` is non-zero, return `ULONG_MAX`.
    - If `tile_idx` is zero, return the result of `fd_log_cpu_id()`.
- **Output**: An unsigned long integer, either `ULONG_MAX` or the CPU ID from `fd_log_cpu_id()`.


---
### fd\_tile\_exec\_new<!-- {{#callable:fd_tile_exec_new}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L31>)

Creates a new `fd_tile_exec_t` object but currently returns `NULL` without using the input parameters.
- **Inputs**:
    - ``idx``: An unsigned long integer representing the index of the tile.
    - ``task``: A `fd_tile_task_t` object representing the task to execute.
    - ``argc``: An integer representing the number of arguments.
    - ``argv``: A pointer to an array of character strings representing the arguments.
- **Logic and Control Flow**:
    - The function takes four parameters: `idx`, `task`, `argc`, and `argv`.
    - The parameters `task`, `argc`, and `argv` are cast to void to suppress unused variable warnings.
    - The macro `FD_VOLATILE_CONST` is used on `idx` to suppress compiler warnings about unused variables.
    - The function returns `NULL`.
- **Output**: Returns `NULL`, indicating that no `fd_tile_exec_t` object is created or returned.


---
### fd\_tile\_exec<!-- {{#callable:fd_tile_exec}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L41>)

Returns a null pointer after suppressing compiler warnings for the input argument.
- **Inputs**:
    - `tile_idx`: An unsigned long integer representing the tile index.
- **Logic and Control Flow**:
    - Suppresses compiler warnings for the `tile_idx` argument using `FD_VOLATILE_CONST` macro.
    - Returns `NULL`.
- **Output**: A null pointer of type `fd_tile_exec_t *`.


---
### fd\_tile\_exec\_delete<!-- {{#callable:fd_tile_exec_delete}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L48>)

Waits for the `done` flag in `fd_tile_exec_t` to be set before returning a specific message.
- **Inputs**:
    - ``exec``: A pointer to an `fd_tile_exec_t` structure, which contains the `done` flag to check.
    - ``opt_ret``: An optional pointer to an integer, which is not used in the function.
- **Logic and Control Flow**:
    - Enter a loop that continues while the `done` flag in the `exec` structure is not set.
    - Use `FD_VOLATILE_CONST` to read the `done` flag to ensure the compiler does not optimize away the check.
    - Call `FD_YIELD()` to yield the processor, allowing other threads to run while waiting for the `done` flag.
    - Exit the loop once the `done` flag is set.
    - Ignore the `opt_ret` parameter by casting it to void.
    - Return the string "fd_tile_exec_delete with no matching successful new".
- **Output**: A constant string message indicating that the function was called without a matching successful `new` operation.


---
### fd\_tile\_exec\_idx<!-- {{#callable:fd_tile_exec_idx}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L56>)

Returns the index of the given `fd_tile_exec_t` execution context.
- **Inputs**:
    - `exec`: A pointer to a constant `fd_tile_exec_t` structure representing the execution context.
- **Logic and Control Flow**:
    - Accesses the `idx` member of the `fd_tile_exec_t` structure pointed to by `exec`.
    - Returns the value of the `idx` member.
- **Output**: The index (`ulong`) of the execution context.


---
### fd\_tile\_exec\_task<!-- {{#callable:fd_tile_exec_task}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L57>)

Returns the task associated with a given `fd_tile_exec_t` object.
- **Inputs**:
    - `exec`: A pointer to a constant `fd_tile_exec_t` object from which the task is retrieved.
- **Logic and Control Flow**:
    - Accesses the `task` member of the `fd_tile_exec_t` object pointed to by `exec`.
    - Returns the value of the `task` member.
- **Output**: The `fd_tile_task_t` task associated with the provided `fd_tile_exec_t` object.


---
### fd\_tile\_exec\_argc<!-- {{#callable:fd_tile_exec_argc}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L58>)

Returns the argument count from the `fd_tile_exec_t` structure.
- **Inputs**:
    - ``exec``: A pointer to a constant `fd_tile_exec_t` structure from which to retrieve the argument count.
- **Logic and Control Flow**:
    - Accesses the `argc` member of the `fd_tile_exec_t` structure pointed to by `exec`.
    - Returns the value of `exec->argc`.
- **Output**: The function returns an integer representing the number of arguments (`argc`) in the `fd_tile_exec_t` structure.


---
### fd\_tile\_exec\_argv<!-- {{#callable:fd_tile_exec_argv}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L59>)

Returns the `argv` member of the `fd_tile_exec_t` structure.
- **Inputs**:
    - ``exec``: A pointer to a constant `fd_tile_exec_t` structure from which to retrieve the `argv` member.
- **Logic and Control Flow**:
    - Access the `argv` member of the `fd_tile_exec_t` structure pointed to by `exec`.
    - Return the `argv` member.
- **Output**: A pointer to a list of argument strings (`char **`) associated with the `fd_tile_exec_t` structure.


---
### fd\_tile\_exec\_done<!-- {{#callable:fd_tile_exec_done}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L61>)

Returns the value of the `done` field from a `fd_tile_exec_t` structure.
- **Inputs**:
    - `exec`: A pointer to a constant `fd_tile_exec_t` structure from which the `done` field is accessed.
- **Logic and Control Flow**:
    - Accesses the `done` field of the `exec` structure using the `FD_VOLATILE_CONST` macro to ensure volatile access.
    - Returns the value of the `done` field.
- **Output**: The function returns an integer representing the `done` status of the execution.


---
### fd\_tile\_private\_boot<!-- {{#callable:fd_tile_private_boot}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L65>)

Initializes and logs the boot process for a tile, setting up thread and stack information.
- **Inputs**:
    - ``pargc``: A pointer to an integer representing the argument count.
    - ``pargv``: A pointer to an array of character strings representing the argument values.
- **Logic and Control Flow**:
    - Logs the start of the boot process with the message 'fd_tile: booting'.
    - Calls `fd_env_strip_cmdline_cstr` to strip command line arguments related to '--tile-cpus', logging a message if this argument is ignored.
    - Initializes `fd_tile_private_id0` with the current thread ID and sets `fd_tile_private_id1` to one more than `fd_tile_private_id0`.
    - Sets `fd_tile_private_cnt` to 1, indicating the count of tiles.
    - Retrieves the application ID using `fd_log_app_id` and logs the booting of the thread group with the application ID and thread IDs.
    - Logs the booting of tile 0 on the current CPU using `fd_log_host_id` and `fd_log_cpu_id`.
    - Sets `fd_tile_private_id` to `fd_tile_private_id0` and `fd_tile_private_idx` to 0.
    - Calls `fd_log_private_stack_discover` to discover stack details, logging a warning if stack diagnostics are unavailable.
    - Logs the success of booting tile 0 with the thread and application IDs.
    - Logs the overall success of the boot process.
- **Output**: No return value; the function performs logging and initializes global variables related to tile booting.


---
### fd\_tile\_private\_halt<!-- {{#callable:fd_tile_private_halt}} -->
[View Source →](<../../../../../src/util/tile/fd_tile_nothreads.cxx#L99>)

Resets private tile-related variables to zero and logs the halting process.
- **Inputs**: None
- **Logic and Control Flow**:
    - Logs the message 'fd_tile: halting'.
    - Logs the message 'fd_tile: halting tile 0'.
    - Sets `fd_tile_private_stack1`, `fd_tile_private_stack0`, `fd_tile_private_idx`, and `fd_tile_private_id` to zero.
    - Logs the message 'fd tile: halt tile 0 success'.
    - Sets `fd_tile_private_cnt`, `fd_tile_private_id1`, and `fd_tile_private_id0` to zero.
    - Logs the message 'fd_tile: halt success'.
- **Output**: No return value (void function).



---
Made with ❤️ by [Driver](https://www.driver.ai/)