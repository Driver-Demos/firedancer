<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions to get and set CPU affinity for a process on Linux systems.

# Purpose
The code provides two functions, [`fd_cpuset_getaffinity`](<#fd_cpuset_getaffinity>) and [`fd_cpuset_setaffinity`](<#fd_cpuset_setaffinity>), which are used to get and set the CPU affinity of a process identified by `pid` on Linux systems. These functions utilize the `sched_getaffinity` and `sched_setaffinity` system calls, respectively, to manipulate the CPU set associated with a process. The `fd_cpuset_t` type is used to represent the CPU set, and the functions use `fd_type_pun` and `fd_type_pun_const` to cast this type to `cpu_set_t`. If the code is not compiled on a Linux system, the functions return `-1` and set `errno` to `ENOTSUP`, indicating that the operation is not supported. The inclusion of `fd_tile_private.h` suggests that these functions are part of a larger system that manages CPU sets.
# Imports and Dependencies

---
- `errno.h`
- `sched.h`
- `fd_tile_private.h`


# Functions

---
### fd\_cpuset\_getaffinity<!-- {{#callable:fd_cpuset_getaffinity}} -->
[View Source →](<../../../../../src/util/tile/fd_tile.c#L7>)

Retrieves the CPU affinity mask for a given process ID on Linux systems.
- **Inputs**:
    - `pid`: The process ID for which to get the CPU affinity mask.
    - `mask`: A pointer to an `fd_cpuset_t` structure where the CPU affinity mask will be stored.
- **Logic and Control Flow**:
    - If the system is Linux, call `sched_getaffinity` with the process ID, size of the CPU set, and a pointer to the mask to retrieve the CPU affinity.
    - If the system is not Linux, set `errno` to `ENOTSUP` to indicate the operation is not supported and return -1.
- **Output**: Returns 0 on success, or -1 if the operation is not supported or fails.


---
### fd\_cpuset\_setaffinity<!-- {{#callable:fd_cpuset_setaffinity}} -->
[View Source →](<../../../../../src/util/tile/fd_tile.c#L19>)

Sets the CPU affinity for a process specified by its PID using a given CPU set mask.
- **Inputs**:
    - `pid`: The process ID for which to set the CPU affinity.
    - `mask`: A pointer to a `fd_cpuset_t` structure that specifies the desired CPU set mask.
- **Logic and Control Flow**:
    - If the platform is Linux, call `sched_setaffinity` with the given `pid`, the size of the CPU set mask, and the mask itself after type punning.
    - If the platform is not Linux, set `errno` to `ENOTSUP` to indicate that the operation is not supported and return -1.
- **Output**: Returns 0 on success, or -1 if the operation is not supported or if an error occurs.



---
Made with ❤️ by [Driver](https://www.driver.ai/)