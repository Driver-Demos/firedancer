<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Secure random number generation function with platform-specific implementations for Linux, FreeBSD, and Apple.

# Purpose
The code provides a platform-specific implementation of a secure random number generator function named [`fd_rng_secure`](<#fd_rng_secure>). It is designed to work on different operating systems, including Linux, FreeBSD, and Apple platforms, by using the appropriate system calls or libraries available on each platform. For Linux and FreeBSD, it uses the `getrandom` system call to fill a buffer with random bytes. On Apple systems, it uses the `CCRandomGenerateBytes` function from the CommonCrypto library. If the platform is not supported, the function logs a warning and returns `NULL`.

The function [`fd_rng_secure`](<#fd_rng_secure>) takes a pointer `d` and a size `sz` as arguments, and it attempts to fill the memory pointed to by `d` with `sz` bytes of secure random data. The function is marked with the `FD_FN_SENSITIVE` attribute and the `warn_unused_result` attribute, indicating that it handles sensitive data and that the return value should be checked by the caller. The code includes error handling that logs warnings if the random number generation fails, using the `FD_LOG_WARNING` macro from the included `fd_log.h` header. This code is intended to be part of a larger system where secure random number generation is required, and it provides a consistent interface across different platforms.
# Imports and Dependencies

---
- `fd_rng.h`
- `../log/fd_log.h`
- `assert.h`
- `errno.h`
- `sys/random.h`
- `CommonCrypto/CommonRandom.h`


# Functions

---
### fd\_rng\_secure<!-- {{#callable:fd_rng_secure}} -->
[View Source →](<../../../../../src/util/rng/fd_rng_secure.c#L49>)

Generates secure random bytes and writes them to a specified buffer, with platform-specific implementations for Linux, FreeBSD, and Apple, and a fallback for unsupported platforms.
- **Inputs**:
    - `d`: A pointer to the buffer where the random bytes will be written.
    - `sz`: The number of random bytes to generate and write to the buffer.
- **Logic and Control Flow**:
    - On Linux or FreeBSD, uses `getrandom` to fill the buffer with random bytes, logging a warning and returning `NULL` if `getrandom` fails.
    - On Apple platforms, uses `CCRandomGenerateBytes` to fill the buffer, logging a warning and returning `NULL` if the function does not succeed.
    - For unsupported platforms, logs a warning and returns `NULL`.
- **Output**: Returns a pointer to the buffer `d` if successful, or `NULL` if an error occurs.



---
Made with ❤️ by [Driver](https://www.driver.ai/)