<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Generates prototypes and implementations for a high-performance B+ tree-based key-value store with various operations and configurations.

# Purpose
The code defines a C library for creating and managing a B+ tree-based key-value store. This library provides a high-performance data structure that supports operations such as insertion, deletion, and querying of key-value pairs. The B+ tree is designed to be efficient in terms of both time and space, with most operations having a worst-case time complexity of O(log N), where N is the number of elements in the tree. The tree structure is optimized for persistence, concurrency, and inter-process communication (IPC), and it can be relocated in memory or serialized/deserialized.

The library is implemented as a header-only style, allowing users to include it in their compilation units to generate different types of B+ trees. It provides a set of APIs for constructing and manipulating the B+ tree, including functions for estimating the number of nodes and leaves required, creating and joining trees, and performing operations like insert, upsert, remove, and query. The library also supports iteration over the tree's elements in both forward and reverse order. The code is highly configurable, allowing users to define key types, comparison functions, and other parameters to tailor the B+ tree to their specific needs.
# Imports and Dependencies

---
- `../log/fd_log.h`


# Global Variables

---
### BPLUS\_
- **Type**: `macro`
- **Description**: `BPLUS_` is a macro used to concatenate the `BPLUS_NAME` with other identifiers to create unique names for functions, types, and variables in a B+ tree implementation. It is defined using the `FD_EXPAND_THEN_CONCAT3` macro, which combines `BPLUS_NAME` with an underscore and another name.
- **Use**: Used to generate unique identifiers by prefixing them with `BPLUS_NAME` to avoid naming conflicts in the B+ tree implementation.


# Functions

---
### BPLUS\_<!-- {{#callable:BPLUS_}} -->
[View Source →](<../../../../../src/util/tmpl/fd_bplus.c#L2007>)

Validates the structure and integrity of a B+ tree, ensuring all nodes and leaves are correctly aligned and ordered.
- **Inputs**:
    - ``join``: A pointer to a `BPLUS_(t)` structure representing the B+ tree to verify.
- **Logic and Control Flow**:
    - Check if `join` is not NULL and aligned to `BPLUS_ALIGN`.
    - Retrieve the private metadata of the B+ tree using `BPLUS_(private_const)`.
    - Verify the magic number of the B+ tree header to ensure it matches `BPLUS_MAGIC`.
    - Check that `node_max` and `leaf_max` do not exceed their respective maximums.
    - Verify the alignment and offsets of nodes and leaves in the B+ tree.
    - If the tree is not empty, validate the root, minimum, and maximum leaf offsets.
    - Iterate through the node pool, checking alignment and decrementing the node count.
    - Iterate through the leaf pool, checking alignment and decrementing the leaf count.
    - If the tree is not empty, validate the tree structure using a stack-based traversal.
    - Ensure all nodes and leaves are visited and accounted for.
    - Validate the forward and reverse iteration of leaves, ensuring order and alignment.
    - Return 0 if all checks pass, otherwise return -1 if any check fails.
- **Output**: Returns 0 if the B+ tree is valid, otherwise returns -1 if any validation check fails.
- **Functions Called**:
    - [`BPLUS_`](<#bplus_>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)