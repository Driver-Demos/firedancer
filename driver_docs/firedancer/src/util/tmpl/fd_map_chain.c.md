<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Generates high-performance map implementations using hash chains, supporting various configurations and operations.

# Purpose
The code is a C template for generating high-performance hash map implementations. It provides a flexible API for creating maps that can store a large number of elements with efficient O(1) time complexity for typical operations. The maps are designed to integrate tightly with other data structures like pools, treaps, heaps, and lists. They support features such as persistence beyond the process lifetime, concurrent usage, inter-process communication, and memory relocation. The code allows for customization through macros to define the map's name, element type, key type, and other parameters. It also supports optional features like multiple entries for the same key and optimized random access removal.

The template generates a set of functions and inline methods for managing the map, including creating, joining, leaving, and deleting maps, as well as inserting, removing, and querying elements. The map can be configured to support multiple values for the same key and optimized removal of elements by index. The code includes mechanisms for verifying the integrity of the map and iterating over its elements. The template is designed to be included in a compilation unit, allowing for the creation of different types of maps by redefining the macros. The implementation prioritizes memory efficiency and provides options for index compression and different hashing and comparison functions.
# Imports and Dependencies

---
- `fd_map.h`
- `../log/fd_log.h`


# Global Variables

---
### MAP\_
- **Type**: `static inline MAP_(t) *`
- **Description**: Represents a function that inserts an element into a map. The function is defined as an inline function to optimize performance by avoiding function call overhead.
- **Use**: Used to insert an element into a map structure, ensuring the element is added to the correct position in the map's internal data structure.


---
### chain
- **Type**: `MAP_IDX_T *`
- **Description**: Points to the start of an array of indices representing hash chains in a map data structure. Each index in the array corresponds to the head of a hash chain used for storing elements in the map.
- **Use**: Used to initialize and manage the hash chains in the map, allowing for efficient element insertion, removal, and querying.


# Functions

---
### MAP\_<!-- {{#callable:MAP_}} -->
[View Source →](<../../../../../src/util/tmpl/fd_map_chain.c#L1077>)

Finds the next element in a map with the same key as the previous element, returning a sentinel if not found.
- **Inputs**:
    - ``prev``: The previous result of `mymap_ele_query_const`, representing the last found element.
    - ``sentinel``: The value to return if the key is not found in the map.
    - ``pool``: The current local join to element storage, representing the pool of elements.
- **Logic and Control Flow**:
    - Calculate the index of the next element using `MAP_(idx_next_const)` with the index of `prev` and the pool.
    - Check if the calculated index is not null using `MAP_(private_idx_is_null)`.
    - If the index is not null, return the element at the calculated index in the pool.
    - If the index is null, return the `sentinel`.
- **Output**: A pointer to the found element in the pool on success, or the `sentinel` on failure.



---
Made with ❤️ by [Driver](https://www.driver.ai/)