<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for MemorySanitizer integration, providing functions to mark and check memory initialization.

# Purpose
The code is a C header file that provides an interface for integrating with MemorySanitizer (MSan), a tool used to detect uninitialized memory accesses in C and C++ programs. The file defines macros and inline functions that facilitate the use of MSan's capabilities. It checks if the MemorySanitizer feature is available using the `__has_feature` macro and defines `FD_HAS_MSAN` accordingly. If MSan is available, the code provides inline functions such as [`fd_msan_poison`](<#fd_msan_poison>), [`fd_msan_unpoison`](<#fd_msan_unpoison>), and [`fd_msan_check`](<#fd_msan_check>) to mark memory regions as uninitialized, initialized, and to check if memory is initialized, respectively. These functions call the corresponding MSan functions to perform their operations.

The header file includes conditional compilation to ensure compatibility with environments where MSan is not available. In such cases, the inline functions are defined as no-operations, effectively bypassing MSan checks. The file also defines `FD_FN_NO_MSAN` to disable memory sanitization for specific functions when MSan is enabled. The header is part of a larger project and is intended to be included in other source files to provide MSan functionality where needed. The file references the MSan documentation and the LLVM project for further information on the MemorySanitizer tool.
# Imports and Dependencies

---
- `../fd_util_base.h`


# Functions

---
### fd\_msan\_poison<!-- {{#callable:fd_msan_poison}} -->
[View Source →](<../../../../../src/util/sanitize/fd_msan.h#L71>)

Marks a region of memory as uninitialized when MemorySanitizer is enabled.
- **Inputs**:
    - `addr`: A pointer to the start of the memory region to mark as uninitialized.
    - `sz`: The size of the memory region to mark as uninitialized, in bytes.
- **Logic and Control Flow**:
    - If `FD_HAS_MSAN` is defined, calls `__msan_poison` with `addr` and `sz` to mark the memory as uninitialized.
    - If `FD_HAS_MSAN` is not defined, the function does nothing with `sz` and simply returns `addr`.
- **Output**: Returns the original `addr` pointer.


---
### fd\_msan\_unpoison<!-- {{#callable:fd_msan_unpoison}} -->
[View Source →](<../../../../../src/util/sanitize/fd_msan.h#L72>)

Marks a region of memory as initialized to avoid false positives in MemorySanitizer (MSAN) checks.
- **Inputs**:
    - `addr`: A pointer to the start of the memory region to mark as initialized.
    - `sz`: The size of the memory region to mark as initialized, in bytes.
- **Logic and Control Flow**:
    - If `FD_HAS_MSAN` is defined, calls `__msan_unpoison` to mark the memory region as initialized.
    - If `FD_HAS_MSAN` is not defined, the function does nothing with `sz` and simply returns `addr`.
- **Output**: Returns the pointer `addr` to the start of the memory region.


---
### fd\_msan\_check<!-- {{#callable:fd_msan_check}} -->
[View Source →](<../../../../../src/util/sanitize/fd_msan.h#L73>)

Checks if a region of memory is initialized when MemorySanitizer is enabled.
- **Inputs**:
    - `addr`: A pointer to the start of the memory region to check.
    - `sz`: The size of the memory region to check, in bytes.
- **Logic and Control Flow**:
    - If `FD_HAS_MSAN` is defined, calls `__msan_check_mem_is_initialized` to verify the memory region is initialized.
    - If `FD_HAS_MSAN` is not defined, the function does nothing with the inputs.
- **Output**: No output is returned; the function performs a check or no operation based on the `FD_HAS_MSAN` definition.



---
Made with ❤️ by [Driver](https://www.driver.ai/)