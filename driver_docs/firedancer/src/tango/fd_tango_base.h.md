<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines data structures and functions for managing and processing message fragments in a messaging system.

# Purpose
The code defines a C header file that provides a framework for handling message fragments in a messaging system. It introduces the concept of message origins, which are uniquely identified by a 13-bit ID within a set of message producers and consumers. Messages are divided into fragments, each with a 64-bit sequence number to ensure unique identification and ordering. The code includes mechanisms for handling message fragmentation, reassembly, and error detection through control bits such as `SOM` (start-of-message), `EOM` (end-of-message), and `ERR` (error). These control bits help in identifying message boundaries and detecting errors in message transmission.

The file defines several macros and functions to manage message fragment metadata, including the alignment and size of message fragments and their metadata. It uses SIMD (Single Instruction, Multiple Data) instructions for efficient handling of metadata on platforms that support SSE (Streaming SIMD Extensions) and AVX (Advanced Vector Extensions). The `fd_frag_meta_t` union is central to this framework, encapsulating metadata such as sequence numbers, signatures, and timestamps. The code also provides utility functions for sequence number comparison and manipulation, as well as functions for converting between chunk indices and local addresses. This header file is intended to be included in other C source files to facilitate high-performance message distribution and processing.
# Imports and Dependencies

---
- `../util/fd_util.h`
- `x86intrin.h`


# Data Structures

---
### fd\_frag\_meta
- **Type**: ``union``
- **Members**:
    - ``seq``: Frag sequence number, updated atomically.
    - ``sig``: Application-defined message signature for fast consumer-side filtering, updated atomically with `seq`.
    - ``chunk``: Compressed relative location of the first byte of the fragment in the data region, updated atomically.
    - ``sz``: Fragment size in bytes, updated atomically.
    - ``ctl``: Message reassembly control bits, updated atomically.
    - ``tsorig``: Message diagnostic compressed timestamp for origin, updated atomically.
    - ``tspub``: Message diagnostic compressed timestamp for publication, updated atomically.
    - ``sse0``: Covers `seq` and `sig`, updated atomically if SSE is available.
    - ``sse1``: Covers `chunk`, `sz`, `ctl`, `tsorig`, and `tspub`, updated atomically if SSE is available.
    - ``avx``: Holds the metadata in a single register, possibly non-atomic if AVX is available.
- **Description**: `fd_frag_meta` is a union that represents metadata for message fragments in a messaging system. It includes fields for sequence numbers, message signatures, fragment size, control bits for reassembly, and timestamps for origin and publication. The structure is designed to be updated atomically, leveraging SSE and AVX instructions for efficient processing on supported architectures. This ensures high performance and reliability in message distribution and reassembly.


---
### fd\_frag\_meta\_t
- **Type**: `union`
- **Members**:
    - `seq`: Fragment sequence number, updated atomically.
    - `sig`: Application-defined message signature for fast filtering, updated atomically.
    - `chunk`: Compressed relative location of the first byte of the fragment in the data region.
    - `sz`: Fragment size in bytes.
    - `ctl`: Message reassembly control bits including SOM/EOM/ERR flags.
    - `tsorig`: Compressed timestamp of when the origin started producing the fragment.
    - `tspub`: Compressed timestamp of when the fragment was made available for consumers.
    - `sse0`: Covers `seq` and `sig`, atomic read/write when AVX is supported.
    - `sse1`: Covers `chunk`, `sz`, `ctl`, `tsorig`, and `tspub`, atomic read/write when AVX is supported.
    - `avx`: Holds the metadata in a single register, possibly non-atomic.
- **Description**: Represents message fragment metadata, including sequence number, signature, size, control bits, and timestamps, with support for atomic operations using SSE and AVX instructions.


# Functions

---
### fd\_seq\_lt<!-- {{#callable:fd_seq_lt}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L205>)

Compares two 64-bit sequence numbers to determine if the first is less than the second, considering sequence number wrapping.
- **Inputs**:
    - `a`: The first 64-bit sequence number to compare.
    - `b`: The second 64-bit sequence number to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result is less than zero, which indicates that `a` is less than `b` considering sequence number wrapping.
- **Output**: Returns an integer value: 1 if `a` is less than `b`, otherwise 0.


---
### fd\_seq\_le<!-- {{#callable:fd_seq_le}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L228>)

Compares two 64-bit unsigned integers `a` and `b` to determine if `a` is less than or equal to `b`, considering potential sequence number wrapping.
- **Inputs**:
    - `a`: The first 64-bit unsigned integer to compare.
    - `b`: The second 64-bit unsigned integer to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result is less than or equal to zero.
- **Output**: Returns an integer value of 1 if `a` is less than or equal to `b`, otherwise returns 0.


---
### fd\_seq\_eq<!-- {{#callable:fd_seq_eq}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L229>)

Compares two unsigned long integers for equality.
- **Inputs**:
    - `a`: The first unsigned long integer to compare.
    - `b`: The second unsigned long integer to compare.
- **Logic and Control Flow**:
    - Checks if the value of `a` is equal to the value of `b`.
    - Returns the result of the comparison.
- **Output**: Returns 1 if `a` is equal to `b`, otherwise returns 0.


---
### fd\_seq\_ne<!-- {{#callable:fd_seq_ne}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L230>)

Checks if two unsigned long integers are not equal.
- **Inputs**:
    - `a`: The first unsigned long integer to compare.
    - `b`: The second unsigned long integer to compare.
- **Logic and Control Flow**:
    - Compares the two input values `a` and `b`.
    - Returns the result of the comparison `a != b`.
- **Output**: Returns an integer value of 1 if `a` and `b` are not equal, otherwise returns 0.


---
### fd\_seq\_ge<!-- {{#callable:fd_seq_ge}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L231>)

Compares two 64-bit unsigned sequence numbers to determine if the first is greater than or equal to the second, considering sequence number wrapping.
- **Inputs**:
    - `a`: The first 64-bit unsigned sequence number to compare.
    - `b`: The second 64-bit unsigned sequence number to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result is greater than or equal to zero.
- **Output**: Returns an integer value of 1 if `a` is greater than or equal to `b`, otherwise returns 0.


---
### fd\_seq\_gt<!-- {{#callable:fd_seq_gt}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L232>)

Compares two 64-bit unsigned sequence numbers to determine if the first is greater than the second, considering sequence number wrapping.
- **Inputs**:
    - `a`: The first 64-bit unsigned sequence number to compare.
    - `b`: The second 64-bit unsigned sequence number to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result of the subtraction is greater than zero.
- **Output**: Returns 1 if `a` is greater than `b`, otherwise returns 0.


---
### fd\_seq\_inc<!-- {{#callable:fd_seq_inc}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L234>)

Increments a 64-bit unsigned integer by a specified delta.
- **Inputs**:
    - `a`: The initial 64-bit unsigned integer value to increment.
    - `delta`: The 64-bit unsigned integer value to add to 'a'.
- **Logic and Control Flow**:
    - Adds the value of 'delta' to 'a'.
- **Output**: Returns the result of the addition as a 64-bit unsigned integer.


---
### fd\_seq\_dec<!-- {{#callable:fd_seq_dec}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L235>)

Decrements a sequence number by a specified delta.
- **Inputs**:
    - `a`: The original sequence number to decrement.
    - `delta`: The amount to decrement from the sequence number.
- **Logic and Control Flow**:
    - Subtracts `delta` from `a`.
- **Output**: Returns the decremented sequence number as an unsigned long integer.


---
### fd\_seq\_diff<!-- {{#callable:fd_seq_diff}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L237>)

Calculates the difference between two 64-bit unsigned sequence numbers, returning the result as a signed long integer.
- **Inputs**:
    - `a`: The first 64-bit unsigned sequence number.
    - `b`: The second 64-bit unsigned sequence number.
- **Logic and Control Flow**:
    - Subtracts `b` from `a`.
    - Casts the result to a signed long integer.
- **Output**: A signed long integer representing how many sequence numbers `a` is ahead of `b`. Positive if `a` is in the future of `b`, negative if `a` is in the past of `b`, and zero if they are the same.


---
### fd\_chunk\_to\_laddr<!-- {{#callable:fd_chunk_to_laddr}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L247>)

Converts a chunk index to a local address by adding an offset to a base address.
- **Inputs**:
    - `chunk0`: A pointer to the base address of the chunk, assumed to be aligned to `FD_CHUNK_ALIGN`.
    - `chunk`: An unsigned long integer representing the chunk index, assumed to be in the range [0, UINT_MAX].
- **Logic and Control Flow**:
    - Calculate the offset by left-shifting `chunk` by `FD_CHUNK_LG_SZ` bits.
    - Add the calculated offset to the base address `chunk0`.
    - Return the resulting address as a pointer.
- **Output**: A pointer to the local address of the specified chunk, aligned to `FD_CHUNK_ALIGN` and within the range [chunk0, chunk0 + FD_CHUNK_SZ*(UINT_MAX+1)).


---
### fd\_chunk\_to\_laddr\_const<!-- {{#callable:fd_chunk_to_laddr_const}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L253>)

Calculates a constant pointer to a local address by adding an offset to a base address.
- **Inputs**:
    - `chunk0`: A constant pointer to the base address in the local address space.
    - `chunk`: An unsigned long integer representing the chunk index to calculate the offset.
- **Logic and Control Flow**:
    - Convert `chunk0` to an unsigned long integer.
    - Shift `chunk` left by `FD_CHUNK_LG_SZ` bits to calculate the offset.
    - Add the offset to the base address `chunk0`.
    - Cast the result back to a constant pointer type.
- **Output**: A constant pointer to the calculated local address.


---
### fd\_laddr\_to\_chunk<!-- {{#callable:fd_laddr_to_chunk}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L259>)

Converts a local address to a chunk index based on a base chunk address.
- **Inputs**:
    - `chunk0`: A pointer to the base chunk address, assumed to be aligned to `FD_CHUNK_ALIGN`.
    - `laddr`: A pointer to the local address, assumed to be aligned to `FD_CHUNK_ALIGN` and within the range `[chunk0, chunk0 + FD_CHUNK_SZ*(UINT_MAX+1))`.
- **Logic and Control Flow**:
    - Calculate the difference between the local address `laddr` and the base chunk address `chunk0` by casting both to `ulong` and subtracting.
    - Right shift the result by `FD_CHUNK_LG_SZ` to convert the byte offset to a chunk index.
- **Output**: Returns an `ulong` representing the chunk index, which will be in the range `[0, UINT_MAX]`.


---
### fd\_frag\_meta\_seq\_query<!-- {{#callable:fd_frag_meta_seq_query}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L270>)

Retrieves the sequence number from a given `fd_frag_meta_t` structure with memory fence operations to ensure atomicity.
- **Inputs**:
    - `meta`: A pointer to a constant `fd_frag_meta_t` structure, assumed to be non-NULL, from which the sequence number is retrieved.
- **Logic and Control Flow**:
    - Execute a compiler memory fence operation using `FD_COMPILER_MFENCE()` to ensure memory ordering before accessing the sequence number.
    - Read the sequence number from the `seq` field of the `meta` structure using `FD_VOLATILE_CONST` to ensure the value is read atomically.
    - Execute another compiler memory fence operation using `FD_COMPILER_MFENCE()` to ensure memory ordering after accessing the sequence number.
    - Return the retrieved sequence number.
- **Output**: Returns the sequence number (`ulong`) from the `meta` structure.


---
### fd\_frag\_meta\_seq\_sig\_query<!-- {{#callable:fd_frag_meta_seq_sig_query}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L283>)

Returns the sequence number and signature from the metadata in one atomic read.
- **Inputs**:
    - `meta`: A pointer to a `fd_frag_meta_t` structure, assumed to be non-NULL.
- **Logic and Control Flow**:
    - Execute a compiler memory fence using `FD_COMPILER_MFENCE()` to ensure memory operations are completed before proceeding.
    - Read the `sse0` field from the `meta` structure using `FD_VOLATILE_CONST` to ensure the read is atomic and consistent.
    - Execute another compiler memory fence to ensure the read operation is completed before any further operations.
    - Return the `sse0` value, which contains the sequence number and signature.
- **Output**: An `__m128i` value containing the sequence number and signature from the `meta` structure.


---
### fd\_frag\_meta\_ctl<!-- {{#callable:fd_frag_meta_ctl}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L296>)

Packs message reassembly control bits into a single `ulong` value.
- **Inputs**:
    - `orig`: The origin identifier, assumed to be in the range [0, FD_FRAG_META_ORIG_MAX).
    - `som`: Start-of-message flag, where 0 is false and non-zero is true.
    - `eom`: End-of-message flag, where 0 is false and non-zero is true.
    - `err`: Error flag, where 0 is false and non-zero is true.
- **Logic and Control Flow**:
    - Convert `som`, `eom`, and `err` to boolean values (0 or 1) using double negation.
    - Shift the boolean value of `eom` left by 1 bit and `err` left by 2 bits.
    - Shift `orig` left by 3 bits.
    - Combine the boolean values and shifted `orig` using bitwise OR operations to form the final control value.
- **Output**: A `ulong` value representing the packed control bits, which is in the range [0, 2^16).


---
### fd\_frag\_meta\_ctl\_orig<!-- {{#callable:fd_frag_meta_ctl_orig}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L304>)

Extracts the origin identifier from the control bits of a message fragment by shifting the control value right by 3 bits.
- **Inputs**:
    - `ctl`: A `ulong` representing the control bits of a message fragment.
- **Logic and Control Flow**:
    - Shift the `ctl` value right by 3 bits to isolate the origin identifier.
- **Output**: Returns a `ulong` representing the origin identifier extracted from the control bits.


---
### fd\_frag\_meta\_ctl\_som<!-- {{#callable:fd_frag_meta_ctl_som}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L305>)

Extracts the start-of-message (SOM) bit from the control bits of a message fragment.
- **Inputs**:
    - `ctl`: An unsigned long integer representing the control bits of a message fragment.
- **Logic and Control Flow**:
    - Perform a bitwise AND operation between `ctl` and `1UL` to isolate the least significant bit.
    - Cast the result to an integer to obtain the SOM bit.
- **Output**: Returns an integer representing the SOM bit, where 0 indicates false and 1 indicates true.


---
### fd\_frag\_meta\_ctl\_eom<!-- {{#callable:fd_frag_meta_ctl_eom}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L306>)

Extracts the 'end-of-message' (EOM) control bit from a given control value.
- **Inputs**:
    - `ctl`: An unsigned long integer representing the control value from which to extract the EOM bit.
- **Logic and Control Flow**:
    - Shift the input `ctl` right by 1 bit.
    - Perform a bitwise AND operation with `1UL` to isolate the EOM bit.
    - Cast the result to an integer and return it.
- **Output**: An integer representing the EOM bit, where 0 indicates false and 1 indicates true.


---
### fd\_frag\_meta\_ctl\_err<!-- {{#callable:fd_frag_meta_ctl_err}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L307>)

Extracts the error bit from the control bits of a message fragment.
- **Inputs**:
    - `ctl`: A `ulong` representing the control bits of a message fragment.
- **Logic and Control Flow**:
    - Shift the `ctl` value right by 2 bits.
    - Perform a bitwise AND operation with `1UL` to isolate the error bit.
    - Cast the result to an `int` and return it.
- **Output**: An `int` representing the error bit, where 0 indicates no error and 1 indicates an error.


---
### fd\_frag\_meta\_sse0<!-- {{#callable:fd_frag_meta_sse0}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L311>)

Creates a 128-bit integer vector from two 64-bit unsigned integers, `seq` and `sig`, using SSE intrinsics.
- **Inputs**:
    - `seq`: A 64-bit unsigned integer representing the sequence number.
    - `sig`: A 64-bit unsigned integer representing the signature.
- **Logic and Control Flow**:
    - Converts `seq` and `sig` to 64-bit signed integers.
    - Uses the `_mm_set_epi64x` intrinsic to create a 128-bit integer vector with `sig` as the high 64 bits and `seq` as the low 64 bits.
- **Output**: Returns a 128-bit integer vector (`__m128i`) containing the `sig` and `seq` values.


---
### fd\_frag\_meta\_sse0\_seq<!-- {{#callable:fd_frag_meta_sse0_seq}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L317>)

Extracts the lower 64 bits from a 128-bit SSE register as an unsigned long integer.
- **Inputs**:
    - `sse0`: A 128-bit SSE register from which the lower 64 bits will be extracted.
- **Logic and Control Flow**:
    - Use the `_mm_extract_epi64` intrinsic to extract the lower 64 bits from the `sse0` register.
    - Cast the extracted 64-bit integer to an `ulong` type.
- **Output**: Returns the lower 64 bits of the `sse0` register as an `ulong`.


---
### fd\_frag\_meta\_sse0\_sig<!-- {{#callable:fd_frag_meta_sse0_sig}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L318>)

Extracts the 64-bit signature from the second element of a 128-bit SSE register.
- **Inputs**:
    - `sse0`: A 128-bit SSE register from which the function extracts the signature.
- **Logic and Control Flow**:
    - Uses the `_mm_extract_epi64` intrinsic to extract the 64-bit integer from the second element (index 1) of the `sse0` register.
    - Casts the extracted 64-bit integer to an `ulong` type.
- **Output**: Returns the extracted 64-bit signature as an `ulong`.


---
### fd\_frag\_meta\_sse1<!-- {{#callable:fd_frag_meta_sse1}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L320>)

Combines metadata components into a 128-bit SIMD register for efficient storage and processing.
- **Inputs**:
    - `chunk`: A 32-bit unsigned long representing the compressed relative location of the first byte of the fragment in the data region.
    - `sz`: A 16-bit unsigned long representing the fragment size in bytes.
    - `ctl`: A 16-bit unsigned long representing message reassembly control bits.
    - `tsorig`: A 32-bit unsigned long representing the timestamp when the origin started producing the fragment.
    - `tspub`: A 32-bit unsigned long representing the timestamp when the fragment was made available for consumers.
- **Logic and Control Flow**:
    - Combines `tsorig` and `tspub` into a 64-bit integer by placing `tspub` in the higher 32 bits and `tsorig` in the lower 32 bits.
    - Combines `chunk`, `sz`, and `ctl` into a 64-bit integer by placing `ctl` in the highest 16 bits, `sz` in the next 16 bits, and `chunk` in the lowest 32 bits.
    - Uses `_mm_set_epi64x` to create a 128-bit SIMD register from the two 64-bit integers.
- **Output**: Returns a 128-bit SIMD register (`__m128i`) containing the packed metadata.


---
### fd\_frag\_meta\_sse1\_chunk<!-- {{#callable:fd_frag_meta_sse1_chunk}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L330>)

Extracts the 32-bit integer from the lower 32 bits of the `__m128i` vector `sse1` and returns it as an unsigned long.
- **Inputs**:
    - `sse1`: A 128-bit integer vector (`__m128i`) from which the function extracts the lower 32 bits.
- **Logic and Control Flow**:
    - Use the intrinsic function `_mm_extract_epi32` to extract the 32-bit integer from the 0th position of the `sse1` vector.
    - Cast the extracted 32-bit integer to an unsigned long.
- **Output**: Returns the extracted 32-bit integer as an unsigned long.


---
### fd\_frag\_meta\_sse1\_sz<!-- {{#callable:fd_frag_meta_sse1_sz}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L331>)

Extracts the size of a message fragment from the second SSE register (`sse1`).
- **Inputs**:
    - `sse1`: A 128-bit SSE register containing message fragment metadata.
- **Logic and Control Flow**:
    - Extracts the 16-bit integer from the third 16-bit position of the `sse1` register using `_mm_extract_epi16`.
    - Casts the extracted 16-bit integer to an unsigned long integer.
- **Output**: Returns the size of the message fragment as an unsigned long integer.


---
### fd\_frag\_meta\_sse1\_ctl<!-- {{#callable:fd_frag_meta_sse1_ctl}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L332>)

Extracts the 16-bit control field from the third 16-bit element of a 128-bit SSE register.
- **Inputs**:
    - `sse1`: A 128-bit SSE register (`__m128i`) containing packed data from which the control field is extracted.
- **Logic and Control Flow**:
    - Use the `_mm_extract_epi16` intrinsic to extract the third 16-bit element from the `sse1` register.
    - Cast the extracted 16-bit value to an `ulong` type for the return value.
- **Output**: Returns an `ulong` representing the extracted 16-bit control field.


---
### fd\_frag\_meta\_sse1\_tsorig<!-- {{#callable:fd_frag_meta_sse1_tsorig}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L333>)

Extracts the `tsorig` timestamp from the third 32-bit integer of a 128-bit SSE register.
- **Inputs**:
    - `sse1`: A 128-bit SSE register containing message fragment metadata, including the `tsorig` timestamp.
- **Logic and Control Flow**:
    - Extracts the third 32-bit integer from the `sse1` register using the `_mm_extract_epi32` intrinsic function.
    - Casts the extracted 32-bit integer to an unsigned long integer.
- **Output**: Returns the `tsorig` timestamp as an unsigned long integer.


---
### fd\_frag\_meta\_sse1\_tspub<!-- {{#callable:fd_frag_meta_sse1_tspub}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L334>)

Extracts the 32-bit integer from the fourth position of a 128-bit SSE register and returns it as an unsigned long.
- **Inputs**:
    - `sse1`: A 128-bit SSE register (`__m128i`) from which the function extracts a 32-bit integer.
- **Logic and Control Flow**:
    - Use the intrinsic function `_mm_extract_epi32` to extract the 32-bit integer from the fourth position (index 3) of the `sse1` register.
    - Cast the extracted 32-bit integer to an unsigned long.
- **Output**: Returns the extracted 32-bit integer as an unsigned long.


---
### fd\_frag\_meta\_avx<!-- {{#callable:fd_frag_meta_avx}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L339>)

Combines multiple metadata fields into a single 256-bit AVX register.
- **Inputs**:
    - `seq`: A 64-bit sequence number.
    - `sig`: A 64-bit message signature.
    - `chunk`: A 32-bit compressed relative location of the first byte of the fragment in the data region.
    - `sz`: A 16-bit fragment size in bytes.
    - `ctl`: A 16-bit message reassembly control bits.
    - `tsorig`: A 32-bit timestamp indicating when the origin started producing the fragment.
    - `tspub`: A 32-bit timestamp indicating when the fragment was made available for consumers.
- **Logic and Control Flow**:
    - Uses `_mm256_set_epi64x` to pack the provided metadata fields into a 256-bit AVX register.
    - Combines `tsorig` and `tspub` into a single 64-bit value by shifting `tspub` 32 bits to the left and OR-ing it with `tsorig`.
    - Combines `chunk`, `sz`, and `ctl` into a single 64-bit value by shifting `sz` 32 bits to the left, `ctl` 48 bits to the left, and OR-ing them with `chunk`.
    - Places `sig` and `seq` directly into the AVX register.
- **Output**: A 256-bit AVX register (`__m256i`) containing the packed metadata.


---
### fd\_frag\_meta\_avx\_seq<!-- {{#callable:fd_frag_meta_avx_seq}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L353>)

Extracts the 64-bit sequence number from the first element of a 256-bit AVX register.
- **Inputs**:
    - `avx`: A 256-bit AVX register (`__m256i`) containing message fragment metadata.
- **Logic and Control Flow**:
    - Use the `_mm256_extract_epi64` intrinsic to extract the 64-bit integer from the first position (index 0) of the AVX register `avx`.
    - Cast the extracted 64-bit integer to `ulong` and return it.
- **Output**: A 64-bit unsigned long integer representing the sequence number extracted from the AVX register.


---
### fd\_frag\_meta\_avx\_sig<!-- {{#callable:fd_frag_meta_avx_sig}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L354>)

Extracts the 64-bit message signature from the second 64-bit lane of a 256-bit AVX register.
- **Inputs**:
    - ``avx``: A 256-bit AVX register containing message fragment metadata.
- **Logic and Control Flow**:
    - Use `_mm256_extract_epi64` to extract the 64-bit integer from the second lane (index 1) of the `avx` register.
    - Cast the extracted 64-bit integer to `ulong` and return it.
- **Output**: A `ulong` representing the 64-bit message signature extracted from the AVX register.


---
### fd\_frag\_meta\_avx\_chunk<!-- {{#callable:fd_frag_meta_avx_chunk}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L355>)

Extracts the 32-bit integer at position 4 from a 256-bit AVX register and returns it as an unsigned long.
- **Inputs**:
    - `avx`: A 256-bit AVX register of type `__m256i` from which a 32-bit integer will be extracted.
- **Logic and Control Flow**:
    - Use the `_mm256_extract_epi32` intrinsic to extract the 32-bit integer at position 4 from the `avx` register.
    - Cast the extracted 32-bit integer to an unsigned long.
- **Output**: Returns the extracted 32-bit integer as an unsigned long.


---
### fd\_frag\_meta\_avx\_sz<!-- {{#callable:fd_frag_meta_avx_sz}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L356>)

Extracts the fragment size from a 256-bit AVX register.
- **Inputs**:
    - `avx`: A 256-bit AVX register containing fragment metadata.
- **Logic and Control Flow**:
    - Use `_mm256_extract_epi16` to extract the 16-bit value at position 10 from the `avx` register.
    - Cast the extracted 16-bit value to an unsigned long.
- **Output**: Returns the fragment size as an unsigned long.


---
### fd\_frag\_meta\_avx\_ctl<!-- {{#callable:fd_frag_meta_avx_ctl}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L357>)

Extracts the 16-bit control bits from the 11th position of a 256-bit AVX register and returns it as an unsigned long.
- **Inputs**:
    - `avx`: A 256-bit AVX register from which the control bits are extracted.
- **Logic and Control Flow**:
    - Use `_mm256_extract_epi16` to extract the 16-bit integer from the 11th position of the `avx` register.
    - Cast the extracted 16-bit integer to an unsigned long.
- **Output**: Returns the extracted 16-bit control bits as an unsigned long.


---
### fd\_frag\_meta\_avx\_tsorig<!-- {{#callable:fd_frag_meta_avx_tsorig}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L358>)

Extracts the `tsorig` timestamp from the 6th 32-bit integer of a 256-bit AVX register.
- **Inputs**:
    - `avx`: A 256-bit AVX register containing message fragment metadata.
- **Logic and Control Flow**:
    - Use `_mm256_extract_epi32` to extract the 6th 32-bit integer from the `avx` register.
    - Cast the extracted 32-bit integer to an unsigned long integer.
- **Output**: Returns the `tsorig` timestamp as an unsigned long integer.


---
### fd\_frag\_meta\_avx\_tspub<!-- {{#callable:fd_frag_meta_avx_tspub}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L359>)

Extracts the `tspub` field from a 256-bit AVX register containing fragment metadata.
- **Inputs**:
    - `avx`: A 256-bit AVX register (`__m256i`) containing fragment metadata.
- **Logic and Control Flow**:
    - Use `_mm256_extract_epi32` to extract the 32-bit integer at position 7 from the `avx` register.
    - Cast the extracted 32-bit integer to an unsigned long integer (`ulong`).
- **Output**: Returns the `tspub` field as an unsigned long integer (`ulong`).


---
### fd\_frag\_meta\_ts\_comp<!-- {{#callable:fd_frag_meta_ts_comp}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L370>)

Converts a signed long timestamp to an unsigned long by casting it to an unsigned int.
- **Inputs**:
    - `ts`: A signed long integer representing a timestamp.
- **Logic and Control Flow**:
    - Casts the input `ts` from a signed long to an unsigned int.
    - Casts the result to an unsigned long.
- **Output**: An unsigned long integer in the range [0, UINT_MAX].


---
### fd\_frag\_meta\_ts\_decomp<!-- {{#callable:fd_frag_meta_ts_decomp}} -->
[View Source →](<../../../../src/tango/fd_tango_base.h#L375>)

Decompresses a compressed timestamp using a reference timestamp.
- **Inputs**:
    - `tscomp`: A compressed timestamp value in the range [0, UINT_MAX].
    - `tsref`: A reference timestamp value used for decompression.
- **Logic and Control Flow**:
    - Calculate `msb` by adding `tsref` to the result of `fd_ulong_mask_lsb(31)` and subtracting `tscomp`.
    - Combine the most significant bits of `msb` with `tscomp` using bitwise operations to reconstruct the original timestamp.
- **Output**: Returns the decompressed timestamp as a long integer.



---
Made with ❤️ by [Driver](https://www.driver.ai/)