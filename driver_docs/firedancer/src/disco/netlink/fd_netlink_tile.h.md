<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

APIs and structures for managing netlink tiles, including neighbor solicitation and topology creation.

# Purpose
The `fd_netlink_tile.h` file is a C header file that provides APIs for interacting with a netlink tile in a network topology. It includes definitions and declarations for managing network devices and neighbor solicitation requests. The file defines hardcoded limits for network devices and bond masters with `NETDEV_MAX` and `BOND_MASTER_MAX`. It declares the `fd_tile_netlnk` external variable, which represents the netlink tile, and provides a structure `fd_netlink_neigh4_solicit_link_t` for storing information necessary to send neighbor solicitation requests. The file also includes function prototypes for creating and joining netlink topologies, as well as a static inline function [`fd_netlink_neigh4_solicit`](<#fd_netlink_neigh4_solicit>) for sending IPv4 neighbor solicitation requests, ensuring deduplication of requests.
# Imports and Dependencies

---
- `../topo/fd_topo.h`


# Global Variables

---
### fd\_tile\_netlnk
- **Type**: `fd_topo_run_tile_t`
- **Description**: Represents the netlink tile used in the system for network topology operations.
- **Use**: Used to provide the netlink tile functionality as part of the network topology management.


# Data Structures

---
### fd\_netlink\_neigh4\_solicit\_link
- **Type**: ``struct``
- **Members**:
    - ``mcache``: A pointer to `fd_frag_meta_t`, used for managing metadata cache.
    - ``depth``: An unsigned long integer representing the depth of the cache.
    - ``seq``: An unsigned long integer used to track the sequence number for operations.
- **Description**: Holds information necessary to send neighbor solicitation requests to the netlink tile, including metadata cache management, cache depth, and sequence tracking.


---
### fd\_netlink\_neigh4\_solicit\_link\_t
- **Type**: ``struct``
- **Members**:
    - ``mcache``: A pointer to `fd_frag_meta_t`, used for managing metadata cache.
    - ``depth``: An unsigned long integer representing the depth of the cache.
    - ``seq``: An unsigned long integer used to track the sequence number for requests.
- **Description**: Holds information necessary to send neighbor solicitation requests to the netlink tile, including metadata cache management, cache depth, and sequence tracking.


# Functions

---
### fd\_netlink\_neigh4\_solicit<!-- {{#callable:fd_netlink_neigh4_solicit}} -->
[View Source →](<../../../../../src/disco/netlink/fd_netlink_tile.h#L51>)

Requests a neighbor solicitation for an IPv4 address using the netlink tile.
- **Inputs**:
    - `link`: A pointer to a `fd_netlink_neigh4_solicit_link_t` structure containing information required for the solicitation.
    - `ip4_addr`: An unsigned integer representing the IPv4 address in big endian format.
    - `if_idx`: An unsigned integer representing the interface index.
    - `tspub_comp`: An unsigned long integer used for timestamp or other computation purposes.
- **Logic and Control Flow**:
    - Retrieve the current sequence number from the `link` structure.
    - Compute a signature by combining the `ip4_addr` and `if_idx` values.
    - Call `fd_mcache_publish` with the computed signature and other parameters to publish the solicitation request.
    - Increment the sequence number in the `link` structure using `fd_seq_inc`.
- **Output**: No return value; the function operates by side effects on the `link` structure and the netlink tile.


# Function Declarations (Public API)

---
### fd\_netlink\_topo\_create<!-- {{#callable_declaration:fd_netlink_topo_create}} -->
[View Source →](<../../../../../src/disco/netlink/fd_netlink_tile.h#L32>)

Configures a netlink tile with specified topology parameters.
- **Description**: Use this function to set up a netlink tile within a given topology. It configures various network-related parameters such as maximum routes, peer routes, and neighbors. This function must be called with valid topology and netlink tile objects. It is important to ensure that the `bind_interface` is a valid network interface name. The function does not return a value but modifies the `netlink_tile` to reflect the configured topology.
- **Inputs**:
    - `netlink_tile`: A pointer to an `fd_topo_tile_t` structure that represents the netlink tile to configure. Must not be null.
    - `topo`: A pointer to an `fd_topo_t` structure representing the topology in which the netlink tile is to be configured. Must not be null.
    - `netlnk_max_routes`: An unsigned long specifying the maximum number of routes for the netlink. Must be a positive value.
    - `netlnk_max_peer_routes`: An unsigned long specifying the maximum number of peer routes for the netlink. Must be a positive value.
    - `netlnk_max_neighbors`: An unsigned long specifying the maximum number of neighbors for the netlink. Must be a positive value.
    - `bind_interface`: A constant character pointer to the name of the network interface to bind. Must not be null and should be a valid interface name.
- **Output**: None
- **See Also**: [`fd_netlink_topo_create`](<fd_netlink_tile.c.md#fd_netlink_topo_create>)  (Implementation)


---
### fd\_netlink\_topo\_join<!-- {{#callable_declaration:fd_netlink_topo_join}} -->
[View Source →](<../../../../../src/disco/netlink/fd_netlink_tile.h#L42>)

Associates a join tile with a netlink tile in a topology.
- **Description**: Use this function to associate a join tile with a netlink tile in a given topology. This function is typically called after the topology and netlink tile have been initialized. It sets up the join tile to use specific objects from the netlink tile in a read-only mode. Ensure that the `topo`, `netlink_tile`, and `join_tile` parameters are valid and properly initialized before calling this function.
- **Inputs**:
    - `topo`: A pointer to an `fd_topo_t` structure representing the topology. Must not be null and should be initialized before use.
    - `netlink_tile`: A pointer to an `fd_topo_tile_t` structure representing the netlink tile. Must not be null and should be initialized before use.
    - `join_tile`: A pointer to an `fd_topo_tile_t` structure representing the join tile. Must not be null and should be initialized before use.
- **Output**: None
- **See Also**: [`fd_netlink_topo_join`](<fd_netlink_tile.c.md#fd_netlink_topo_join>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)