<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for the Firedancer GUI, defining data structures, constants, and functions for managing slots, transactions, and network interactions.

# Purpose
The `fd_gui.h` file is a C header file that defines the structures, constants, and function prototypes for a graphical user interface (GUI) component within a larger software system. This file is part of a module that appears to manage and monitor blockchain-related activities, specifically for a system named "frankendancer." The file includes various data structures that represent different aspects of the blockchain, such as `fd_gui_gossip_peer`, `fd_gui_vote_account`, `fd_gui_validator_info`, and `fd_gui_slot`. These structures store information about network peers, voting accounts, validators, and slots, respectively.

The file also defines numerous constants that are used to represent different states and configurations within the GUI, such as progress types, slot leader states, and transaction flags. Additionally, the file provides function prototypes for operations related to the GUI, such as initializing the GUI, handling WebSocket connections, processing transactions, and managing slot and leader information. The inclusion of other header files suggests that this module interacts with various components of the system, such as HTTP servers, topology management, and transaction processing. Overall, the `fd_gui.h` file serves as a comprehensive interface for managing and displaying blockchain-related data within the GUI.
# Imports and Dependencies

---
- `fd_gui_peers.h`
- `../topo/fd_topo.h`
- `../../ballet/txn/fd_txn.h`
- `../../disco/fd_txn_p.h`
- `../../discof/restore/fd_snapct_tile.h`
- `../../discof/tower/fd_tower_tile.h`
- `../../flamenco/leaders/fd_leaders.h`
- `../../flamenco/types/fd_types_custom.h`
- `../../util/fd_util_base.h`
- `../../util/hist/fd_histf.h`
- `../../waltz/http/fd_http_server.h`


# Data Structures

---
### fd\_gui\_gossip\_peer
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: An array of `fd_pubkey_t` representing the public key of the peer.
    - ``wallclock``: An `ulong` representing the wallclock time.
    - ``shred_version``: A `ushort` representing the shred version.
    - ``has_version``: An `int` indicating if the version information is available.
    - ``version``: A nested `struct` containing version details with `major`, `minor`, `patch`, `has_commit`, `commit`, and `feature_set` fields.
    - ``sockets``: An array of 12 `struct` elements, each containing `ipv4` and `port` fields for socket information.
- **Description**: Defines a peer in the gossip network with fields for public key, wallclock time, shred version, version information, and socket details. The `version` sub-structure holds detailed versioning information, while the `sockets` array provides network connectivity details for up to 12 sockets.


---
### fd\_gui\_vote\_account
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: An array of `fd_pubkey_t` representing the public key of the vote account.
    - ``vote_account``: An array of `fd_pubkey_t` representing the vote account's public key.
    - ``activated_stake``: An `ulong` representing the amount of stake activated for the vote account.
    - ``last_vote``: An `ulong` representing the last vote slot for the vote account.
    - ``root_slot``: An `ulong` representing the root slot for the vote account.
    - ``epoch_credits``: An `ulong` representing the epoch credits for the vote account.
    - ``commission``: An `uchar` representing the commission percentage for the vote account.
    - ``delinquent``: An `int` indicating if the vote account is delinquent.
- **Description**: The `fd_gui_vote_account` structure holds information about a vote account in a distributed system. It includes public keys for the account and vote account, the amount of activated stake, the last vote slot, the root slot, epoch credits, commission percentage, and a flag indicating if the account is delinquent. This structure is used to manage and track the state of vote accounts within the system.


---
### fd\_gui\_validator\_info
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: An array of `fd_pubkey_t` representing the public key of the validator.
    - ``name``: A character array of size 64 to store the name of the validator.
    - ``website``: A character array of size 128 to store the website URL of the validator.
    - ``details``: A character array of size 256 to store additional details about the validator.
    - ``icon_uri``: A character array of size 128 to store the URI of the validator's icon.
- **Description**: Holds information about a validator, including its public key, name, website, additional details, and icon URI. This structure is used to store and manage metadata related to validators in the system.


---
### fd\_gui\_tile\_timers
- **Type**: ``struct``
- **Members**:
    - `caughtup_housekeeping_ticks`: Stores the number of ticks for caught-up housekeeping.
    - `processing_housekeeping_ticks`: Stores the number of ticks for processing housekeeping.
    - `backpressure_housekeeping_ticks`: Stores the number of ticks for backpressure housekeeping.
    - `caughtup_prefrag_ticks`: Stores the number of ticks for caught-up pre-fragmentation.
    - `processing_prefrag_ticks`: Stores the number of ticks for processing pre-fragmentation.
    - `backpressure_prefrag_ticks`: Stores the number of ticks for backpressure pre-fragmentation.
    - `caughtup_postfrag_ticks`: Stores the number of ticks for caught-up post-fragmentation.
    - `processing_postfrag_ticks`: Stores the number of ticks for processing post-fragmentation.
- **Description**: The `fd_gui_tile_timers` structure is used to track various timing metrics related to different stages of processing in a GUI tile. It includes fields for housekeeping, pre-fragmentation, and post-fragmentation ticks, which help in monitoring and managing the performance and efficiency of the GUI tile operations.


---
### fd\_gui\_tile\_timers\_t
- **Type**: ``struct``
- **Members**:
    - `caughtup_housekeeping_ticks`: Stores the number of ticks for caught-up housekeeping.
    - `processing_housekeeping_ticks`: Stores the number of ticks for processing housekeeping.
    - `backpressure_housekeeping_ticks`: Stores the number of ticks for backpressure housekeeping.
    - `caughtup_prefrag_ticks`: Stores the number of ticks for caught-up pre-fragmentation.
    - `processing_prefrag_ticks`: Stores the number of ticks for processing pre-fragmentation.
    - `backpressure_prefrag_ticks`: Stores the number of ticks for backpressure pre-fragmentation.
    - `caughtup_postfrag_ticks`: Stores the number of ticks for caught-up post-fragmentation.
    - `processing_postfrag_ticks`: Stores the number of ticks for processing post-fragmentation.
- **Description**: The `fd_gui_tile_timers_t` structure is used to track various timing metrics related to different stages of processing in a GUI tile. It includes fields for housekeeping, pre-fragmentation, and post-fragmentation ticks, which help in monitoring and managing the performance and efficiency of the tile's operations.


---
### fd\_gui\_leader\_slot
- **Type**: ``struct``
- **Members**:
    - ``slot``: Stores the slot number.
    - ``leader_start_time``: Records the UNIX timestamp when leadership started in this slot.
    - ``leader_end_time``: Records the UNIX timestamp when leadership ended in this slot.
    - ``tile_timers``: An array of `fd_gui_tile_timers_t` to track time spent in different activity regimes.
    - ``tile_timers_sample_cnt``: Counts the number of samples taken for tile timers.
    - ``txs.microblocks_upper_bound``: Sets an upper limit on the number of microblocks in the slot.
    - ``txs.begin_microblocks``: Tracks the number of microblocks started from pack to banks.
    - ``txs.end_microblocks``: Tracks the number of microblocks ended from banks to poh.
    - ``txs.start_offset``: Indicates the smallest pack transaction index for this slot.
    - ``txs.end_offset``: Indicates the largest pack transaction index for this slot, plus one.
- **Description**: The `fd_gui_leader_slot` structure manages data related to a leader's slot in a distributed system. It records the start and end times of leadership, tracks CPU utilization through tile timers, and manages microblock information within the slot. The structure also includes mechanisms to monitor and record transaction indices, providing a comprehensive view of slot activity and performance.


---
### fd\_gui\_leader\_slot\_t
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the slot number.
    - `leader_start_time`: Records the UNIX timestamp when leadership started for this slot.
    - `leader_end_time`: Records the UNIX timestamp when leadership ended for this slot.
    - `tile_timers`: Contains timing information for tile activities during the slot.
    - `tile_timers_sample_cnt`: Counts the number of samples taken for tile timers.
    - `txs`: Holds transaction-related data for the slot, including microblock counts and transaction offsets.
- **Description**: `fd_gui_leader_slot_t` is a structure that represents a leader slot in the GUI, capturing details about the slot's timing, tile activities, and transactions. It includes fields for the slot number, start and end times of leadership, and a nested structure for tile timers that records CPU utilization and activity regimes. The `txs` sub-structure tracks microblock counts and transaction offsets, providing a comprehensive view of the slot's transaction processing state.


---
### fd\_gui\_slot\_completed
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the slot number.
    - `completed_time`: Records the time when the slot was completed.
    - `parent_slot`: Indicates the parent slot number.
    - `max_compute_units`: Specifies the maximum compute units available for the slot.
    - `total_txn_cnt`: Counts the total number of transactions in the slot.
    - `vote_txn_cnt`: Counts the number of vote transactions in the slot.
    - `failed_txn_cnt`: Counts the number of failed transactions in the slot.
    - `nonvote_failed_txn_cnt`: Counts the number of non-vote failed transactions in the slot.
    - `transaction_fee`: Stores the total transaction fee for the slot.
    - `priority_fee`: Stores the total priority fee for the slot.
    - `tips`: Stores the total tips for the slot.
    - `compute_units`: Records the compute units used in the slot.
    - `shred_cnt`: Counts the number of shreds in the slot.
- **Description**: Represents a completed slot in a GUI system, capturing various metrics such as transaction counts, fees, and compute units, which are essential for analyzing the performance and status of the slot.


---
### fd\_gui\_slot\_completed\_t
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the slot number.
    - `completed_time`: Records the time when the slot was completed.
    - `parent_slot`: Indicates the parent slot number.
    - `max_compute_units`: Specifies the maximum compute units for the slot.
    - `total_txn_cnt`: Counts the total number of transactions in the slot.
    - `vote_txn_cnt`: Counts the number of vote transactions in the slot.
    - `failed_txn_cnt`: Counts the number of failed transactions in the slot.
    - `nonvote_failed_txn_cnt`: Counts the number of non-vote failed transactions in the slot.
    - `transaction_fee`: Stores the total transaction fee for the slot.
    - `priority_fee`: Stores the total priority fee for the slot.
    - `tips`: Stores the total tips for the slot.
    - `compute_units`: Records the compute units used in the slot.
    - `shred_cnt`: Counts the number of shreds in the slot.
- **Description**: Represents a completed slot in the GUI, capturing various metrics such as transaction counts, fees, and compute units used. It provides a comprehensive summary of the slot's completion status and its relationship to other slots.


---
### fd\_gui\_slot\_staged\_shred\_event
- **Type**: ``struct``
- **Members**:
    - ``timestamp``: Stores the time when the shred event occurred.
    - ``slot``: Identifies the slot associated with the shred event.
    - ``shred_idx``: Indicates the index of the shred within the slot.
    - ``fec_idx``: Represents the index for forward error correction.
    - ``event``: Specifies the type of event that occurred.
- **Description**: Represents a staged shred event in a slot, capturing the timestamp, slot number, shred index, forward error correction index, and event type. This structure is used to track and manage shred events as they occur, providing essential information for processing and handling these events within the system.


---
### fd\_gui\_slot\_staged\_shred\_event\_t
- **Type**: ``struct``
- **Members**:
    - ``timestamp``: Records the time of the shred event.
    - ``slot``: Identifies the slot associated with the shred event.
    - ``shred_idx``: Specifies the index of the shred within the slot.
    - ``fec_idx``: Indicates the forward error correction index for the shred.
    - ``event``: Denotes the type of event that occurred for the shred.
- **Description**: Represents a staged shred event in the GUI, capturing details such as the timestamp, slot, shred index, FEC index, and event type. This structure is used to track and manage shred events as they occur, providing a mechanism to record and broadcast these events to WebSocket consumers.


---
### fd\_gui\_slot\_history\_shred\_event
- **Type**: ``struct``
- **Members**:
    - ``timestamp``: Stores the time when the shred event occurred.
    - ``shred_idx``: Indicates the index of the shred within the slot.
    - ``event``: Represents the type of event associated with the shred.
- **Description**: The `fd_gui_slot_history_shred_event` structure is used to record events related to shreds in a slot's history. It captures the timestamp of the event, the index of the shred, and the type of event that occurred. This structure is packed to ensure efficient memory usage and is part of a system that tracks and manages shred events in a blockchain context.


---
### fd\_gui\_slot\_history\_shred\_event\_t
- **Type**: ``struct``
- **Members**:
    - ``timestamp``: Records the time of the shred event.
    - ``shred_idx``: Identifies the index of the shred.
    - ``event``: Specifies the type of shred event.
- **Description**: Represents a historical record of shred events in a slot, capturing the timestamp, shred index, and event type for each occurrence. This structure is used to track and store finalized shred events, which are no longer subject to updates, in a compact form.


---
### fd\_gui\_slot\_ranking
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the slot number as an unsigned long integer.
    - `value`: Stores the ranking value as an unsigned long integer.
    - `type`: Stores the ranking type as an integer.
- **Description**: Defines a structure to represent a slot ranking with a slot number, a ranking value, and a ranking type. This structure is used to store and manage rankings related to slots in a GUI context, where each slot can have a specific ranking value and type.


---
### fd\_gui\_slot\_ranking\_t
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the slot number.
    - `value`: Holds the ranking value associated with the slot.
    - `type`: Indicates the type of ranking, such as ascending or descending.
- **Description**: Represents a ranking for a specific slot, including the slot number, its ranking value, and the type of ranking (e.g., ascending or descending).


---
### fd\_gui\_slot\_rankings
- **Type**: ``struct``
- **Members**:
    - `largest_tips`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest tips.
    - `largest_fees`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest fees.
    - `largest_rewards`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest rewards.
    - `largest_duration`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest duration.
    - `largest_compute_units`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest compute units.
    - `largest_skipped`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest skipped slots.
    - `largest_rewards_per_cu`: An array of `fd_gui_slot_ranking_t` representing the slots with the largest rewards per compute unit.
    - `smallest_tips`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest tips.
    - `smallest_fees`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest fees.
    - `smallest_rewards`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest rewards.
    - `smallest_rewards_per_cu`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest rewards per compute unit.
    - `smallest_duration`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest duration.
    - `smallest_compute_units`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest compute units.
    - `smallest_skipped`: An array of `fd_gui_slot_ranking_t` representing the slots with the smallest skipped slots.
- **Description**: The `fd_gui_slot_rankings` structure holds arrays of slot rankings based on various criteria such as tips, fees, rewards, duration, compute units, and skipped slots. Each array contains `fd_gui_slot_ranking_t` elements, which store information about the slots that have the largest or smallest values for each criterion. The size of each array is defined by `FD_GUI_SLOT_RANKINGS_SZ+1UL`, allowing for a fixed number of rankings to be stored for each category.


---
### fd\_gui\_slot\_rankings\_t
- **Type**: ``struct``
- **Members**:
    - ``largest_tips``: Array of slot rankings based on the largest tips.
    - ``largest_fees``: Array of slot rankings based on the largest fees.
    - ``largest_rewards``: Array of slot rankings based on the largest rewards.
    - ``largest_duration``: Array of slot rankings based on the largest duration.
    - ``largest_compute_units``: Array of slot rankings based on the largest compute units.
    - ``largest_skipped``: Array of slot rankings based on the largest skipped slots.
    - ``largest_rewards_per_cu``: Array of slot rankings based on the largest rewards per compute unit.
    - ``smallest_tips``: Array of slot rankings based on the smallest tips.
    - ``smallest_fees``: Array of slot rankings based on the smallest fees.
    - ``smallest_rewards``: Array of slot rankings based on the smallest rewards.
    - ``smallest_rewards_per_cu``: Array of slot rankings based on the smallest rewards per compute unit.
    - ``smallest_duration``: Array of slot rankings based on the smallest duration.
    - ``smallest_compute_units``: Array of slot rankings based on the smallest compute units.
    - ``smallest_skipped``: Array of slot rankings based on the smallest skipped slots.
- **Description**: The `fd_gui_slot_rankings` structure organizes slot rankings based on various criteria such as tips, fees, rewards, duration, compute units, and skipped slots. Each criterion has arrays for both the largest and smallest values, allowing for comprehensive tracking and comparison of slot performance metrics. The structure uses `fd_gui_slot_ranking_t` arrays, each with a size defined by `FD_GUI_SLOT_RANKINGS_SZ+1UL`, to store these rankings.


---
### fd\_gui\_ephemeral\_slot
- **Type**: ``struct``
- **Members**:
    - ``slot``: Stores the slot number, with `ULONG_MAX` indicating an invalid or evicted slot.
    - ``timestamp_arrival_nanos``: Records the arrival time of the slot in nanoseconds.
- **Description**: Represents an ephemeral slot in the GUI, used to track temporary slot information such as its number and the time it arrived. The `slot` field can indicate an invalid or evicted slot by using `ULONG_MAX`, while `timestamp_arrival_nanos` provides a precise timestamp of when the slot was recorded.


---
### fd\_gui\_ephemeral\_slot\_t
- **Type**: ``struct``
- **Members**:
    - ``slot``: Stores the slot number, with `ULONG_MAX` indicating an invalid or evicted slot.
    - ``timestamp_arrival_nanos``: Records the arrival time of the slot in nanoseconds.
- **Description**: Represents a temporary or short-lived slot in the GUI system, used to track slot information such as its number and the time it arrived. This structure is part of a larger system that manages and monitors slot activities and transactions in a distributed environment.


---
### fd\_gui\_txn
- **Type**: ``struct``
- **Members**:
    - ``signature``: An array of unsigned characters representing the transaction signature.
    - ``transaction_fee``: An unsigned long representing the transaction fee.
    - ``priority_fee``: An unsigned long representing the priority fee.
    - ``tips``: An unsigned long representing the tips.
    - ``timestamp_arrival_nanos``: A long representing the arrival timestamp in nanoseconds.
    - ``compute_units_requested``: A 21-bit unsigned integer representing the requested compute units.
    - ``compute_units_consumed``: A 21-bit unsigned integer representing the consumed compute units.
    - ``bank_idx``: A 6-bit unsigned integer representing the bank index.
    - ``error_code``: A 6-bit unsigned integer representing the error code.
    - ``timestamp_delta_start_nanos``: An integer representing the start timestamp delta in nanoseconds.
    - ``timestamp_delta_end_nanos``: An integer representing the end timestamp delta in nanoseconds.
    - ``txn_start_pct``: An unsigned character representing the transaction start percentage.
    - ``txn_load_end_pct``: An unsigned character representing the transaction load end percentage.
    - ``txn_end_pct``: An unsigned character representing the transaction end percentage.
    - ``txn_preload_end_pct``: An unsigned character representing the transaction preload end percentage.
    - ``flags``: An unsigned character representing transaction flags.
    - ``source_tpu``: An unsigned character representing the source TPU.
    - ``source_ipv4``: An unsigned integer representing the source IPv4 address.
    - ``microblock_idx``: An unsigned integer representing the microblock index.
- **Description**: Represents a transaction in the GUI system, containing details such as fees, timestamps, compute units, and various transaction percentages and flags. The structure is packed to optimize memory usage and includes fields for tracking the transaction's execution and source information.


---
### fd\_gui\_txn\_t
- **Type**: ``struct``
- **Members**:
    - `signature`: An array of bytes representing the transaction signature.
    - `transaction_fee`: The fee associated with the transaction.
    - `priority_fee`: The priority fee for the transaction.
    - `tips`: The tips included in the transaction.
    - `timestamp_arrival_nanos`: The arrival timestamp of the transaction in nanoseconds.
    - `compute_units_requested`: The number of compute units requested for the transaction.
    - `compute_units_consumed`: The number of compute units consumed by the transaction.
    - `bank_idx`: The index of the bank processing the transaction.
    - `error_code`: The error code associated with the transaction, if any.
    - `timestamp_delta_start_nanos`: The start time delta of the transaction in nanoseconds.
    - `timestamp_delta_end_nanos`: The end time delta of the transaction in nanoseconds.
    - `txn_start_pct`: The percentage of the transaction's start time relative to the total microblock duration.
    - `txn_load_end_pct`: The percentage of the transaction's load end time relative to the total microblock duration.
    - `txn_end_pct`: The percentage of the transaction's end time relative to the total microblock duration.
    - `txn_preload_end_pct`: The percentage of the transaction's preload end time relative to the total microblock duration.
    - `flags`: Flags indicating the state or properties of the transaction.
    - `source_tpu`: The source TPU (Transaction Processing Unit) of the transaction.
    - `source_ipv4`: The IPv4 address of the source of the transaction.
    - `microblock_idx`: The index of the microblock containing the transaction.
- **Description**: Represents a transaction in the GUI system, containing details such as signature, fees, timestamps, compute units, and various transaction-specific metrics and flags. This structure is used to track and manage transactions within the system, providing detailed information about each transaction's processing and status.


---
### fd\_gui\_txn\_waterfall
- **Type**: ``struct``
- **Members**:
    - ``in``: Contains input metrics such as `quic`, `udp`, `gossip`, `block_engine`, and `pack_cranked`.
    - ``out``: Contains output metrics including `net_overrun`, `quic_overrun`, `quic_frag_drop`, `quic_abandoned`, `tpu_quic_invalid`, `tpu_udp_invalid`, `verify_overrun`, `verify_parse`, `verify_failed`, `verify_duplicate`, `dedup_duplicate`, `resolv_lut_failed`, `resolv_expired`, `resolv_ancient`, `resolv_no_ledger`, `resolv_retained`, `pack_invalid`, `pack_invalid_bundle`, `pack_expired`, `pack_retained`, `pack_wait_full`, `pack_leader_slow`, `bank_invalid`, `block_success`, and `block_fail`.
- **Description**: Represents a structure for tracking transaction metrics in a GUI, with separate sections for input and output metrics. The `in` section records various input metrics related to network and processing stages, while the `out` section tracks different types of errors, overrun conditions, and transaction outcomes.


---
### fd\_gui\_txn\_waterfall\_t
- **Type**: ``struct``
- **Members**:
    - ``in``: Contains counters for different types of incoming transactions.
    - ``out``: Contains counters for different types of outgoing transactions and errors.
- **Description**: Tracks the flow of transactions through various stages, including incoming and outgoing transactions, and records errors or issues encountered during processing.


---
### fd\_gui\_tile\_stats
- **Type**: ``struct``
- **Members**:
    - ``sample_time_nanos``: Stores the sample time in nanoseconds.
    - ``net_in_rx_bytes``: Tracks the number of bytes received by the network or socket tile.
    - ``quic_conn_cnt``: Counts the number of active QUIC connections.
    - ``bundle_rx_delay_hist``: Represents a histogram of bundle receive delay.
    - ``bundle_rtt_smoothed_nanos``: Holds the smoothed round-trip time (RTT) in nanoseconds.
    - ``verify_drop_cnt``: Counts the number of transactions dropped by verify tiles.
    - ``verify_total_cnt``: Counts the total number of transactions received by verify tiles.
    - ``dedup_drop_cnt``: Counts the number of transactions dropped by deduplication tile.
    - ``dedup_total_cnt``: Counts the total number of transactions received by deduplication tile.
    - ``pack_buffer_cnt``: Tracks the number of buffered transactions in the pack tile.
    - ``pack_buffer_capacity``: Indicates the total size of the pack transaction buffer.
    - ``bank_txn_exec_cnt``: Counts the number of transactions processed by the bank tile.
    - ``net_out_tx_bytes``: Tracks the number of bytes sent by the network or socket tile.
- **Description**: Represents statistics related to GUI tiles, including network data transfer, transaction processing, and delay metrics. It provides a comprehensive overview of the performance and activity of various components within the system, such as network bytes received and sent, active connections, transaction counts, and buffer capacities.


---
### fd\_gui\_tile\_stats\_t
- **Type**: ``struct``
- **Members**:
    - `sample_time_nanos`: Stores the sample time in nanoseconds.
    - `net_in_rx_bytes`: Tracks the number of bytes received by the net or sock tile.
    - `quic_conn_cnt`: Counts the number of active QUIC connections.
    - `bundle_rx_delay_hist`: Represents a histogram of bundle receive delay.
    - `bundle_rtt_smoothed_nanos`: Stores the smoothed round-trip time (RTT) in nanoseconds.
    - `verify_drop_cnt`: Counts the number of transactions dropped by verify tiles.
    - `verify_total_cnt`: Counts the total number of transactions received by verify tiles.
    - `dedup_drop_cnt`: Counts the number of transactions dropped by the dedup tile.
    - `dedup_total_cnt`: Counts the total number of transactions received by the dedup tile.
    - `pack_buffer_cnt`: Tracks the number of buffered transactions in the pack tile.
    - `pack_buffer_capacity`: Indicates the total size of the pack transaction buffer.
    - `bank_txn_exec_cnt`: Counts the number of transactions processed by the bank tile.
    - `net_out_tx_bytes`: Tracks the number of bytes sent by the net or sock tile.
- **Description**: The `fd_gui_tile_stats` structure collects various statistics related to network and transaction processing within a GUI tile. It includes metrics such as the number of bytes received and sent, the number of active QUIC connections, and transaction counts for verification and deduplication processes. Additionally, it tracks the buffer capacity and usage in the pack tile, as well as the execution count of transactions in the bank tile. The structure also maintains a histogram for bundle receive delay and a smoothed round-trip time for network communication.


---
### fd\_gui\_slot
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the unique identifier for the slot.
    - `parent_slot`: Stores the identifier of the parent slot.
    - `max_compute_units`: Indicates the maximum compute units available for the slot.
    - `completed_time`: Records the time when the slot was completed.
    - `mine`: Indicates if the slot is owned by the current leader.
    - `skipped`: Indicates if the slot was skipped.
    - `must_republish`: Indicates if the slot must be republished.
    - `level`: Represents the level of confirmation of the slot.
    - `total_txn_cnt`: Counts the total number of transactions in the slot.
    - `vote_txn_cnt`: Counts the number of vote transactions in the slot.
    - `failed_txn_cnt`: Counts the number of failed transactions in the slot.
    - `nonvote_failed_txn_cnt`: Counts the number of non-vote failed transactions in the slot.
    - `compute_units`: Tracks the compute units used in the slot.
    - `transaction_fee`: Stores the total transaction fee for the slot.
    - `priority_fee`: Stores the priority fee for the slot.
    - `tips`: Stores the tips for the slot.
    - `shred_cnt`: Counts the number of shreds in the slot.
    - `leader_history_idx`: Indexes the leader history for the slot.
    - `waterfall_begin`: Marks the beginning of the transaction waterfall for the slot.
    - `waterfall_end`: Marks the end of the transaction waterfall for the slot.
    - `tile_stats_begin`: Marks the beginning of the tile statistics for the slot.
    - `tile_stats_end`: Marks the end of the tile statistics for the slot.
    - `shreds`: Stores the start and end offsets for shred events in the slot.
- **Description**: Represents a slot in a distributed ledger system, tracking various metrics and statuses such as transaction counts, compute units, fees, and shred events. It includes information specific to leader slots and maintains references to transaction waterfalls and tile statistics. The structure is used to manage and monitor the state and performance of slots within the system.


---
### fd\_gui\_slot\_t
- **Type**: ``struct``
- **Members**:
    - `slot`: Stores the slot number.
    - `parent_slot`: Stores the parent slot number.
    - `max_compute_units`: Stores the maximum compute units for the slot.
    - `completed_time`: Stores the time when the slot was completed.
    - `mine`: Indicates if the slot is owned by the current node.
    - `skipped`: Indicates if the slot was skipped.
    - `must_republish`: Indicates if the slot must be republished.
    - `level`: Stores the level of the slot.
    - `total_txn_cnt`: Stores the total transaction count for the slot.
    - `vote_txn_cnt`: Stores the count of vote transactions for the slot.
    - `failed_txn_cnt`: Stores the count of failed transactions for the slot.
    - `nonvote_failed_txn_cnt`: Stores the count of non-vote failed transactions for the slot.
    - `compute_units`: Stores the compute units used in the slot.
    - `transaction_fee`: Stores the transaction fee for the slot.
    - `priority_fee`: Stores the priority fee for the slot.
    - `tips`: Stores the tips for the slot.
    - `shred_cnt`: Stores the count of shreds for the slot.
    - `leader_history_idx`: Stores the index in the leader history.
    - `waterfall_begin`: Stores the initial state of the transaction waterfall.
    - `waterfall_end`: Stores the final state of the transaction waterfall.
    - `tile_stats_begin`: Stores the initial tile statistics.
    - `tile_stats_end`: Stores the final tile statistics.
    - `shreds`: Stores the start and end offsets for shred events in the slot.
- **Description**: Represents a slot in the GUI system, tracking various metrics and states such as transaction counts, compute units, and fees. It also includes information about the slot's position in the blockchain, its completion status, and associated shred events. The structure is used to manage and monitor the state of slots within the system, providing detailed insights into the processing and status of each slot.


---
### fd\_gui
- **Type**: ``struct``
- **Members**:
    - ``http``: Pointer to an `fd_http_server_t` structure for HTTP server management.
    - ``topo``: Pointer to an `fd_topo_t` structure for topology management.
    - ``next_sample_400millis``: Time for the next 400-millisecond sample.
    - ``next_sample_100millis``: Time for the next 100-millisecond sample.
    - ``next_sample_10millis``: Time for the next 10-millisecond sample.
    - ``debug_in_leader_slot``: Debug information for the leader slot.
    - ``summary``: Contains various fields for identity, vote keys, client status, and performance metrics.
    - ``slots``: Array of `fd_gui_slot_t` structures representing slots.
    - ``leader_slots``: Array of `fd_gui_leader_slot_t` structures representing leader slots.
    - ``leader_slots_cnt``: Count of leader slots.
    - ``txs``: Array of `fd_gui_txn_t` structures representing transactions.
    - ``pack_txn_idx``: Index of the most recently received transaction.
    - ``block_engine``: Contains block engine status and connection details.
    - ``epoch``: Contains epoch-related data and rankings.
    - ``gossip``: Contains gossip peer information.
    - ``vote_account``: Contains vote account information.
    - ``validator_info``: Contains validator information.
    - ``peers``: Pointer to `fd_gui_peers_ctx_t` for peer context management.
    - ``shreds``: Contains shred event data for staging and history.
- **Description**: The `fd_gui` structure is a comprehensive data structure used to manage and track various aspects of a distributed system's graphical user interface. It includes pointers to HTTP server and topology structures, timing information for sampling, and debug data for leader slots. The `summary` field contains identity and vote key information, client status, and performance metrics. The structure also manages slots and leader slots, transaction history, block engine status, epoch data, gossip peers, vote accounts, and validator information. Additionally, it includes a pointer to peer context management and handles shred events for staging and history.


---
### fd\_gui\_t
- **Type**: ``struct``
- **Members**:
    - ``http``: Pointer to an HTTP server instance.
    - ``topo``: Pointer to a topology instance.
    - ``next_sample_400millis``: Timestamp for the next 400ms sample.
    - ``next_sample_100millis``: Timestamp for the next 100ms sample.
    - ``next_sample_10millis``: Timestamp for the next 10ms sample.
    - ``debug_in_leader_slot``: Debugging information for leader slots.
    - ``summary``: Contains various summary statistics and state information.
    - ``slots``: Array of slots with a fixed size.
    - ``leader_slots``: Array of leader slots with a fixed size.
    - ``leader_slots_cnt``: Count of leader slots.
    - ``txs``: Array of transactions with a fixed size.
    - ``pack_txn_idx``: Index of the most recently received transaction.
    - ``block_engine``: Information about the block engine.
    - ``epoch``: Contains epoch-related information and rankings.
    - ``gossip``: Information about gossip peers.
    - ``vote_account``: Information about vote accounts.
    - ``validator_info``: Information about validators.
    - ``peers``: Pointer to peers context.
    - ``shreds``: Contains information about shred events and history.
- **Description**: `fd_gui_t` is a data structure that represents the state and configuration of a graphical user interface (GUI) for a distributed system. It includes pointers to server and topology instances, timestamps for sampling intervals, and debugging information. The structure maintains arrays for slots, leader slots, and transactions, along with their respective counts and indices. It also holds information about the block engine, epoch data, gossip peers, vote accounts, and validator information. Additionally, it manages shred events and history, providing a comprehensive overview of the GUI's operational state.


# Functions

---
### fd\_gui\_get\_slot<!-- {{#callable:fd_gui_get_slot}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L867>)

Retrieves a slot from the GUI's slot array based on the given slot index, ensuring the slot is valid and matches the requested index.
- **Inputs**:
    - ``gui``: A pointer to a constant `fd_gui_t` structure, representing the GUI context containing the slots.
    - ``_slot``: An unsigned long integer representing the index of the slot to retrieve.
- **Logic and Control Flow**:
    - Calculate the index in the `slots` array using `_slot % FD_GUI_SLOTS_CNT` to handle wrap-around.
    - Retrieve the slot at the calculated index from the `gui->slots` array.
    - Check if the slot is invalid by comparing `slot->slot` and `_slot` to `ULONG_MAX` and ensuring `slot->slot` matches `_slot`.
    - Return `NULL` if the slot is invalid or does not match the requested index.
    - Return a pointer to the valid slot if all checks pass.
- **Output**: A pointer to the `fd_gui_slot_t` structure if the slot is valid and matches the requested index, otherwise `NULL`.


---
### fd\_gui\_get\_slot\_const<!-- {{#callable:fd_gui_get_slot_const}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L874>)

Returns a constant pointer to a slot in the GUI structure based on the given slot index.
- **Inputs**:
    - ``gui``: A constant pointer to an `fd_gui_t` structure representing the GUI context.
    - ``_slot``: An unsigned long integer representing the slot index to retrieve.
- **Logic and Control Flow**:
    - Calls the [`fd_gui_get_slot`](<#fd_gui_get_slot>) function with the provided `gui` and `_slot` parameters.
    - Returns the result of the [`fd_gui_get_slot`](<#fd_gui_get_slot>) function call, which is a constant pointer to an `fd_gui_slot_t` structure.
- **Output**: A constant pointer to an `fd_gui_slot_t` structure corresponding to the specified slot index, or `NULL` if the slot is invalid or not found.
- **Functions Called**:
    - [`fd_gui_get_slot`](<#fd_gui_get_slot>)


---
### fd\_gui\_get\_leader\_slot<!-- {{#callable:fd_gui_get_leader_slot}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L879>)

Retrieves a pointer to a leader slot structure if the specified slot is valid and meets certain conditions.
- **Inputs**:
    - ``gui``: A pointer to a constant `fd_gui_t` structure representing the GUI context.
    - ``_slot``: An unsigned long integer representing the slot number to retrieve the leader slot for.
- **Logic and Control Flow**:
    - Calls [`fd_gui_get_slot`](<#fd_gui_get_slot>) to retrieve the slot structure for the given `_slot`.
    - Checks if the slot is valid, belongs to the current instance, and has a valid leader history index.
    - Verifies that the leader history index is within bounds and matches the requested slot.
    - Returns `NULL` if any of the conditions are not met.
    - Returns a pointer to the `fd_gui_leader_slot_t` structure if all conditions are satisfied.
- **Output**: A pointer to an `fd_gui_leader_slot_t` structure if the slot is valid and conditions are met, otherwise `NULL`.
- **Functions Called**:
    - [`fd_gui_get_slot`](<#fd_gui_get_slot>)


---
### fd\_gui\_get\_leader\_slot\_const<!-- {{#callable:fd_gui_get_leader_slot_const}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L890>)

Returns a constant pointer to a leader slot structure for a given slot in the GUI.
- **Inputs**:
    - ``gui``: A constant pointer to an `fd_gui_t` structure representing the GUI context.
    - ``_slot``: An unsigned long integer representing the slot number for which the leader slot is requested.
- **Logic and Control Flow**:
    - Calls the [`fd_gui_get_leader_slot`](<#fd_gui_get_leader_slot>) function with the provided `gui` and `_slot` arguments.
    - Returns the result of the [`fd_gui_get_leader_slot`](<#fd_gui_get_leader_slot>) function call.
- **Output**: A constant pointer to an `fd_gui_leader_slot_t` structure if the leader slot is found, otherwise `NULL`.
- **Functions Called**:
    - [`fd_gui_get_leader_slot`](<#fd_gui_get_leader_slot>)


---
### fd\_gui\_get\_root\_slot<!-- {{#callable:fd_gui_get_root_slot}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L897>)

Finds the closest ancestor slot that is rooted, starting from a given slot.
- **Inputs**:
    - ``gui``: A pointer to a constant `fd_gui_t` structure, representing the GUI context.
    - ``slot``: An unsigned long integer representing the slot number to start the search from.
- **Logic and Control Flow**:
    - Call [`fd_gui_get_slot`](<#fd_gui_get_slot>) to get the slot structure for the given `slot` number.
    - Enter a loop that continues as long as the current slot (`c`) is not NULL.
    - Check if the current slot's level is greater than or equal to `FD_GUI_SLOT_LEVEL_ROOTED`.
    - If the current slot is rooted, return the current slot.
    - If not, update `c` to the parent slot using [`fd_gui_get_slot`](<#fd_gui_get_slot>).
    - If no rooted slot is found, return NULL.
- **Output**: A pointer to an `fd_gui_slot_t` structure representing the rooted ancestor slot, or NULL if no such slot exists.
- **Functions Called**:
    - [`fd_gui_get_slot`](<#fd_gui_get_slot>)


---
### fd\_gui\_slot\_is\_ancestor<!-- {{#callable:fd_gui_slot_is_ancestor}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L910>)

Determines if a given slot is an ancestor of another slot in the same fork.
- **Inputs**:
    - ``gui``: A pointer to a `fd_gui_t` structure representing the GUI context.
    - ``anc``: An unsigned long representing the potential ancestor slot number.
    - ``slot``: An unsigned long representing the slot number to check against the ancestor.
- **Logic and Control Flow**:
    - Retrieve the slot structure for the given `slot` using [`fd_gui_get_slot`](<#fd_gui_get_slot>) function.
    - Enter a loop that continues as long as the current slot structure `c` is not NULL.
    - Check if the current slot's number `c->slot` is equal to `anc`. If true, return 1 indicating `anc` is an ancestor.
    - Update `c` to the parent slot structure using [`fd_gui_get_slot`](<#fd_gui_get_slot>) with `c->parent_slot`.
    - If the loop exits without finding `anc`, return 0 indicating `anc` is not an ancestor.
- **Output**: Returns 1 if `anc` is an ancestor of `slot`, otherwise returns 0.
- **Functions Called**:
    - [`fd_gui_get_slot`](<#fd_gui_get_slot>)


---
### fd\_gui\_get\_parent\_slot\_on\_fork<!-- {{#callable:fd_gui_get_parent_slot_on_fork}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L928>)

Finds the closest valid parent slot on a specific fork, ending at a given frontier slot, for a specified slot.
- **Inputs**:
    - ``gui``: A pointer to a constant `fd_gui_t` structure, representing the graphical user interface context.
    - ``frontier_slot``: An unsigned long integer representing the slot number at the end of the fork.
    - ``slot``: An unsigned long integer representing the slot number for which the parent slot is sought.
- **Logic and Control Flow**:
    - Retrieve the slot structure for `frontier_slot` using [`fd_gui_get_slot`](<#fd_gui_get_slot>) and assign it to `c`.
    - Enter a loop that continues as long as `c` is not NULL.
    - Check if the slot number of `c` is less than or equal to `slot`; if true, return NULL.
    - Retrieve the parent slot structure of `c` using [`fd_gui_get_slot`](<#fd_gui_get_slot>) and assign it to `p`.
    - Check if `p` is not NULL and its slot number is less than or equal to `slot - 1`; if true, return `p`.
    - Assign `p` to `c` and continue the loop.
    - Return NULL if no valid parent slot is found.
- **Output**: A pointer to an `fd_gui_slot_t` structure representing the parent slot on the fork, or NULL if no valid parent is found.
- **Functions Called**:
    - [`fd_gui_get_slot`](<#fd_gui_get_slot>)


---
### fd\_gui\_is\_skipped\_on\_fork<!-- {{#callable:fd_gui_is_skipped_on_fork}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L944>)

Determines if a given slot is skipped on a fork between two specified slots.
- **Inputs**:
    - ``gui``: A pointer to a `fd_gui_t` structure representing the GUI context.
    - ``anc``: An unsigned long representing the ancestor slot number where the fork starts.
    - ``des``: An unsigned long representing the descendant slot number where the fork ends.
    - ``slot``: An unsigned long representing the slot number to check for skipping on the fork.
- **Logic and Control Flow**:
    - Retrieve the slot information for the descendant slot `des` using [`fd_gui_get_slot`](<#fd_gui_get_slot>) function.
    - Iterate through the slots starting from `des` towards `anc` using a while loop.
    - Check if the current slot is equal to `anc`; if true, return 0 indicating the slot is not skipped.
    - Retrieve the parent slot of the current slot using [`fd_gui_get_slot`](<#fd_gui_get_slot>) function.
    - Check if the parent slot exists and its slot number is less than `slot` while the current slot number is greater than `slot`; if true, return 1 indicating the slot is skipped.
    - Continue the loop with the parent slot as the new current slot.
    - If the loop completes without returning, return 0 indicating the slot is not skipped or is unknown.
- **Output**: Returns an integer: 1 if the slot is skipped on the fork, 0 otherwise.
- **Functions Called**:
    - [`fd_gui_get_slot`](<#fd_gui_get_slot>)


# Function Declarations (Public API)

---
### fd\_gui\_align<!-- {{#callable_declaration:fd_gui_align}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L748>)

Returns the alignment requirement for GUI data structures.
- **Description**: Use this function to obtain the alignment requirement for GUI-related data structures. This value is necessary when allocating memory for these structures to ensure proper alignment. The function does not require any parameters and can be called at any time to retrieve the alignment value.
- **Inputs**: None
- **Output**: Returns an unsigned long integer representing the alignment requirement, which is 128.
- **See Also**: [`fd_gui_align`](<fd_gui.c.md#fd_gui_align>)  (Implementation)


---
### fd\_gui\_footprint<!-- {{#callable_declaration:fd_gui_footprint}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L753>)

Returns the memory footprint of the GUI structure.
- **Description**: Use this function to determine the size of memory required to store a `fd_gui_t` structure. This is useful for memory allocation purposes when setting up the GUI component. The function does not require any parameters and can be called at any time to retrieve the size information.
- **Inputs**: None
- **Output**: The function returns an `ulong` representing the size in bytes of the `fd_gui_t` structure.
- **See Also**: [`fd_gui_footprint`](<fd_gui.c.md#fd_gui_footprint>)  (Implementation)


---
### fd\_gui\_new<!-- {{#callable_declaration:fd_gui_new}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L756>)

Creates a new GUI instance in shared memory.
- **Description**: Use this function to initialize a new GUI instance in a specified shared memory region. Ensure that the `shmem` pointer is not null and is properly aligned according to the required alignment. The function requires a valid topology structure and other parameters to configure the GUI instance. It returns a pointer to the initialized GUI structure or null if any preconditions are not met, such as misaligned memory or an excessive number of tiles in the topology.
- **Inputs**:
    - `shmem`: Pointer to the shared memory region where the GUI instance will be created. Must not be null and must be aligned to the required boundary. If invalid, the function returns null.
    - `http`: Pointer to an HTTP server structure. The caller retains ownership and must ensure it remains valid for the GUI's lifetime.
    - `version`: String representing the version of the GUI. The caller retains ownership and must ensure it remains valid for the GUI's lifetime.
    - `cluster`: String representing the cluster name. The caller retains ownership and must ensure it remains valid for the GUI's lifetime.
    - `identity_key`: Pointer to a 32-byte array representing the identity key. Must not be null.
    - `has_vote_key`: Integer flag indicating if a vote key is present. Non-zero means present.
    - `vote_key`: Pointer to a 32-byte array representing the vote key. Must not be null if `has_vote_key` is non-zero.
    - `is_full_client`: Integer flag indicating if the GUI is a full client. Non-zero means it is a full client.
    - `snapshots_enabled`: Integer flag indicating if snapshots are enabled. Non-zero means enabled.
    - `is_voting`: Integer flag indicating if voting is enabled. Non-zero means voting is enabled.
    - `schedule_strategy`: Integer representing the scheduling strategy to use.
    - `topo`: Pointer to a topology structure. Must not be null and must have a valid number of tiles. If the number of tiles exceeds the limit, the function returns null.
    - `now`: Current time in nanoseconds, used for initializing time-related fields.
- **Output**: Returns a pointer to the initialized GUI structure or null if initialization fails due to invalid input parameters.
- **See Also**: [`fd_gui_new`](<fd_gui.c.md#fd_gui_new>)  (Implementation)


---
### fd\_gui\_join<!-- {{#callable_declaration:fd_gui_join}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L771>)

Casts a shared memory pointer to a `fd_gui_t` pointer.
- **Description**: Use this function to convert a pointer to shared memory into a `fd_gui_t` pointer. This is typically done when you have a shared memory region that is expected to contain a `fd_gui_t` structure and you need to interact with it as such. Ensure that the shared memory is correctly initialized and contains a valid `fd_gui_t` structure before calling this function. This function does not perform any validation on the input pointer.
- **Inputs**:
    - `shmem`: A pointer to shared memory that is expected to contain a `fd_gui_t` structure. The pointer must not be null and should point to a valid memory region.
- **Output**: Returns a pointer to `fd_gui_t` cast from the input shared memory pointer.
- **See Also**: [`fd_gui_join`](<fd_gui.c.md#fd_gui_join>)  (Implementation)


---
### fd\_gui\_set\_identity<!-- {{#callable_declaration:fd_gui_set_identity}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L774>)

Sets the identity public key for the GUI.
- **Description**: Use this function to update the identity public key of the GUI. This function encodes the public key in Base58 format and updates the GUI's identity key and its Base58 representation. It also broadcasts the updated identity key and balance information over WebSocket. Call this function when you need to change the identity of the GUI, ensuring that the `gui` parameter is properly initialized and not null.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure. Must not be null. The caller retains ownership.
    - `identity_pubkey`: A pointer to a 32-byte array containing the new identity public key. Must not be null. The caller retains ownership.
- **Output**: None
- **See Also**: [`fd_gui_set_identity`](<fd_gui.c.md#fd_gui_set_identity>)  (Implementation)


---
### fd\_gui\_ws\_open<!-- {{#callable_declaration:fd_gui_ws_open}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L778>)

Sends GUI data over a WebSocket connection.
- **Description**: Use this function to send various GUI data to a client over a WebSocket connection. It must be called with a valid `fd_gui_t` structure and a valid WebSocket connection ID. The function iterates through a set of predefined data printers, sending each piece of data over the WebSocket. It also handles additional data if certain conditions are met, such as the presence of a block engine or epoch data. This function should be called when you need to update the client with the current state of the GUI.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI state. Must not be null.
    - `ws_conn_id`: An unsigned long representing the WebSocket connection ID. Must be a valid connection ID for the WebSocket server.
- **Output**: None
- **See Also**: [`fd_gui_ws_open`](<fd_gui.c.md#fd_gui_ws_open>)  (Implementation)


---
### fd\_gui\_ws\_message<!-- {{#callable_declaration:fd_gui_ws_message}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L782>)

Processes a WebSocket message for the GUI.
- **Description**: Use this function to handle incoming WebSocket messages for the GUI. It parses the message data as JSON and processes it based on the 'topic' and 'key' fields. The function expects the message to contain valid JSON with specific fields, and it returns an appropriate status code based on the processing result. Call this function when a WebSocket message is received to ensure the message is correctly interpreted and handled.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure. Must not be null. The caller retains ownership.
    - `ws_conn_id`: An unsigned long representing the WebSocket connection ID. Must be a valid connection ID.
    - `data`: A pointer to a constant unsigned char array containing the message data. Must not be null. The data should be in JSON format.
    - `data_len`: An unsigned long representing the length of the data array. Must accurately reflect the size of the data array.
- **Output**: Returns an integer status code indicating the result of processing the message. Possible return values include success or various error codes indicating the type of failure.
- **See Also**: [`fd_gui_ws_message`](<fd_gui.c.md#fd_gui_ws_message>)  (Implementation)


---
### fd\_gui\_plugin\_message<!-- {{#callable_declaration:fd_gui_plugin_message}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L788>)

Processes a plugin message for the GUI.
- **Description**: Use this function to handle various plugin messages that the GUI can receive. It processes the message based on the type specified by `plugin_msg` and performs the corresponding action on the `gui` object. This function must be called with a valid `fd_gui_t` object and a recognized `plugin_msg` value. If an unrecognized `plugin_msg` is provided, an error is logged. Ensure that `msg` is correctly formatted for the specific `plugin_msg` type, and `now` represents the current time in a suitable format.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` object. Must not be null. The function modifies this object based on the message type.
    - `plugin_msg`: An unsigned long integer representing the type of plugin message. Must be a valid message type recognized by the function.
    - `msg`: A pointer to a constant unsigned char array containing the message data. The format and content depend on the `plugin_msg` type. Must not be null.
    - `now`: A long integer representing the current time. Used for time-sensitive operations within the function.
- **Output**: None
- **See Also**: [`fd_gui_plugin_message`](<fd_gui.c.md#fd_gui_plugin_message>)  (Implementation)


---
### fd\_gui\_became\_leader<!-- {{#callable_declaration:fd_gui_became_leader}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L794>)

Updates the GUI state when a node becomes a leader for a slot.
- **Description**: Use this function to update the GUI state when a node becomes a leader for a specific slot. It sets the start and end times for the leadership period and updates the maximum compute units and microblocks for the slot. This function must be called when a node transitions to a leader state for a slot, ensuring that the GUI reflects the current leadership status. The function assumes that the slot is valid and that the node is indeed the leader for the slot.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI state. Must not be null.
    - `slot`: An unsigned long integer representing the slot number. Must be a valid slot for which the node is the leader.
    - `start_time_nanos`: A long integer representing the start time of the leadership in nanoseconds. Must be a valid UNIX timestamp.
    - `end_time_nanos`: A long integer representing the end time of the leadership in nanoseconds. Must be a valid UNIX timestamp.
    - `max_compute_units`: An unsigned long integer representing the maximum compute units available for the slot. Must be a valid non-negative value.
    - `max_microblocks`: An unsigned long integer representing the maximum number of microblocks for the slot. Must be a valid non-negative value.
- **Output**: None
- **See Also**: [`fd_gui_became_leader`](<fd_gui.c.md#fd_gui_became_leader>)  (Implementation)


---
### fd\_gui\_unbecame\_leader<!-- {{#callable_declaration:fd_gui_unbecame_leader}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L802>)

Updates the leader slot with the number of microblocks in the slot.
- **Description**: Use this function to update the leader slot information when a node is no longer the leader for a given slot. This function sets the upper bound of microblocks for the specified slot. It must be called with a valid `fd_gui_t` instance and a valid slot number. If the slot is not found, it will be cleared and reset. This function does not perform any action if the leader slot is not found.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` instance. Must not be null. The caller retains ownership.
    - `_slot`: The slot number to update. Must be a valid slot number within the range of slots managed by the GUI.
    - `microblocks_in_slot`: The number of microblocks in the slot. This value is used to set the upper bound of microblocks for the slot.
- **Output**: None
- **See Also**: [`fd_gui_unbecame_leader`](<fd_gui.c.md#fd_gui_unbecame_leader>)  (Implementation)


---
### fd\_gui\_microblock\_execution\_begin<!-- {{#callable_declaration:fd_gui_microblock_execution_begin}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L807>)

Begins the execution of a microblock.
- **Description**: Use this function to start processing a microblock within a specified slot. It updates the transaction history and slot information based on the provided transactions. Ensure that the `gui` object is properly initialized and that the slot is valid. This function must be called before any microblock execution ends for the same slot. It handles cases where the slot or leader slot is not found by initializing or skipping the operation, respectively.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI context. Must not be null.
    - `now`: A long integer representing the current time in nanoseconds. Used for timestamping.
    - `_slot`: An unsigned long integer specifying the slot in which the microblock execution begins. Must be a valid slot index.
    - `txns`: A pointer to an array of `fd_txn_p_t` structures representing the transactions to be processed. Must not be null.
    - `txn_cnt`: An unsigned long integer indicating the number of transactions in the `txns` array. Must be greater than zero.
    - `microblock_idx`: An unsigned integer representing the index of the microblock within the slot. Used for tracking purposes.
    - `pack_txn_idx`: An unsigned long integer specifying the starting index for packing transactions. Must be within valid range for transaction history.
- **Output**: None
- **See Also**: [`fd_gui_microblock_execution_begin`](<fd_gui.c.md#fd_gui_microblock_execution_begin>)  (Implementation)


---
### fd\_gui\_microblock\_execution\_end<!-- {{#callable_declaration:fd_gui_microblock_execution_end}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L816>)

Records the end of a microblock execution.
- **Description**: Use this function to record the completion of a microblock execution in the GUI system. It updates transaction history and slot information based on the provided parameters. This function expects exactly one transaction per microblock; otherwise, it logs an error. Ensure that the slot and leader slot are valid before calling this function, as it will not proceed if the leader slot is invalid.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure. Must not be null. The caller retains ownership.
    - `now`: A long integer representing the current time in nanoseconds. No specific range is enforced.
    - `bank_idx`: An unsigned long integer representing the bank index. Must be a valid index.
    - `_slot`: An unsigned long integer representing the slot index. Must be a valid slot.
    - `txn_cnt`: An unsigned long integer representing the number of transactions. Must be exactly 1; otherwise, an error is logged.
    - `txns`: A pointer to an array of `fd_txn_p_t` structures representing transactions. Must not be null and must contain at least `txn_cnt` elements.
    - `pack_txn_idx`: An unsigned long integer representing the packed transaction index. Must be a valid index.
    - `txn_start_pct`: An unsigned char representing the transaction start percentage. No specific range is enforced.
    - `txn_load_end_pct`: An unsigned char representing the transaction load end percentage. No specific range is enforced.
    - `txn_end_pct`: An unsigned char representing the transaction end percentage. No specific range is enforced.
    - `txn_preload_end_pct`: An unsigned char representing the transaction preload end percentage. No specific range is enforced.
    - `tips`: An unsigned long integer representing the tips associated with the transaction. No specific range is enforced.
- **Output**: None
- **See Also**: [`fd_gui_microblock_execution_end`](<fd_gui.c.md#fd_gui_microblock_execution_end>)  (Implementation)


---
### fd\_gui\_poll<!-- {{#callable_declaration:fd_gui_poll}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L830>)

Polls the GUI for updates and broadcasts changes if necessary.
- **Description**: Use this function to check for updates in the GUI state and broadcast any changes over WebSocket if needed. It should be called periodically with the current time to ensure timely updates. The function checks if certain time intervals have passed since the last update and performs necessary actions if so. It returns an integer indicating whether any work was done during the call.
- **Inputs**:
    - ``gui``: A pointer to an `fd_gui_t` structure representing the GUI state. Must not be null.
    - ``now``: A `long` representing the current time in nanoseconds. It should be greater than any previous time passed to this function to ensure correct operation.
- **Output**: Returns an integer: 1 if any updates were processed and broadcasted, 0 if no updates were necessary.
- **See Also**: [`fd_gui_poll`](<fd_gui.c.md#fd_gui_poll>)  (Implementation)


---
### fd\_gui\_handle\_shred<!-- {{#callable_declaration:fd_gui_handle_shred}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L833>)

Handles a shred event for a specified slot.
- **Description**: Use this function to process a shred event for a given slot in the GUI context. It updates the GUI's internal state based on whether the shred is from a turbine or a repair source. This function must be called with valid parameters to ensure correct GUI behavior. It records the event details and may trigger additional actions such as broadcasting updates if certain conditions are met.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI context. Must not be null.
    - `slot`: An unsigned long integer representing the slot number associated with the shred event. Must be a valid slot number.
    - `shred_idx`: An unsigned long integer representing the index of the shred. Must be a valid index.
    - `fec_idx`: An unsigned long integer representing the FEC index of the shred. Must be a valid index.
    - `is_turbine`: An integer indicating whether the shred is from a turbine (non-zero) or a repair (zero) source.
    - `tsorig`: A long integer representing the original timestamp of the shred event. Must be a valid timestamp.
- **Output**: None
- **See Also**: [`fd_gui_handle_shred`](<fd_gui.c.md#fd_gui_handle_shred>)  (Implementation)


---
### fd\_gui\_handle\_repair\_slot<!-- {{#callable_declaration:fd_gui_handle_repair_slot}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L841>)

Handles a repair slot event in the GUI.
- **Description**: Use this function to process a repair slot event within the GUI context. It checks if the slot is already present in the ephemeral slots history and attempts to insert it if not. If the slot is new and not the current repair slot, it updates the current repair slot, broadcasts the update via WebSocket, and attempts to insert the slot into the catch-up history if the system is not caught up. This function should be called when a repair slot event occurs, and it assumes that the `gui` object is properly initialized and valid.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI context. Must not be null.
    - `slot`: An unsigned long integer representing the slot number to handle. Should be a valid slot number.
    - `now`: A long integer representing the current time in nanoseconds. Used for timestamping the event.
- **Output**: None
- **See Also**: [`fd_gui_handle_repair_slot`](<fd_gui.c.md#fd_gui_handle_repair_slot>)  (Implementation)


---
### fd\_gui\_handle\_snapshot\_update<!-- {{#callable_declaration:fd_gui_handle_snapshot_update}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L844>)

Updates the GUI with snapshot information.
- **Description**: Use this function to update the GUI with information from a snapshot update message. It processes the snapshot type and extracts relevant data from the snapshot's filename to update the GUI's boot progress. Ensure that the `msg` parameter is valid and contains a non-empty `read_path` before calling this function.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI to update. Must not be null.
    - `msg`: A pointer to a constant `fd_snapct_update_t` structure containing the snapshot update information. Must not be null and must have a valid `read_path`.
- **Output**: None
- **See Also**: [`fd_gui_handle_snapshot_update`](<fd_gui.c.md#fd_gui_handle_snapshot_update>)  (Implementation)


---
### fd\_gui\_handle\_leader\_schedule<!-- {{#callable_declaration:fd_gui_handle_leader_schedule}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L848>)

Updates the GUI with the current leader schedule.
- **Description**: Use this function to update the GUI with the current leader schedule information. It must be called with a valid `fd_gui_t` object and a `fd_stake_weight_msg_t` containing the leader schedule. The function updates the epoch information in the GUI and broadcasts the changes over WebSocket. Ensure that the `leader_schedule` does not exceed the maximum allowed staked leaders and slots per epoch.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` object representing the GUI state. Must not be null.
    - `leader_schedule`: A pointer to a `fd_stake_weight_msg_t` object containing the leader schedule. Must not be null and must have valid `staked_cnt` and `slot_cnt` values within allowed limits.
    - `now`: A long integer representing the current time. Used to set the start time for the epoch.
- **Output**: None
- **See Also**: [`fd_gui_handle_leader_schedule`](<fd_gui.c.md#fd_gui_handle_leader_schedule>)  (Implementation)


---
### fd\_gui\_handle\_tower\_update<!-- {{#callable_declaration:fd_gui_handle_tower_update}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L853>)

Updates the GUI state based on the tower slot completion data.
- **Description**: Use this function to update the GUI state when a tower slot completes. It adjusts the GUI's summary information, such as the rooted slot and vote state, based on the provided tower data. This function should be called whenever a tower slot is completed to ensure the GUI reflects the current state of the system. It is important to provide valid pointers for the `gui` and `tower` parameters.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI state. Must not be null. The function updates this structure based on the tower data.
    - `tower`: A pointer to a `fd_tower_slot_done_t` structure containing information about the completed tower slot. Must not be null. The function uses this data to update the GUI state.
    - `now`: A long integer representing the current time. This parameter is not used in the function.
- **Output**: None
- **See Also**: [`fd_gui_handle_tower_update`](<fd_gui.c.md#fd_gui_handle_tower_update>)  (Implementation)


---
### fd\_gui\_handle\_replay\_update<!-- {{#callable_declaration:fd_gui_handle_replay_update}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L858>)

Updates the GUI state with completed slot information.
- **Description**: Use this function to update the GUI state with information about a completed slot. This function should be called when a slot has completed processing, and it updates various slot-related metrics and states in the GUI. It also handles broadcasting updates if the slot is relevant to the current epoch. Ensure that the `gui` and `slot_completed` parameters are valid and initialized before calling this function.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI state. Must not be null.
    - `slot_completed`: A pointer to an `fd_gui_slot_completed_t` structure containing information about the completed slot. Must not be null.
    - `now`: A timestamp representing the current time. This parameter is not used in the function.
- **Output**: None
- **See Also**: [`fd_gui_handle_replay_update`](<fd_gui.c.md#fd_gui_handle_replay_update>)  (Implementation)


---
### fd\_gui\_handle\_genesis\_hash<!-- {{#callable_declaration:fd_gui_handle_genesis_hash}} -->
[View Source →](<../../../../../src/disco/gui/fd_gui.h#L863>)

Updates the GUI with the cluster information based on the genesis hash.
- **Description**: Use this function to update the GUI's cluster information when a new genesis hash is received. It identifies the cluster associated with the given genesis hash and updates the GUI's summary if the cluster has changed. This function also triggers a WebSocket broadcast to notify connected clients of the update. Ensure that the `gui` parameter is properly initialized before calling this function.
- **Inputs**:
    - `gui`: A pointer to an `fd_gui_t` structure representing the GUI context. Must not be null and should be properly initialized before use.
    - `msg`: A pointer to a 32-byte array containing the genesis hash. Must not be null.
- **Output**: None
- **See Also**: [`fd_gui_handle_genesis_hash`](<fd_gui.c.md#fd_gui_handle_genesis_hash>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)