<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines data structures and functions for initializing and printing CPU topology information.

# Purpose
The code is a C header file that defines data structures and function prototypes for managing CPU topology information. It includes the definition of two structures: `fd_topo_cpu`, which represents individual CPU attributes such as index, online status, NUMA node, and sibling relationship; and `fd_topo_cpus`, which aggregates multiple `fd_topo_cpu` structures and includes a count of NUMA nodes and CPUs. The file declares two functions: [`fd_topo_cpus_init`](<#fd_topo_cpus_init>), which initializes the CPU topology structure by retrieving information from the operating system, and [`fd_topo_cpus_printf`](<#fd_topo_cpus_printf>), which outputs the CPU topology information. The header file uses include guards to prevent multiple inclusions and includes a base header file, `fd_disco_base.h`, for additional dependencies.
# Imports and Dependencies

---
- `../fd_disco_base.h`


# Data Structures

---
### fd\_topo\_cpu
- **Type**: ``struct``
- **Members**:
    - ``idx``: Stores the index of the CPU.
    - ``online``: Indicates if the CPU is online (1) or offline (0).
    - ``numa_node``: Specifies the NUMA node to which the CPU belongs.
    - ``sibling``: Holds the sibling CPU index for hyper-threading.
- **Description**: Defines the properties of a CPU in a topology, including its index, online status, NUMA node association, and sibling relationship for hyper-threading.


---
### fd\_topo\_cpu\_t
- **Type**: ``struct``
- **Members**:
    - ``idx``: The index of the CPU in the topology.
    - ``online``: Indicates if the CPU is online (1) or offline (0).
    - ``numa_node``: The NUMA node to which the CPU belongs.
    - ``sibling``: The sibling CPU index in the topology.
- **Description**: Defines the properties of a CPU in a topology, including its index, online status, NUMA node association, and sibling relationship.


---
### fd\_topo\_cpus
- **Type**: ``struct``
- **Members**:
    - ``numa_node_cnt``: Stores the count of NUMA nodes.
    - ``cpu_cnt``: Stores the count of CPUs.
    - ``cpu``: An array of `fd_topo_cpu_t` structures with a fixed size of 1024.
- **Description**: Defines a structure to represent the topology of CPUs in a system, including the number of NUMA nodes, the number of CPUs, and an array to hold detailed information about each CPU.


---
### fd\_topo\_cpus\_t
- **Type**: ``struct``
- **Members**:
    - ``numa_node_cnt``: Stores the count of NUMA nodes.
    - ``cpu_cnt``: Stores the count of CPUs.
    - ``cpu``: An array of `fd_topo_cpu_t` structures with a fixed size of 1024.
- **Description**: Represents a collection of CPU topology information, including the number of NUMA nodes, the number of CPUs, and an array of CPU structures (`fd_topo_cpu_t`) that store individual CPU details.


# Function Declarations (Public API)

---
### fd\_topo\_cpus\_init<!-- {{#callable_declaration:fd_topo_cpus_init}} -->
[View Source →](<../../../../../src/disco/topo/fd_cpu_topo.h#L24>)

Initialize the CPU topology structure.
- **Description**: Use this function to populate a `fd_topo_cpus_t` structure with CPU topology information from the operating system. This function must be called before accessing CPU topology data. It reads the number of NUMA nodes and CPUs, and for each CPU, it sets the index, online status, NUMA node, and sibling index. If the CPU topology cannot be determined, the function logs an error and exits the process.
- **Inputs**:
    - `cpus`: A pointer to a `fd_topo_cpus_t` structure that will be initialized. Must not be null. The caller retains ownership of the structure.
- **Output**: None
- **See Also**: [`fd_topo_cpus_init`](<fd_cpu_topo.c.md#fd_topo_cpus_init>)  (Implementation)


---
### fd\_topo\_cpus\_printf<!-- {{#callable_declaration:fd_topo_cpus_printf}} -->
[View Source →](<../../../../../src/disco/topo/fd_cpu_topo.h#L33>)

Logs the status of each CPU in the topology.
- **Description**: Use this function to log the status of each CPU in the given topology structure. It iterates over all CPUs in the `fd_topo_cpus_t` structure and logs their online status, sibling index, and NUMA node. This function is useful for debugging or monitoring purposes to understand the current CPU configuration. Ensure that the `fd_topo_cpus_t` structure is properly initialized before calling this function.
- **Inputs**:
    - `cpus`: A pointer to an `fd_topo_cpus_t` structure that contains the CPU topology information. Must not be null and should be initialized with valid data before calling this function.
- **Output**: None
- **See Also**: [`fd_topo_cpus_printf`](<fd_cpu_topo.c.md#fd_topo_cpus_printf>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)