<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines data structures and functions for managing bundle tiles, including gRPC client operations and error handling.

# Purpose
The code is a C header file that defines private structures, types, and function prototypes for managing a client that interacts with a bundle server using gRPC over HTTP/2. It includes several components related to network communication, authentication, and error handling. The file defines structures such as `fd_bundle_out_ctx_t`, `fd_bundle_metrics_t`, and `fd_bundle_tile_t`, which encapsulate the state and metrics of the client, including network configurations, SSL contexts, and gRPC client details. These structures are used to manage the client's connection to the server, handle authentication, and maintain metrics on received transactions and bundles.

The file also declares function prototypes for operations such as connecting to the server, handling gRPC callbacks, managing error backoff, and performing periodic housekeeping tasks. Functions like [`fd_bundle_client_step`](<#fd_bundle_client_step>), [`fd_bundle_client_step_reconnect`](<#fd_bundle_client_step_reconnect>), and [`fd_bundle_tile_backoff`](<#fd_bundle_tile_backoff>) are designed to drive the client's logic, manage reconnections, and handle errors. The header file includes conditional compilation for OpenSSL support, indicating that SSL/TLS features are optional. The file is intended to be included in other C source files that implement the client logic, providing a private API for managing the client's state and interactions with the bundle server.
# Imports and Dependencies

---
- `fd_bundle_auth.h`
- `fd_keepalive.h`
- `../stem/fd_stem.h`
- `../keyguard/fd_keyswitch.h`
- `../keyguard/fd_keyguard_client.h`
- `../../waltz/grpc/fd_grpc_client.h`
- `../../waltz/resolv/fd_netdb.h`
- `../../waltz/fd_rtt_est.h`
- `../../util/alloc/fd_alloc.h`
- `../../util/hist/fd_histf.h`
- `openssl/ssl.h`


# Global Variables

---
### fd\_bundle\_client\_grpc\_callbacks
- **Type**: `fd_grpc_client_callbacks_t`
- **Description**: Provides a set of callback functions for the gRPC client used in the bundle client logic. These callbacks handle various stages of gRPC communication, such as receiving messages, handling timeouts, and managing the end of server-streaming responses.
- **Use**: Used to define the behavior of the gRPC client during communication with the server.


# Data Structures

---
### fd\_bundle\_out\_ctx
- **Type**: ``struct``
- **Members**:
    - ``idx``: An unsigned long integer that likely serves as an index or identifier.
    - ``mem``: A pointer to an `fd_wksp_t` structure, representing a memory workspace.
    - ``chunk0``: An unsigned long integer that may represent the initial chunk or offset.
    - ``wmark``: An unsigned long integer that could be used as a watermark or threshold.
    - ``chunk``: An unsigned long integer that likely represents a current chunk or offset.
- **Description**: The `fd_bundle_out_ctx` structure is used to manage context information related to output operations in a bundle processing system. It includes an index, a pointer to a memory workspace, and several unsigned long integers that may represent various states or positions within the memory, such as initial and current chunks and a watermark.


---
### fd\_bundle\_out\_ctx\_t
- **Type**: ``struct``
- **Members**:
    - ``idx``: An unsigned long integer that likely serves as an index or identifier.
    - ``mem``: A pointer to `fd_wksp_t`, which is likely a workspace or memory management structure.
    - ``chunk0``: An unsigned long integer that may represent the initial chunk or offset.
    - ``wmark``: An unsigned long integer that could be used as a watermark or threshold value.
    - ``chunk``: An unsigned long integer that may represent a current or active chunk.
- **Description**: The `fd_bundle_out_ctx_t` structure is a data structure that appears to manage or track output context related to bundles. It includes fields for indexing, memory management, and chunk handling, which suggests it is used in operations that involve processing or managing data in chunks or segments.


---
### fd\_bundle\_metrics
- **Type**: ``struct``
- **Members**:
    - `txn_received_cnt`: Counts the number of transactions received.
    - `bundle_received_cnt`: Counts the number of bundles received.
    - `packet_received_cnt`: Counts the number of packets received.
    - `shredstream_heartbeat_cnt`: Counts the number of shredstream heartbeats received.
    - `ping_ack_cnt`: Counts the number of ping acknowledgments received.
    - `decode_fail_cnt`: Counts the number of decode failures.
    - `transport_fail_cnt`: Counts the number of transport failures.
    - `missing_builder_info_fail_cnt`: Counts the number of failures due to missing builder information.
    - `msg_rx_delay`: Stores the message receive delay as a histogram.
- **Description**: Contains various counters for tracking metrics related to transactions, bundles, packets, and failures, as well as a histogram for message receive delays.


---
### fd\_bundle\_metrics\_t
- **Type**: ``struct``
- **Members**:
    - `txn_received_cnt`: Counts the number of transactions received.
    - `bundle_received_cnt`: Counts the number of bundles received.
    - `packet_received_cnt`: Counts the number of packets received.
    - `shredstream_heartbeat_cnt`: Counts the number of shredstream heartbeats received.
    - `ping_ack_cnt`: Counts the number of ping acknowledgments received.
    - `decode_fail_cnt`: Counts the number of decode failures.
    - `transport_fail_cnt`: Counts the number of transport failures.
    - `missing_builder_info_fail_cnt`: Counts the number of failures due to missing builder information.
    - `msg_rx_delay`: Stores the message receive delay as a histogram.
- **Description**: Contains private metric counters for tracking various events and failures related to transactions, bundles, packets, and other operations. These metrics are periodically published to `fd_metrics` for monitoring and analysis.


---
### fd\_bundle\_tile
- **Type**: ``struct``
- **Members**:
    - ``keyswitch``: Pointer to a `fd_keyswitch_t` structure for key switching.
    - ``keyguard_client``: Array of one `fd_keyguard_client_t` for key guarding.
    - ``is_ssl``: Flag indicating if SSL is used.
    - ``keylog_fd``: File descriptor for key logging.
    - ``ssl_ctx``: Pointer to an OpenSSL `SSL_CTX` structure for SSL context.
    - ``ssl``: Pointer to an OpenSSL `SSL` structure for SSL session.
    - ``ssl_alloc``: Pointer to a `fd_alloc_t` structure for SSL allocation.
    - ``server_fqdn``: Character array for the server's fully qualified domain name.
    - ``server_fqdn_len``: Length of the server's fully qualified domain name.
    - ``server_sni``: Character array for the server's SNI (Server Name Indication).
    - ``server_sni_len``: Length of the server's SNI.
    - ``server_tcp_port``: TCP port number for the server.
    - ``netdb_fds``: Array of one `fd_netdb_fds_t` for network database file descriptors.
    - ``server_ip4_addr``: IPv4 address of the server from the last DNS lookup.
    - ``tcp_sock``: TCP socket file descriptor.
    - ``so_rcvbuf``: Size of the receive buffer for the socket.
    - ``tcp_sock_connected``: Flag indicating if the TCP socket is connected.
    - ``defer_reset``: Flag indicating if reset is deferred.
    - ``cached_ts``: Cached timestamp for the socket.
    - ``keepalive_interval``: Interval for HTTP/2 PING keepalive.
    - ``keepalive``: Array of one `fd_keepalive_t` for keepalive management.
    - ``rtt``: Array of one `fd_rtt_estimate_t` for round-trip time estimation.
    - ``grpc_client_mem``: Memory for the gRPC client.
    - ``grpc_buf_max``: Maximum buffer size for gRPC.
    - ``grpc_client``: Pointer to a `fd_grpc_client_t` structure for gRPC client.
    - ``grpc_metrics``: Array of one `fd_grpc_client_metrics_t` for gRPC client metrics.
    - ``map_seed``: Seed for mapping operations.
    - ``auther``: `fd_bundle_auther_t` structure for bundle authentication.
    - ``builder_pubkey``: Public key of the bundle block builder.
    - ``builder_commission``: Commission percentage for the builder.
    - ``builder_info_avail``: Flag indicating if builder info is available.
    - ``builder_info_wait``: Flag indicating if a request for builder info is in-flight.
    - ``builder_info_valid_until``: Validity timestamp for builder info.
    - ``packet_subscription_live``: Flag indicating if packet subscription is live.
    - ``packet_subscription_wait``: Flag indicating if a packet subscription request is in-flight.
    - ``bundle_subscription_live``: Flag indicating if bundle subscription is live.
    - ``bundle_subscription_wait``: Flag indicating if a bundle subscription request is in-flight.
    - ``bundle_seq``: Sequence number for the bundle.
    - ``bundle_txn_cnt``: Transaction count for the bundle.
    - ``rng``: Array of one `fd_rng_t` for random number generation.
    - ``backoff_iter``: Iteration count for error backoff.
    - ``backoff_until``: Timestamp until which backoff is active.
    - ``backoff_reset``: Timestamp for resetting backoff.
    - ``stem``: Pointer to a `fd_stem_context_t` structure for stem context.
    - ``verify_out``: `fd_bundle_out_ctx_t` structure for verification output context.
    - ``plugin_out``: `fd_bundle_out_ctx_t` structure for plugin output context.
    - ``metrics``: `fd_bundle_metrics_t` structure for application metrics.
    - ``bundle_status_recent``: Most recent 'check engine light' status.
    - ``bundle_status_plugin``: Last 'plugin' update status.
    - ``bundle_status_logged``: Logged status of the bundle.
    - ``last_bundle_status_log_nanos``: Timestamp of the last bundle status log in nanoseconds.
- **Description**: Manages the state and configuration for a bundle tile, including key management, SSL configuration, server connection details, gRPC client management, bundle authentication, and error handling. It supports SSL connections, maintains server and subscription information, and handles error backoff and keepalive mechanisms. The structure also includes fields for managing bundle state, metrics, and status logging.


---
### fd\_bundle\_tile\_t
- **Type**: ``struct``
- **Members**:
    - ``keyswitch``: Pointer to a `fd_keyswitch_t` structure for key switching operations.
    - ``keyguard_client``: Array of `fd_keyguard_client_t` for keyguard client operations.
    - ``is_ssl``: Flag indicating if SSL is used.
    - ``keylog_fd``: File descriptor for key logging.
    - ``ssl_ctx``: Pointer to an SSL context, used if OpenSSL is available.
    - ``ssl``: Pointer to an SSL structure, used if OpenSSL is available.
    - ``ssl_alloc``: Pointer to an SSL allocator, used if OpenSSL is available.
    - ``server_fqdn``: Character array storing the server's fully qualified domain name.
    - ``server_fqdn_len``: Length of the server's fully qualified domain name.
    - ``server_sni``: Character array storing the server's SNI (Server Name Indication).
    - ``server_sni_len``: Length of the server's SNI.
    - ``server_tcp_port``: TCP port number of the server.
    - ``netdb_fds``: Array of `fd_netdb_fds_t` for network database file descriptors.
    - ``server_ip4_addr``: IPv4 address of the server from the last DNS lookup.
    - ``tcp_sock``: TCP socket file descriptor.
    - ``so_rcvbuf``: Size of the receive buffer for the TCP socket.
    - ``tcp_sock_connected``: Flag indicating if the TCP socket is connected.
    - ``defer_reset``: Flag indicating if reset is deferred.
    - ``cached_ts``: Cached timestamp for operations.
    - ``keepalive_interval``: Interval for keepalive operations via HTTP/2 PINGs.
    - ``keepalive``: Array of `fd_keepalive_t` for keepalive operations.
    - ``rtt``: Array of `fd_rtt_estimate_t` for round-trip time estimation.
    - ``grpc_client_mem``: Memory for the gRPC client.
    - ``grpc_buf_max``: Maximum buffer size for gRPC operations.
    - ``grpc_client``: Pointer to a `fd_grpc_client_t` for gRPC client operations.
    - ``grpc_metrics``: Array of `fd_grpc_client_metrics_t` for gRPC client metrics.
    - ``map_seed``: Seed value for mapping operations.
    - ``auther``: `fd_bundle_auther_t` for bundle authentication.
    - ``builder_pubkey``: Public key of the bundle block builder.
    - ``builder_commission``: Commission percentage of the bundle block builder.
    - ``builder_info_avail``: Flag indicating if builder info is available.
    - ``builder_info_wait``: Flag indicating if a request for builder info is in-flight.
    - ``builder_info_valid_until``: Timestamp until which builder info is valid.
    - ``packet_subscription_live``: Flag indicating if packet subscription is live.
    - ``packet_subscription_wait``: Flag indicating if a packet subscription request is in-flight.
    - ``bundle_subscription_live``: Flag indicating if bundle subscription is live.
    - ``bundle_subscription_wait``: Flag indicating if a bundle subscription request is in-flight.
    - ``bundle_seq``: Sequence number of the bundle.
    - ``bundle_txn_cnt``: Transaction count of the bundle.
    - ``rng``: Array of `fd_rng_t` for random number generation.
    - ``backoff_iter``: Iteration count for backoff operations.
    - ``backoff_until``: Timestamp until which backoff is active.
    - ``backoff_reset``: Timestamp for resetting backoff.
    - ``stem``: Pointer to a `fd_stem_context_t` for stem operations.
    - ``verify_out``: `fd_bundle_out_ctx_t` for verification output context.
    - ``plugin_out``: `fd_bundle_out_ctx_t` for plugin output context.
    - ``metrics``: `fd_bundle_metrics_t` for application metrics.
    - ``bundle_status_recent``: Most recently observed 'check engine light' status.
    - ``bundle_status_plugin``: Last 'plugin' update status.
    - ``bundle_status_logged``: Flag indicating if the bundle status is logged.
    - ``last_bundle_status_log_nanos``: Timestamp of the last bundle status log in nanoseconds.
- **Description**: Contains all state and context needed to progress a tile in a system that involves key switching, key guarding, SSL/TCP connections, gRPC client operations, bundle authentication, and error handling. It manages configurations, network connections, subscriptions, and metrics, and provides mechanisms for error backoff and status logging.


# Functions

---
### fd\_bundle\_tile\_should\_stall<!-- {{#callable:fd_bundle_tile_should_stall}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L188>)

Determines if forward progress should be stalled based on the current time and a backoff threshold.
- **Inputs**:
    - `ctx`: A pointer to a constant `fd_bundle_tile_t` structure that contains the context, including the backoff threshold.
    - `now`: A long integer representing the current time.
- **Logic and Control Flow**:
    - Compare the current time `now` with the `backoff_until` value in the `ctx` structure.
    - Return 1 if `now` is less than `ctx->backoff_until`, indicating that progress should stall.
    - Return 0 otherwise, indicating that progress should not stall.
- **Output**: Returns an integer value: 1 if progress should stall, 0 otherwise.


# Function Declarations (Public API)

---
### fd\_bundle\_client\_step<!-- {{#callable_declaration:fd_bundle_client_step}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L164>)

Drives client logic for reconnection, authentication, and subscription.
- **Description**: Use this function to maintain the client's connection to the bundle server. It manages reconnection, authentication, and subscription to packets and bundles. Call this function periodically to ensure the client remains connected and operational. It is important to call this function regularly to prevent disconnection and ensure continuous data flow.
- **Inputs**:
    - `ctx`: A pointer to an `fd_bundle_tile_t` structure that contains the state needed to progress the tile. Must not be null.
    - `charge_busy`: A pointer to an integer that indicates if the client is busy. Must not be null.
- **Output**: None
- **See Also**: [`fd_bundle_client_step`](<fd_bundle_client.c.md#fd_bundle_client_step>)  (Implementation)


---
### fd\_bundle\_client\_step\_reconnect<!-- {{#callable_declaration:fd_bundle_client_step_reconnect}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L173>)

Drives the reconnection state machine for a client.
- **Description**: Use this function to manage the reconnection process of a client, including authentication, requesting block builder information, and setting up subscriptions for packets and bundles. It also handles sending PINGs to maintain the connection. Call this function periodically to ensure the client remains connected and operational. The function returns an integer indicating whether any action was taken during the call. Ensure that the HTTP/2 connection is established before calling this function.
- **Inputs**:
    - `ctx`: A pointer to an `fd_bundle_tile_t` structure that contains the state and context needed for the reconnection process. Must not be null.
    - `now`: A long integer representing the current time. Used to determine if certain actions, like sending a PING, are necessary.
- **Output**: Returns an integer: 1 if any action was taken during the call, 0 if no action was necessary.
- **See Also**: [`fd_bundle_client_step_reconnect`](<fd_bundle_client.c.md#fd_bundle_client_step_reconnect>)  (Implementation)


---
### fd\_bundle\_tile\_backoff<!-- {{#callable_declaration:fd_bundle_tile_backoff}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L181>)

Stalls progress for a randomized time after an error.
- **Description**: Use this function to introduce a delay in processing when an error occurs, to prevent rapid repeated errors. It calculates a randomized backoff time and updates the context to reflect this delay. This function should be called whenever an error is detected to manage error recovery effectively.
- **Inputs**:
    - `ctx`: A pointer to an `fd_bundle_tile_t` structure. Must not be null. This structure holds the state needed for the backoff operation.
    - `now`: A long integer representing the current time. It is used to calculate the backoff duration and reset time.
- **Output**: None
- **See Also**: [`fd_bundle_tile_backoff`](<fd_bundle_client.c.md#fd_bundle_tile_backoff>)  (Implementation)


---
### fd\_bundle\_tile\_housekeeping<!-- {{#callable_declaration:fd_bundle_tile_housekeeping}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L196>)

Performs periodic maintenance tasks for a bundle tile.
- **Description**: Use this function to perform periodic maintenance tasks on a `fd_bundle_tile_t` context. It checks the connection status to the bundle server and logs a warning if the connection has not been established within a specified interval. Additionally, it handles key switch state transitions by updating the public key and marking the switch as completed. This function should be called at regular intervals to ensure proper maintenance of the bundle tile's state.
- **Inputs**:
    - `ctx`: A pointer to a `fd_bundle_tile_t` structure. This must not be null and should be a valid context object that the function will operate on. The caller retains ownership of this object.
- **Output**: None
- **See Also**: [`fd_bundle_tile_housekeeping`](<fd_bundle_tile.c.md#fd_bundle_tile_housekeeping>)  (Implementation)


---
### fd\_bundle\_client\_grpc\_rx\_start<!-- {{#callable_declaration:fd_bundle_client_grpc_rx_start}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L201>)

Starts a gRPC receive operation based on the request context.
- **Description**: Use this function to initiate a gRPC receive operation for a specific request context. It sets the subscription status for packet or bundle streams to active, depending on the provided request context. This function must be called with a valid application context and a recognized request context identifier. It does not handle invalid request contexts, so ensure the request context is one of the predefined identifiers.
- **Inputs**:
    - `app_ctx`: A pointer to the application context, specifically a `fd_bundle_tile_t` structure. Must not be null, and the caller retains ownership.
    - `request_ctx`: An unsigned long integer representing the request context. Must be a valid identifier such as `FD_BUNDLE_CLIENT_REQ_Bundle_SubscribePackets` or `FD_BUNDLE_CLIENT_REQ_Bundle_SubscribeBundles`. Invalid values are not handled.
- **Output**: None
- **See Also**: [`fd_bundle_client_grpc_rx_start`](<fd_bundle_client.c.md#fd_bundle_client_grpc_rx_start>)  (Implementation)


---
### fd\_bundle\_client\_grpc\_rx\_msg<!-- {{#callable_declaration:fd_bundle_client_grpc_rx_msg}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L210>)

Processes incoming gRPC messages based on the request context.
- **Description**: Use this function to handle incoming gRPC messages for different request contexts. It processes the message according to the specified `request_ctx`, which determines the type of gRPC call. The function expects a valid application context and a protobuf message with its size. It handles different request types by invoking appropriate handlers and updates metrics in case of decoding failures. Ensure that the application context is correctly initialized before calling this function.
- **Inputs**:
    - `app_ctx`: A pointer to the application context (`fd_bundle_tile_t *`). Must not be null. The caller retains ownership.
    - `protobuf`: A pointer to the protobuf message data. Must not be null. The caller retains ownership.
    - `protobuf_sz`: The size of the protobuf message in bytes. Must be a valid size corresponding to the `protobuf` data.
    - `request_ctx`: An identifier for the type of gRPC request. Must be one of the defined `FD_BUNDLE_CLIENT_REQ_*` values. Invalid values result in an error log.
- **Output**: None
- **See Also**: [`fd_bundle_client_grpc_rx_msg`](<fd_bundle_client.c.md#fd_bundle_client_grpc_rx_msg>)  (Implementation)


---
### fd\_bundle\_client\_grpc\_rx\_end<!-- {{#callable_declaration:fd_bundle_client_grpc_rx_end}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L221>)

Handles the end of a gRPC server-streaming response.
- **Description**: Use this function to process the completion of a gRPC server-streaming response. It checks the HTTP and gRPC status codes in the response and logs warnings if the request failed. Depending on the `request_ctx`, it updates the subscription states and may trigger a reconnection attempt. This function must be called as part of the gRPC client callback mechanism when a response ends.
- **Inputs**:
    - `app_ctx`: A pointer to the application context, specifically a `fd_bundle_tile_t` object. Must not be null.
    - `request_ctx`: An identifier for the type of gRPC request. Must be one of the predefined request context IDs, such as `FD_BUNDLE_CLIENT_REQ_Bundle_SubscribePackets`, `FD_BUNDLE_CLIENT_REQ_Bundle_SubscribeBundles`, or `FD_BUNDLE_CLIENT_REQ_Bundle_GetBlockBuilderFeeInfo`.
    - `resp`: A pointer to a `fd_grpc_resp_hdrs_t` structure containing the response headers. Must not be null. The function checks the `h2_status` and `grpc_status` fields to determine the success of the request.
- **Output**: None
- **See Also**: [`fd_bundle_client_grpc_rx_end`](<fd_bundle_client.c.md#fd_bundle_client_grpc_rx_end>)  (Implementation)


---
### fd\_bundle\_client\_grpc\_rx\_timeout<!-- {{#callable_declaration:fd_bundle_client_grpc_rx_timeout}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L231>)

Handles a gRPC request timeout event.
- **Description**: Use this function when a gRPC request exceeds its deadline. It logs a warning message indicating the request has timed out and sets a flag in the application context to defer a reset. This function is typically called by the gRPC client framework when a timeout occurs. Ensure that the application context is valid and properly initialized before calling this function.
- **Inputs**:
    - `app_ctx`: A pointer to the application context, specifically a `fd_bundle_tile_t` structure. Must not be null and should be properly initialized before use.
    - `request_ctx`: An identifier for the gRPC request context, which should be one of the predefined `FD_BUNDLE_CLIENT_REQ_*` values. Invalid values may result in incorrect logging.
    - `deadline_kind`: Specifies the kind of deadline that was exceeded, either `FD_GRPC_DEADLINE_HEADER` or `FD_GRPC_DEADLINE_RX_END`. This parameter is currently unused in the function.
- **Output**: None
- **See Also**: [`fd_bundle_client_grpc_rx_timeout`](<fd_bundle_client.c.md#fd_bundle_client_grpc_rx_timeout>)  (Implementation)


---
### fd\_bundle\_client\_status<!-- {{#callable_declaration:fd_bundle_client_status}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L254>)

Checks the connection status of a bundle client.
- **Description**: Use this function to determine the current connection status of a bundle client. It checks various conditions such as TCP socket connectivity, gRPC client status, and authentication state to return a status code indicating whether the client is disconnected, connecting, or fully connected. This function is useful for monitoring the health of the client connection and should be called periodically to ensure the client is operating as expected.
- **Inputs**:
    - `ctx`: A pointer to a `fd_bundle_tile_t` structure representing the client context. Must not be null. The function checks various fields within this structure to determine the connection status.
- **Output**: Returns an integer status code: `DISCONNECTED` if the client is not connected, `CONNECTING` if the client is in the process of connecting, or `CONNECTED` if the client is fully connected.
- **See Also**: [`fd_bundle_client_status`](<fd_bundle_client.c.md#fd_bundle_client_status>)  (Implementation)


---
### fd\_bundle\_request\_ctx\_cstr<!-- {{#callable_declaration:fd_bundle_request_ctx_cstr}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L261>)

Returns the gRPC method name for a given request context ID.
- **Description**: Use this function to get the corresponding gRPC method name for a specific request context ID. This is useful when you need to log or display the method name associated with a particular gRPC request. If the provided ID does not match any known request context, the function returns "unknown". This function does not modify any input parameters and is safe to call multiple times with the same or different IDs.
- **Inputs**:
    - `request_ctx`: An unsigned long integer representing the request context ID. Valid values are predefined constants such as `FD_BUNDLE_CLIENT_REQ_Auth_GenerateAuthChallenge`, `FD_BUNDLE_CLIENT_REQ_Auth_GenerateAuthTokens`, `FD_BUNDLE_CLIENT_REQ_Bundle_SubscribePackets`, `FD_BUNDLE_CLIENT_REQ_Bundle_SubscribeBundles`, and `FD_BUNDLE_CLIENT_REQ_Bundle_GetBlockBuilderFeeInfo`. If the ID is not recognized, the function returns "unknown".
- **Output**: A constant character pointer to the string representing the gRPC method name associated with the given request context ID, or "unknown" if the ID is not recognized.
- **See Also**: [`fd_bundle_request_ctx_cstr`](<fd_bundle_client.c.md#fd_bundle_request_ctx_cstr>)  (Implementation)


---
### fd\_bundle\_client\_reset<!-- {{#callable_declaration:fd_bundle_client_reset}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L266>)

Frees all connection-related resources.
- **Description**: Use this function to release resources associated with a connection in the context of a `fd_bundle_tile_t` object. It should be called when a connection is no longer needed or before reinitializing the connection to ensure that all resources are properly freed. This function resets various state flags and counters within the context, ensuring that the object is in a clean state for future operations. It is important to ensure that the context is valid and properly initialized before calling this function.
- **Inputs**:
    - `ctx`: A pointer to a `fd_bundle_tile_t` structure. This parameter must not be null and should point to a valid and initialized context object. The function will modify the state of this object to reset connection-related resources.
- **Output**: None
- **See Also**: [`fd_bundle_client_reset`](<fd_bundle_client.c.md#fd_bundle_client_reset>)  (Implementation)


---
### fd\_bundle\_client\_send\_ping<!-- {{#callable_declaration:fd_bundle_client_send_ping}} -->
[View Source →](<../../../../../src/disco/bundle/fd_bundle_tile_private.h#L272>)

Sends a PING frame to the server.
- **Description**: Use this function to send a PING frame to the server to maintain the connection's keepalive status. It must be called when the connection is idle and not busy. The function checks if the gRPC client and connection are available and not busy before attempting to send the PING. If successful, it updates the keepalive status with the current time. This function should be used in contexts where maintaining an active connection is critical.
- **Inputs**:
    - `ctx`: A pointer to an `fd_bundle_tile_t` structure. This must not be null and must contain a valid gRPC client. The function will not send a PING if the gRPC client or connection is unavailable or busy.
- **Output**: None
- **See Also**: [`fd_bundle_client_send_ping`](<fd_bundle_client.c.md#fd_bundle_client_send_ping>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)