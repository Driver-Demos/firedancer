<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements a tile for managing snapshot and gossip data, including peer selection, downloading, and file handling.

# Purpose
The code defines a C module that manages snapshot and gossip operations in a distributed system. It includes several components and functionalities, such as handling snapshots, managing peer connections, and processing gossip messages. The module is structured around the `fd_snapct_tile_t` structure, which encapsulates the state and configuration for managing snapshots and gossip interactions. This structure includes fields for managing local and remote snapshots, peer selection, and metrics tracking.

The module imports various utilities and headers, indicating its reliance on external components for network communication, file operations, and system metrics. It defines constants and structures for managing peers and snapshots, such as `fd_restore_out_link_t` and `fd_snapct_gossip_ci_entry_t`. The code includes functions for initializing and managing the state of the system, handling incoming messages, and performing operations like downloading snapshots and updating metrics. The module is designed to be part of a larger system, as indicated by its integration with other components through function calls and data structures. It provides a specific functionality related to snapshot management and peer communication, making it a specialized component within a distributed system.
# Imports and Dependencies

---
- `fd_snapct_tile.h`
- `utils/fd_ssping.h`
- `utils/fd_ssctrl.h`
- `utils/fd_ssarchive.h`
- `utils/fd_http_resolver.h`
- `utils/fd_ssmsg.h`
- `../../disco/topo/fd_topo.h`
- `../../disco/metrics/fd_metrics.h`
- `../../flamenco/gossip/fd_gossip_types.h`
- `errno.h`
- `stdio.h`
- `fcntl.h`
- `unistd.h`
- `sys/stat.h`
- `netinet/tcp.h`
- `netinet/in.h`
- `generated/fd_snapct_tile_seccomp.h`
- `../../util/tmpl/fd_map_chain.c`
- `../../disco/stem/fd_stem.c`


# Global Variables

---
### fd\_tile\_snapct
- **Type**: ``fd_topo_run_tile_t``
- **Description**: Defines a structure of type `fd_topo_run_tile_t` that contains configuration and function pointers for running a tile in a topology. This structure includes fields for name, resource limits, security policies, initialization functions, and runtime behavior.
- **Use**: Used to configure and manage the execution of a tile in a distributed system.


# Data Structures

---
### fd\_restore\_out\_link
- **Type**: ``struct``
- **Members**:
    - ``idx``: An unsigned long integer representing an index.
    - ``mem``: A pointer to a `fd_wksp_t` structure, representing a memory workspace.
    - ``chunk0``: An unsigned long integer representing the initial chunk.
    - ``wmark``: An unsigned long integer representing a watermark.
    - ``chunk``: An unsigned long integer representing a chunk.
    - ``mtu``: An unsigned long integer representing the maximum transmission unit.
- **Description**: The `fd_restore_out_link` structure is used to manage output links in a system, with fields for indexing, memory management, and data transmission parameters. It includes an index (`idx`), a memory workspace pointer (`mem`), and several unsigned long integers for managing chunks and transmission settings (`chunk0`, `wmark`, `chunk`, `mtu`).


---
### fd\_restore\_out\_link\_t
- **Type**: ``struct``
- **Members**:
    - ``idx``: Index of the output link.
    - ``mem``: Pointer to the memory workspace.
    - ``chunk0``: Initial chunk index in the memory workspace.
    - ``wmark``: Watermark for the memory workspace.
    - ``chunk``: Current chunk index in the memory workspace.
    - ``mtu``: Maximum transmission unit size for the link.
- **Description**: Defines a structure for managing output links in a memory workspace, including indices, memory pointers, and transmission parameters.


---
### fd\_snapct\_gossip\_ci\_entry
- **Type**: ``struct``
- **Members**:
    - `rpc_addr`: Stores the RPC address as an `fd_ip4_port_t` type.
    - `pubkey`: Holds the public key as an `fd_pubkey_t` type.
    - `wallclock_nanos`: Records the wall clock time in nanoseconds as a `long` type.
    - `map_next`: Indicates the next element in the map as an `ulong` type.
- **Description**: Defines an entry in the gossip contact information table, containing network address, public key, timestamp, and a link to the next entry in a map structure.


---
### fd\_snapct\_gossip\_ci\_entry\_t
- **Type**: ``struct``
- **Members**:
    - `rpc_addr`: Stores the RPC address as an `fd_ip4_port_t` type.
    - `pubkey`: Holds the public key as an `fd_pubkey_t` type.
    - `wallclock_nanos`: Records the wall clock time in nanoseconds as a `long`.
    - `map_next`: Indicates the next entry in the map as an `ulong`.
- **Description**: Defines an entry in the gossip contact information table, containing network address, public key, timestamp, and a map link for managing peer information in a gossip network.


---
### fd\_snapct\_tile
- **Type**: ``struct``
- **Members**:
    - ``ssping``: Pointer to a `fd_ssping_t` structure for managing peer pings.
    - ``ssresolver``: Pointer to a `fd_http_resolver_t` structure for resolving HTTP addresses.
    - ``selector``: Pointer to a `fd_sspeer_selector_t` structure for selecting peers.
    - ``state``: Integer representing the current state of the tile.
    - ``malformed``: Integer flag indicating if the current operation is malformed.
    - ``deadline_nanos``: Long integer representing the deadline in nanoseconds for operations.
    - ``flush_ack``: Integer flag indicating if a flush acknowledgment is received.
    - ``addr``: `fd_ip4_port_t` structure representing the IP address and port.
    - ``local_out``: Structure containing paths and file descriptors for local snapshots.
    - ``in_kind``: Array of `uchar` indicating the kind of input links.
    - ``predicted_incremental``: Structure containing predicted incremental snapshot information.
    - ``local_in``: Structure containing information about local snapshot slots and paths.
    - ``config``: Structure containing configuration settings for snapshots and downloads.
    - ``metrics``: Structure containing metrics for full and incremental snapshots.
    - ``gossip_in``: Structure containing memory and chunk information for gossip input.
    - ``snapld_in``: Structure containing memory and chunk information for snapshot loading input.
    - ``gossip``: Structure containing gossip-related data and metrics.
    - ``out_ld``: `fd_restore_out_link_t` structure for output link to load snapshots.
    - ``out_gui``: `fd_restore_out_link_t` structure for output link to GUI.
    - ``out_rp``: `fd_restore_out_link_t` structure for output link to representation.
- **Description**: Manages snapshot and gossip operations, including peer selection, snapshot loading, and metrics tracking. It contains pointers to various structures for handling pings, HTTP resolution, and peer selection. The structure also includes state management, configuration settings, and metrics for tracking snapshot operations. It handles both local and remote snapshots, with specific fields for managing paths, file descriptors, and snapshot slots. The structure supports multiple input and output links for different operations, such as gossip and snapshot loading.


---
### fd\_snapct\_tile\_t
- **Type**: ``struct``
- **Members**:
    - ``ssping``: Pointer to an `fd_ssping_t` structure for managing ping operations.
    - ``ssresolver``: Pointer to an `fd_http_resolver_t` structure for resolving HTTP addresses.
    - ``selector``: Pointer to an `fd_sspeer_selector_t` structure for selecting peers.
    - ``state``: Integer representing the current state of the tile.
    - ``malformed``: Integer flag indicating if the data is malformed.
    - ``deadline_nanos``: Long integer representing the deadline in nanoseconds for operations.
    - ``flush_ack``: Integer flag indicating if a flush acknowledgment is received.
    - ``addr``: `fd_ip4_port_t` structure representing the IP address and port.
    - ``local_out``: Structure containing paths and file descriptors for local output snapshots.
    - ``in_kind``: Array of unsigned characters indicating the kind of input links.
    - ``predicted_incremental``: Structure containing predicted incremental snapshot information.
    - ``local_in``: Structure containing paths and sizes for local input snapshots.
    - ``config``: Structure containing configuration settings for snapshots and peers.
    - ``metrics``: Structure containing metrics for full and incremental snapshots.
    - ``gossip_in``: Structure containing memory and chunk information for gossip input.
    - ``snapld_in``: Structure containing memory and chunk information for snapshot load input.
    - ``gossip``: Structure containing gossip contact information and map.
    - ``out_ld``: `fd_restore_out_link_t` structure for load output link.
    - ``out_gui``: `fd_restore_out_link_t` structure for GUI output link.
    - ``out_rp``: `fd_restore_out_link_t` structure for representation output link.
- **Description**: `fd_snapct_tile_t` is a structure that manages snapshot operations, peer selection, and gossip communication in a distributed system. It contains pointers to various components for handling pings, HTTP resolutions, and peer selections. The structure maintains state information, configuration settings, and metrics for snapshot operations. It also manages input and output links for different types of data, including gossip and snapshot data. The structure is designed to handle both full and incremental snapshots, with mechanisms for predicting and managing snapshot states and transitions.


# Functions

---
### scratch\_align<!-- {{#callable:scratch_align}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L165>)

Calculates the maximum alignment requirement among several components.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls `fd_ulong_max` to find the maximum alignment requirement among `alignof(fd_snapct_tile_t)`, `fd_ssping_align()`, `alignof(fd_snapct_gossip_ci_entry_t)`, `gossip_ci_map_align()`, `fd_http_resolver_align()`, and `fd_sspeer_selector_align()`.
    - Returns the maximum alignment value obtained.
- **Output**: Returns an `ulong` representing the maximum alignment requirement.
- **Functions Called**:
    - [`fd_ssping_align`](<utils/fd_ssping.c.md#fd_ssping_align>)
    - [`fd_http_resolver_align`](<utils/fd_http_resolver.c.md#fd_http_resolver_align>)
    - [`fd_sspeer_selector_align`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_align>)


---
### scratch\_footprint<!-- {{#callable:scratch_footprint}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L175>)

Calculates the memory footprint required for various components in a `fd_snapct_tile_t` structure.
- **Inputs**:
    - `tile`: A pointer to a `fd_topo_tile_t` structure, which is not used in the function.
- **Logic and Control Flow**:
    - Initialize `l` with `FD_LAYOUT_INIT` to start the layout calculation.
    - Append the size and alignment of `fd_snapct_tile_t` to `l` using `FD_LAYOUT_APPEND`.
    - Append the size and alignment of `fd_ssping` for `TOTAL_PEERS_MAX` to `l`.
    - Append the size and alignment of `fd_snapct_gossip_ci_entry_t` for `GOSSIP_PEERS_MAX` to `l`.
    - Append the size and alignment of `gossip_ci_map` using `gossip_ci_map_chain_cnt_est` for `GOSSIP_PEERS_MAX` to `l`.
    - Append the size and alignment of `fd_http_resolver` for `SERVER_PEERS_MAX` to `l`.
    - Append the size and alignment of `fd_sspeer_selector` for `TOTAL_PEERS_MAX` to `l`.
    - Finalize the layout with `FD_LAYOUT_FINI` using [`scratch_align`](<#scratch_align>) and return the result.
- **Output**: Returns an `ulong` representing the total memory footprint required.
- **Functions Called**:
    - [`fd_ssping_align`](<utils/fd_ssping.c.md#fd_ssping_align>)
    - [`fd_ssping_footprint`](<utils/fd_ssping.c.md#fd_ssping_footprint>)
    - [`fd_http_resolver_align`](<utils/fd_http_resolver.c.md#fd_http_resolver_align>)
    - [`fd_http_resolver_footprint`](<utils/fd_http_resolver.c.md#fd_http_resolver_footprint>)
    - [`fd_sspeer_selector_align`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_align>)
    - [`fd_sspeer_selector_footprint`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_footprint>)
    - [`scratch_align`](<#scratch_align>)


---
### should\_shutdown<!-- {{#callable:should_shutdown}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L187>)

Checks if the `state` of the `fd_snapct_tile_t` context is equal to `FD_SNAPCT_STATE_SHUTDOWN`.
- **Inputs**:
    - `ctx`: A pointer to an `fd_snapct_tile_t` structure, which contains the state information to be checked.
- **Logic and Control Flow**:
    - Accesses the `state` field of the `fd_snapct_tile_t` structure pointed to by `ctx`.
    - Compares the `state` field to the constant `FD_SNAPCT_STATE_SHUTDOWN`.
    - Returns the result of the comparison as an integer.
- **Output**: Returns 1 if the `state` is `FD_SNAPCT_STATE_SHUTDOWN`, otherwise returns 0.


---
### gossip\_saturated<!-- {{#callable:gossip_saturated}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L192>)

Checks if the gossip network is saturated based on the freshness of peer contact information.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure that contains the context for the gossip network.
    - ``now``: A long integer representing the current time in nanoseconds.
- **Logic and Control Flow**:
    - If `gossip_peers_enabled` is not set in `ctx->config`, return 1 indicating saturation.
    - If `ctx->gossip.saturated` is already true, return 1 indicating saturation.
    - Initialize `fresh_cnt` and `total_cnt` to zero.
    - Iterate over the contact information entries in `ctx->gossip.ci_map` using an iterator.
    - For each entry, check if the entry's `wallclock_nanos` is within the freshness deadline (`now - FD_SNAPCT_GOSSIP_FRESH_DEADLINE_NANOS`).
    - If the entry is fresh, increment `fresh_cnt`.
    - Increment `total_cnt` for each entry processed.
    - Calculate the freshness ratio `fresh` as `fresh_cnt / total_cnt` if `total_cnt` is not zero, otherwise set `fresh` to 1.0.
    - Update `ctx->gossip.fresh_cnt`, `ctx->gossip.total_cnt`, and `ctx->gossip.fresh` with the calculated values.
    - Set `ctx->gossip.saturated` to true if `fresh` is less than `FD_SNAPCT_GOSSIP_SATURATION_THRESHOLD`.
    - Return the value of `ctx->gossip.saturated`.
- **Output**: Returns an integer indicating whether the gossip network is saturated (1) or not (0).


---
### metrics\_write<!-- {{#callable:metrics_write}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L216>)

Updates various metrics in the SNAPCT context using the `FD_MGAUGE_SET` macro.
- **Inputs**:
    - `ctx`: A pointer to a `fd_snapct_tile_t` structure containing the metrics to update.
- **Logic and Control Flow**:
    - Use `FD_MGAUGE_SET` to update the metric `FULL_BYTES_READ` with `ctx->metrics.full.bytes_read`.
    - Use `FD_MGAUGE_SET` to update the metric `FULL_BYTES_WRITTEN` with `ctx->metrics.full.bytes_written`.
    - Use `FD_MGAUGE_SET` to update the metric `FULL_BYTES_TOTAL` with `ctx->metrics.full.bytes_total`.
    - Use `FD_MGAUGE_SET` to update the metric `FULL_DOWNLOAD_RETRIES` with `ctx->metrics.full.num_retries`.
    - Use `FD_MGAUGE_SET` to update the metric `INCREMENTAL_BYTES_READ` with `ctx->metrics.incremental.bytes_read`.
    - Use `FD_MGAUGE_SET` to update the metric `INCREMENTAL_BYTES_WRITTEN` with `ctx->metrics.incremental.bytes_written`.
    - Use `FD_MGAUGE_SET` to update the metric `INCREMENTAL_BYTES_TOTAL` with `ctx->metrics.incremental.bytes_total`.
    - Use `FD_MGAUGE_SET` to update the metric `INCREMENTAL_DOWNLOAD_RETRIES` with `ctx->metrics.incremental.num_retries`.
    - Use `FD_MGAUGE_SET` to update the metric `GOSSIP_FRESH_COUNT` with `ctx->gossip.fresh_cnt`.
    - Use `FD_MGAUGE_SET` to update the metric `GOSSIP_TOTAL_COUNT` with `ctx->gossip.total_cnt`.
    - Use `FD_MGAUGE_SET` to update the metric `PREDICTED_SLOT` with `ctx->predicted_incremental.slot`.
    - Use `FD_MGAUGE_SET` to update the metric `STATE` with the casted value of `ctx->state` to `ulong`.
- **Output**: No return value; the function updates metrics in the SNAPCT context.


---
### snapshot\_path\_gui\_publish<!-- {{#callable:snapshot_path_gui_publish}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L236>)

Publishes a snapshot path to the GUI and updates the snapshot type based on whether it is a full or incremental snapshot.
- **Inputs**:
    - `ctx`: A pointer to `fd_snapct_tile_t` structure, which contains context information for the snapshot.
    - `stem`: A pointer to `fd_stem_context_t` structure, which is used for publishing the snapshot.
    - `path`: A constant character pointer representing the path of the snapshot.
    - `is_full`: An integer indicating whether the snapshot is full (non-zero) or incremental (zero).
- **Logic and Control Flow**:
    - Convert the `ctx->out_gui.chunk` to a local address and store it in `out`.
    - Check if the formatted path can be stored in `out->read_path` using `fd_cstr_printf_check`.
    - Set `out->is_download` to 0, indicating the snapshot is not a download.
    - Determine the snapshot type using `fd_int_if` based on `is_full` and set `out->type`.
    - Publish the snapshot using `fd_stem_publish` with the given `stem` and other parameters.
    - Update `ctx->out_gui.chunk` to the next compacted chunk using `fd_dcache_compact_next`.
- **Output**: No return value; the function operates by side effects on the provided structures.


---
### predict\_incremental<!-- {{#callable:predict_incremental}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L249>)

Updates the predicted incremental snapshot slot based on the best available peer information.
- **Inputs**:
    - `ctx`: A pointer to a `fd_snapct_tile_t` structure that contains the context for the snapshot prediction.
- **Logic and Control Flow**:
    - Check if `ctx->config.incremental_snapshot_fetch` is false; if so, return immediately.
    - Check if `ctx->predicted_incremental.full_slot` is equal to `ULONG_MAX`; if so, return immediately.
    - Call [`fd_sspeer_selector_best`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_best>) to find the best peer based on `ctx->selector` and `ctx->predicted_incremental.full_slot`.
    - If the best peer's address is non-zero, check if `ctx->predicted_incremental.slot` is not equal to `best.ssinfo.incremental.slot`.
    - If the slots are different, update `ctx->predicted_incremental.slot` to `best.ssinfo.incremental.slot` and set `ctx->predicted_incremental.dirty` to 1.
- **Output**: No explicit output; the function modifies the `ctx` structure in place.
- **Functions Called**:
    - [`fd_sspeer_selector_best`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_best>)


---
### on\_resolve<!-- {{#callable:on_resolve}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L264>)

Adds a peer to the selector and processes cluster slots based on the provided address and snapshot information.
- **Inputs**:
    - `_ctx`: A pointer to a context of type `fd_snapct_tile_t`.
    - `addr`: An `fd_ip4_port_t` representing the IP address and port of the peer.
    - `ssinfo`: A pointer to a constant `fd_ssinfo_t` structure containing snapshot information.
- **Logic and Control Flow**:
    - Cast `_ctx` to a `fd_snapct_tile_t` pointer and store it in `ctx`.
    - Call [`fd_sspeer_selector_add`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_add>) to add the peer with the given `addr` and `ssinfo` to the selector in `ctx`.
    - Call [`fd_sspeer_selector_process_cluster_slot`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_process_cluster_slot>) to process the cluster slots using the full and incremental slots from `ssinfo`.
    - Call [`predict_incremental`](<#predict_incremental>) with `ctx` to update the predicted incremental slot.
- **Output**: No return value (void function).
- **Functions Called**:
    - [`fd_sspeer_selector_add`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_add>)
    - [`fd_sspeer_selector_process_cluster_slot`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_process_cluster_slot>)
    - [`predict_incremental`](<#predict_incremental>)


---
### on\_ping<!-- {{#callable:on_ping}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L275>)

Handles a ping event by adding a peer to the selector and updating the predicted incremental snapshot.
- **Inputs**:
    - `_ctx`: A pointer to the context, which is cast to a `fd_snapct_tile_t` structure.
    - `addr`: The IP address and port of the peer that sent the ping.
    - `latency`: The latency value associated with the ping.
- **Logic and Control Flow**:
    - Cast `_ctx` to a `fd_snapct_tile_t` pointer and store it in `ctx`.
    - Call [`fd_sspeer_selector_add`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_add>) to add the peer with the given `addr` and `latency` to the selector in `ctx`.
    - Call [`predict_incremental`](<#predict_incremental>) to update the predicted incremental snapshot based on the current state of `ctx`.
- **Output**: No return value (void function).
- **Functions Called**:
    - [`fd_sspeer_selector_add`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_add>)
    - [`predict_incremental`](<#predict_incremental>)


---
### on\_snapshot\_hash<!-- {{#callable:on_snapshot_hash}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L285>)

Processes snapshot hash messages to update peer selection and predict incremental snapshots.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure, which holds the context for the snapshot processing.
    - ``addr``: An `fd_ip4_port_t` structure representing the address of the peer sending the snapshot hash.
    - ``msg``: A constant pointer to an `fd_gossip_update_message_t` structure containing the snapshot hash information.
- **Logic and Control Flow**:
    - Extracts the `full_slot` from the `msg->snapshot_hashes.full->slot` and initializes `incr_slot` to 0.
    - Iterates over `msg->snapshot_hashes.incremental` to find the maximum slot value, updating `incr_slot` accordingly.
    - Creates an `fd_ssinfo_t` structure with the `full_slot` and `incr_slot` values.
    - Adds the peer information to the selector using [`fd_sspeer_selector_add`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_add>) with the address and `ssinfo`.
    - Processes the cluster slot with [`fd_sspeer_selector_process_cluster_slot`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_process_cluster_slot>) using `full_slot` and `incr_slot`.
    - Calls [`predict_incremental`](<#predict_incremental>) to update the predicted incremental snapshot slot.
- **Output**: No return value; the function operates by side effects on the `ctx` and peer selector.
- **Functions Called**:
    - [`fd_sspeer_selector_add`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_add>)
    - [`fd_sspeer_selector_process_cluster_slot`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_process_cluster_slot>)
    - [`predict_incremental`](<#predict_incremental>)


---
### send\_expected\_slot<!-- {{#callable:send_expected_slot}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L306>)

Publishes an expected slot message using the given context and stem.
- **Inputs**:
    - `ctx`: A pointer to a `fd_snapct_tile_t` structure, which contains context information for the operation.
    - `stem`: A pointer to a `fd_stem_context_t` structure, which is used to publish the message.
    - `slot`: An unsigned long integer representing the slot number to be processed.
- **Logic and Control Flow**:
    - Convert the `slot` number to fragment timestamps `tsorig` and `tspub` using [`fd_ssmsg_slot_to_frag`](<utils/fd_ssmsg.h.md#fd_ssmsg_slot_to_frag>) function.
    - Publish the expected slot message using `fd_stem_publish` with the converted timestamps and other parameters.
- **Output**: No return value; the function performs an action by publishing a message.
- **Functions Called**:
    - [`fd_ssmsg_slot_to_frag`](<utils/fd_ssmsg.h.md#fd_ssmsg_slot_to_frag>)


---
### rename\_snapshots<!-- {{#callable:rename_snapshots}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L315>)

Renames snapshot files from their temporary names to their final names if the file descriptors and names are valid.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure that contains file descriptors and snapshot names for renaming operations.
- **Logic and Control Flow**:
    - Check if `ctx->local_out.dir_fd` is valid; if not, return immediately.
    - If `ctx->local_out.full_snapshot_fd` is valid and `ctx->local_out.full_snapshot_name` is not empty, attempt to rename the full snapshot file from 'snapshot.tar.bz2-partial' to `ctx->local_out.full_snapshot_name`.
    - Log an error if the rename operation for the full snapshot fails.
    - If `ctx->local_out.incremental_snapshot_fd` is valid and `ctx->local_out.incremental_snapshot_name` is not empty, attempt to rename the incremental snapshot file from 'incremental-snapshot.tar.bz2-partial' to `ctx->local_out.incremental_snapshot_name`.
    - Log an error if the rename operation for the incremental snapshot fails.
- **Output**: No output is returned; the function performs file renaming operations and logs errors if they occur.


---
### remove\_temp\_files<!-- {{#callable:remove_temp_files}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L329>)

Removes temporary snapshot files if their file descriptors are valid.
- **Inputs**:
    - `ctx`: A pointer to a `fd_snapct_tile_t` structure that contains file descriptors and paths for snapshot files.
- **Logic and Control Flow**:
    - Check if `ctx->local_out.dir_fd` is valid; if not, return immediately.
    - If `ctx->local_out.full_snapshot_fd` is valid, attempt to remove the file `snapshot.tar.bz2-partial` using `unlinkat`; log an error if it fails.
    - If `ctx->local_out.incremental_snapshot_fd` is valid, attempt to remove the file `incremental-snapshot.tar.bz2-partial` using `unlinkat`; log an error if it fails.
- **Output**: No return value; performs file removal operations and logs errors if they occur.


---
### rlimit\_file\_cnt<!-- {{#callable:rlimit_file_cnt}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L343>)

Calculates the number of file descriptors needed for various components and operations.
- **Inputs**:
    - ``topo``: A pointer to a `fd_topo_t` structure, which is not used in this function.
    - ``tile``: A pointer to a `fd_topo_tile_t` structure, which is not used in this function.
- **Logic and Control Flow**:
    - Add 1 for `stderr` file descriptor.
    - Add 1 for `logfile` file descriptor.
    - Add 1 for `ssping` socket file descriptor.
    - Add `SERVER_PEERS_MAX` for HTTP resolver max peers sockets.
    - Add 3 for `dirfd` and 2 snapshot file descriptors in the worst case.
- **Output**: Returns the total number of file descriptors as an unsigned long integer.


---
### populate\_allowed\_seccomp<!-- {{#callable:populate_allowed_seccomp}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L356>)

Populates a seccomp filter with allowed system calls for a specific tile in a topology.
- **Inputs**:
    - ``topo``: A pointer to a `fd_topo_t` structure representing the topology.
    - ``tile``: A pointer to a `fd_topo_tile_t` structure representing the tile within the topology.
    - ``out_cnt``: An unsigned long integer representing the count of output filters.
    - ``out``: A pointer to a `sock_filter` structure where the seccomp filter will be populated.
- **Logic and Control Flow**:
    - Retrieve a scratch memory location using `fd_topo_obj_laddr` with `topo` and `tile->tile_obj_id`.
    - Initialize a scratch allocator with `FD_SCRATCH_ALLOC_INIT`.
    - Allocate memory for a `fd_snapct_tile_t` context using `FD_SCRATCH_ALLOC_APPEND`.
    - Call [`populate_sock_filter_policy_fd_snapct_tile`](<generated/fd_snapct_tile_seccomp.h.md#populate_sock_filter_policy_fd_snapct_tile>) to populate the seccomp filter with allowed system calls, using various file descriptors from the context and other sources.
    - Return the instruction count from `sock_filter_policy_fd_snapct_tile_instr_cnt`.
- **Output**: Returns an unsigned long integer representing the instruction count of the populated seccomp filter.
- **Functions Called**:
    - [`populate_sock_filter_policy_fd_snapct_tile`](<generated/fd_snapct_tile_seccomp.h.md#populate_sock_filter_policy_fd_snapct_tile>)
    - [`fd_ssping_get_sockfd`](<utils/fd_ssping.c.md#fd_ssping_get_sockfd>)


---
### populate\_allowed\_fds<!-- {{#callable:populate_allowed_fds}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L371>)

Populates an array with file descriptors that are allowed for use based on the given topology and tile configuration.
- **Inputs**:
    - ``topo``: A pointer to a `fd_topo_t` structure representing the topology configuration.
    - ``tile``: A pointer to a `fd_topo_tile_t` structure representing the tile configuration.
    - ``out_fds_cnt``: The maximum number of file descriptors that can be stored in the `out_fds` array.
    - ``out_fds``: A pointer to an array of integers where the allowed file descriptors will be stored.
- **Logic and Control Flow**:
    - Check if `out_fds_cnt` is less than 5 and log an error if true.
    - Initialize `out_cnt` to 0 and add the file descriptor for `stderr` to `out_fds`.
    - Check if the log file descriptor is valid and add it to `out_fds` if true.
    - Allocate scratch memory and initialize a `fd_snapct_tile_t` context from it.
    - Check if various file descriptors in the context are valid and add them to `out_fds` if true.
    - Add the socket file descriptor from [`fd_ssping_get_sockfd`](<utils/fd_ssping.c.md#fd_ssping_get_sockfd>) to `out_fds`.
- **Output**: Returns the number of file descriptors added to the `out_fds` array.
- **Functions Called**:
    - [`fd_ssping_get_sockfd`](<utils/fd_ssping.c.md#fd_ssping_get_sockfd>)


---
### init\_load<!-- {{#callable:init_load}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L396>)

Initializes the loading process for a snapshot, setting up the necessary metadata and publishing the initial control message.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure that holds the context for the snapshot operation.
    - ``stem``: A pointer to a `fd_stem_context_t` structure used for publishing messages.
    - ``full``: An integer flag indicating whether the operation is for a full snapshot (1) or an incremental snapshot (0).
    - ``file``: An integer flag indicating whether the snapshot is being loaded from a local file (1) or not (0).
- **Logic and Control Flow**:
    - Convert the `ctx->out_ld.chunk` to a local address and assign it to `out`.
    - Set the `file` field of `out` to the `file` parameter.
    - If `file` is 0, set `out->addr` to `ctx->addr`.
    - Publish a control message using `fd_stem_publish` with the appropriate message type based on the `full` parameter.
    - Update `ctx->out_ld.chunk` using `fd_dcache_compact_next`.
    - If `file` is 1, update the total bytes in `ctx->metrics` and finalize the snapshot name using `fd_cstr_fini`.
    - If `ctx->out_gui.mem` is not null, call [`snapshot_path_gui_publish`](<#snapshot_path_gui_publish>) to publish the snapshot path.
- **Output**: No return value; the function operates by modifying the state of the `ctx` and publishing messages.
- **Functions Called**:
    - [`snapshot_path_gui_publish`](<#snapshot_path_gui_publish>)


---
### after\_credit<!-- {{#callable:after_credit}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L427>)

Manages the state transitions and operations for snapshot handling in a distributed system.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure that holds the context and state information for the snapshot process.
    - ``stem``: A pointer to a `fd_stem_context_t` structure used for publishing messages and managing the snapshot process.
    - ``opt_poll_in``: An unused integer pointer parameter, marked with `FD_PARAM_UNUSED`.
    - ``charge_busy``: An unused integer pointer parameter, marked with `FD_PARAM_UNUSED`.
- **Logic and Control Flow**:
    - Get the current wallclock time using `fd_log_wallclock()` and store it in `now`.
    - Advance the state of `ssping` and `ssresolver` using the current time and the selector from `ctx`.
    - If `ctx->predicted_incremental.dirty` is true, send an expected slot message and reset the dirty flag.
    - Use a switch statement to handle different states of `ctx->state`, managing transitions and operations based on the current state.
    - In `FD_SNAPCT_STATE_WAITING_FOR_PEERS`, check for timeout and handle local snapshot reading or peer collection initiation.
    - In `FD_SNAPCT_STATE_COLLECTING_PEERS`, check gossip saturation and manage peer selection for snapshot downloading.
    - In `FD_SNAPCT_STATE_FLUSHING_*` states, handle snapshot completion, error handling, and state transitions to shutdown or reset.
    - In `FD_SNAPCT_STATE_READING_*` states, manage reading operations, error handling, and transitions to flushing states.
    - Handle unexpected states with an error log.
- **Output**: No return value; the function operates by modifying the state and context of the `fd_snapct_tile_t` structure and interacting with the `fd_stem_context_t` for message publishing.
- **Functions Called**:
    - [`fd_ssping_advance`](<utils/fd_ssping.c.md#fd_ssping_advance>)
    - [`fd_http_resolver_advance`](<utils/fd_http_resolver.c.md#fd_http_resolver_advance>)
    - [`send_expected_slot`](<#send_expected_slot>)
    - [`init_load`](<#init_load>)
    - [`fd_sspeer_selector_best`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_best>)
    - [`gossip_saturated`](<#gossip_saturated>)
    - [`fd_sspeer_selector_cluster_slot`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_cluster_slot>)
    - [`remove_temp_files`](<#remove_temp_files>)
    - [`metrics_write`](<#metrics_write>)
    - [`fd_ssping_invalidate`](<utils/fd_ssping.c.md#fd_ssping_invalidate>)
    - [`fd_sspeer_selector_remove`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_remove>)
    - [`rename_snapshots`](<#rename_snapshots>)


---
### gossip\_frag<!-- {{#callable:gossip_frag}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L793>)

Processes gossip update messages to manage peer contact information and snapshot hashes.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure that contains the context for the gossip operation.
    - ``sig``: An unsigned long integer representing the signal or tag of the gossip update message.
    - ``sz``: An unsigned long integer representing the size of the message (unused in this function).
    - ``chunk``: An unsigned long integer representing the chunk index in the gossip memory where the message is located.
- **Logic and Control Flow**:
    - Checks if the signal is one of the recognized gossip update tags and if gossip peers are enabled in the configuration; if not, returns immediately.
    - Verifies that the `chunk` is within the valid range of the gossip input memory.
    - Retrieves the message from the gossip input memory using the `chunk` index.
    - Switches on the message tag to determine the type of update to process.
    - For `FD_GOSSIP_UPDATE_TAG_CONTACT_INFO`, updates or inserts the contact information in the gossip contact info table and manages the associated network addresses.
    - For `FD_GOSSIP_UPDATE_TAG_CONTACT_INFO_REMOVE`, removes the contact information from the gossip contact info table and cleans up associated network addresses.
    - For `FD_GOSSIP_UPDATE_TAG_SNAPSHOT_HASHES`, queries the contact info map for the index and processes the snapshot hash if the index is valid.
    - Logs an error if the message tag is unexpected.
- **Output**: No return value; the function operates by side effects on the `ctx` structure.
- **Functions Called**:
    - [`fd_ssping_remove`](<utils/fd_ssping.c.md#fd_ssping_remove>)
    - [`fd_sspeer_selector_remove`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_remove>)
    - [`fd_ssping_add`](<utils/fd_ssping.c.md#fd_ssping_add>)
    - [`on_snapshot_hash`](<#on_snapshot_hash>)


---
### snapld\_frag<!-- {{#callable:snapld_frag}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L865>)

Processes snapshot data fragments and metadata for full or incremental snapshots, handling different states and updating metrics accordingly.
- **Inputs**:
    - ``ctx``: Pointer to a `fd_snapct_tile_t` structure representing the context for the snapshot operation.
    - ``sig``: Unsigned long representing the signal type, which can be metadata or data.
    - ``sz``: Unsigned long representing the size of the data fragment.
    - ``chunk``: Unsigned long representing the chunk identifier for the data fragment.
    - ``stem``: Pointer to a `fd_stem_context_t` structure used for publishing snapshot paths.
- **Logic and Control Flow**:
    - Check if `sig` is `FD_SNAPSHOT_MSG_META`; if true, handle metadata for HTTP loading by updating snapshot names and publishing paths.
    - If `sig` is not `FD_SNAPSHOT_MSG_META`, check if it is `FD_SNAPSHOT_MSG_DATA`; if not, return immediately.
    - Determine the type of snapshot (full or incremental) and the source (file or HTTP) based on `ctx->state`.
    - Update the total bytes read and written metrics for the snapshot type.
    - If writing to a file, write the data chunk to the appropriate file descriptor and handle errors such as disk space issues.
    - Check if the bytes read exceed the expected total bytes; if so, log a warning and mark the snapshot as malformed.
- **Output**: No direct output; the function updates the context and metrics, and may log errors or warnings.
- **Functions Called**:
    - [`snapshot_path_gui_publish`](<#snapshot_path_gui_publish>)


---
### snapin\_frag<!-- {{#callable:snapin_frag}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L980>)

Handles control signals for snapshot operations based on the current state of the context.
- **Inputs**:
    - `ctx`: A pointer to a `fd_snapct_tile_t` structure representing the current context of the snapshot operation.
    - `sig`: An unsigned long integer representing the control signal to process.
- **Logic and Control Flow**:
    - Switches on the `sig` value to determine the action to take.
    - For `FD_SNAPSHOT_MSG_CTRL_INIT_FULL` and `FD_SNAPSHOT_MSG_CTRL_INIT_INCR`, does nothing as no immediate action is required.
    - For `FD_SNAPSHOT_MSG_CTRL_NEXT`, checks if the state is `FD_SNAPCT_STATE_FLUSHING_FULL_HTTP` or `FD_SNAPCT_STATE_FLUSHING_FULL_FILE`; if true, sets `flush_ack` to 1, otherwise logs an error.
    - For `FD_SNAPSHOT_MSG_CTRL_DONE`, checks if the state is one of the flushing states; if true, sets `flush_ack` to 1, otherwise logs an error.
    - For `FD_SNAPSHOT_MSG_CTRL_FAIL`, checks if the state is one of the reset states; if true, sets `flush_ack` to 1, otherwise logs an error.
    - For `FD_SNAPSHOT_MSG_CTRL_SHUTDOWN`, does nothing as no immediate action is required.
    - For `FD_SNAPSHOT_MSG_CTRL_ERROR`, sets `malformed` to 1 if the state is one of the reading or flushing states.
- **Output**: No return value; the function modifies the `ctx` structure based on the control signal and current state.


---
### returnable\_frag<!-- {{#callable:returnable_frag}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L1041>)

Processes fragments based on their type and context, invoking specific functions for gossip, snapshot load, or snapshot input fragments.
- **Inputs**:
    - ``ctx``: A pointer to a `fd_snapct_tile_t` structure that holds the context for the operation.
    - ``in_idx``: An unsigned long integer representing the index of the input kind.
    - ``seq``: An unsigned long integer representing the sequence number, marked as unused.
    - ``sig``: An unsigned long integer representing the signature of the fragment.
    - ``chunk``: An unsigned long integer representing the chunk of data to process.
    - ``sz``: An unsigned long integer representing the size of the data chunk.
    - ``ctl``: An unsigned long integer representing control information, marked as unused.
    - ``tsorig``: An unsigned long integer representing the original timestamp, marked as unused.
    - ``tspub``: An unsigned long integer representing the publication timestamp, marked as unused.
    - ``stem``: A pointer to a `fd_stem_context_t` structure used in the context of snapshot load fragments.
- **Logic and Control Flow**:
    - Checks if the input kind at `in_idx` is `IN_KIND_GOSSIP`; if true, calls [`gossip_frag`](<#gossip_frag>) with the context, signature, size, and chunk.
    - If the input kind is `IN_KIND_SNAPLD`, calls [`snapld_frag`](<#snapld_frag>) with the context, signature, size, chunk, and stem.
    - If the input kind is `IN_KIND_SNAPIN`, calls [`snapin_frag`](<#snapin_frag>) with the context and signature.
    - If none of the above conditions are met, logs an error indicating an invalid input kind.
- **Output**: Returns an integer value `0` to indicate successful processing.
- **Functions Called**:
    - [`gossip_frag`](<#gossip_frag>)
    - [`snapld_frag`](<#snapld_frag>)
    - [`snapin_frag`](<#snapin_frag>)


---
### privileged\_init<!-- {{#callable:privileged_init}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L1062>)

Initializes a `fd_snapct_tile_t` context for managing snapshot operations, including setting up memory allocations, initializing state, and preparing for snapshot file handling.
- **Inputs**:
    - ``topo``: A pointer to a `fd_topo_t` structure, representing the topology configuration.
    - ``tile``: A pointer to a `fd_topo_tile_t` structure, representing the tile configuration.
- **Logic and Control Flow**:
    - Allocate scratch memory for the `fd_snapct_tile_t` context and `fd_ssping` structure using `FD_SCRATCH_ALLOC_APPEND`.
    - Initialize the `ctx` structure, setting its state to `FD_SNAPCT_STATE_WAITING_FOR_PEERS` and setting a deadline for waiting for peers.
    - Clear the `metrics` field in the `ctx` structure using `fd_memset`.
    - Join the `fd_ssping` instance to the context using [`fd_ssping_join`](<utils/fd_ssping.c.md#fd_ssping_join>) and verify its success with `FD_TEST`.
    - Remove old snapshots using [`fd_ssarchive_remove_old_snapshots`](<utils/fd_ssarchive.c.md#fd_ssarchive_remove_old_snapshots>) based on the configuration in `tile->snapct`.
    - Attempt to find the latest snapshot pair using [`fd_ssarchive_latest_pair`](<utils/fd_ssarchive.c.md#fd_ssarchive_latest_pair>) and handle errors if no snapshots are found and downloading is disabled.
    - If snapshots are found, set the local snapshot slots and paths, and verify the existence and type of the full snapshot file using `stat`.
    - Open the directory for snapshot storage and prepare file descriptors for full and incremental snapshots, handling errors if opening fails.
- **Output**: No return value; the function initializes the `fd_snapct_tile_t` context and prepares it for snapshot operations.
- **Functions Called**:
    - [`fd_ssping_align`](<utils/fd_ssping.c.md#fd_ssping_align>)
    - [`fd_ssping_footprint`](<utils/fd_ssping.c.md#fd_ssping_footprint>)
    - [`fd_ssping_join`](<utils/fd_ssping.c.md#fd_ssping_join>)
    - [`fd_ssping_new`](<utils/fd_ssping.c.md#fd_ssping_new>)
    - [`fd_ssarchive_remove_old_snapshots`](<utils/fd_ssarchive.c.md#fd_ssarchive_remove_old_snapshots>)
    - [`fd_ssarchive_latest_pair`](<utils/fd_ssarchive.c.md#fd_ssarchive_latest_pair>)


---
### out1<!-- {{#callable:out1}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L1151>)

Finds and returns the output link information for a given link name in a tile's topology.
- **Inputs**:
    - ``topo``: A pointer to a `fd_topo_t` structure representing the topology of the system.
    - ``tile``: A pointer to a `fd_topo_tile_t` structure representing the tile within the topology.
    - ``name``: A string representing the name of the output link to find.
- **Logic and Control Flow**:
    - Initialize `idx` to `ULONG_MAX` to indicate no link found initially.
    - Iterate over each output link in the tile using a loop from 0 to `tile->out_cnt`.
    - For each link, retrieve the link information from `topo->links` using the link ID from `tile->out_link_id`.
    - Compare the link's name with the input `name` using `strcmp`.
    - If a match is found and `idx` is already set, log an error indicating multiple links with the same name.
    - If a match is found and `idx` is not set, update `idx` with the current index.
    - After the loop, check if `idx` is still `ULONG_MAX`, indicating no link was found, and return a default `fd_restore_out_link_t` with `idx` set to `ULONG_MAX`.
    - Retrieve the MTU of the found link using `topo->links` and check if it is zero, returning a default `fd_restore_out_link_t` with `idx` and `mtu` set accordingly if true.
    - Calculate `mem`, `chunk0`, and `wmark` using the workspace and dcache information from `topo` and the found link.
    - Return a `fd_restore_out_link_t` structure with the calculated values and `idx`.
- **Output**: A `fd_restore_out_link_t` structure containing the index, memory address, chunk information, and MTU of the found output link, or default values if not found.


---
### unprivileged\_init<!-- {{#callable:unprivileged_init}} -->
[View Source →](<../../../../../src/discof/restore/fd_snapct_tile.c#L1176>)

Initializes the unprivileged context for a tile in a topology, setting up memory allocations, configuration, and input/output links.
- **Inputs**:
    - ``topo``: A pointer to the `fd_topo_t` structure representing the topology.
    - ``tile``: A pointer to the `fd_topo_tile_t` structure representing the tile to initialize.
- **Logic and Control Flow**:
    - Allocate scratch memory for the tile using `fd_topo_obj_laddr` and `FD_SCRATCH_ALLOC_INIT`.
    - Allocate and initialize various components such as `fd_snapct_tile_t`, `fd_ssping`, `fd_snapct_gossip_ci_entry_t`, `gossip_ci_map`, `fd_http_resolver`, and `fd_sspeer_selector` using `FD_SCRATCH_ALLOC_APPEND`.
    - Set the `malformed` flag in the context to 0.
    - Copy configuration settings from `tile->snapct` to `ctx->config`, including paths and snapshot settings.
    - Set `ctx->config.maximum_download_retry_abort` to `UINT_MAX` if `tile->snapct.maximum_download_retry_abort` is zero, otherwise use the provided value.
    - Join the `fd_sspeer_selector` and `fd_http_resolver` with the allocated memory and configuration settings.
    - Initialize the `gossip.ci_table` with zeros and join the `gossip.ci_map`.
    - Iterate over input links to configure `ctx->in_kind`, `gossip_in`, and `snapld_in` based on link names, ensuring required links are present.
    - Join the `fd_http_resolver` and add HTTP peers from `tile->snapct.http.peers` to `ctx->ssping` and `ctx->ssresolver`.
    - Set initial values for `ctx->predicted_incremental` and `ctx->gossip`.
- **Output**: No return value; the function initializes the context for the tile.
- **Functions Called**:
    - [`fd_ssping_align`](<utils/fd_ssping.c.md#fd_ssping_align>)
    - [`fd_ssping_footprint`](<utils/fd_ssping.c.md#fd_ssping_footprint>)
    - [`fd_http_resolver_align`](<utils/fd_http_resolver.c.md#fd_http_resolver_align>)
    - [`fd_http_resolver_footprint`](<utils/fd_http_resolver.c.md#fd_http_resolver_footprint>)
    - [`fd_sspeer_selector_align`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_align>)
    - [`fd_sspeer_selector_footprint`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_footprint>)
    - [`fd_sspeer_selector_join`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_join>)
    - [`fd_sspeer_selector_new`](<utils/fd_sspeer_selector.c.md#fd_sspeer_selector_new>)
    - [`fd_http_resolver_join`](<utils/fd_http_resolver.c.md#fd_http_resolver_join>)
    - [`fd_http_resolver_new`](<utils/fd_http_resolver.c.md#fd_http_resolver_new>)
    - [`out1`](<#out1>)
    - [`fd_ssping_add`](<utils/fd_ssping.c.md#fd_ssping_add>)
    - [`fd_http_resolver_add`](<utils/fd_http_resolver.c.md#fd_http_resolver_add>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)