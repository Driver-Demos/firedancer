<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions for recovering blockhashes and snapshot manifests in the Firedancer codebase.

# Purpose
This C header file defines function prototypes for recovery operations related to block hashes and snapshot manifests. It includes necessary dependencies such as `fd_ssmsg.h` and `fd_blockhashes.h` to facilitate these operations. The function [`blockhashes_recover`](<#blockhashes_recover>) is designed to recover block hashes using a given set of ages and a seed, while [`fd_ssload_recover`](<#fd_ssload_recover>) is intended to recover a snapshot manifest along with associated bank and vote state credits data. The file uses include guards to prevent multiple inclusions and ensure that the function prototypes are only declared once during compilation.
# Imports and Dependencies

---
- `fd_ssmsg.h`
- `../../../flamenco//runtime/fd_blockhashes.h`


# Function Declarations (Public API)

---
### blockhashes\_recover<!-- {{#callable_declaration:blockhashes_recover}} -->
[View Source →](<../../../../../../src/discof/restore/utils/fd_ssload.h#L7>)

Recover blockhashes from a snapshot manifest.
- **Description**: Use this function to restore blockhashes from a snapshot manifest into a `fd_blockhashes_t` structure. Ensure that `blockhashes` is initialized and that `ages` is a valid array of blockhash data. The `age_cnt` must be greater than zero and not exceed `FD_BLOCKHASHES_MAX`. The function assumes that the `ages` array is not sorted and that the `hash_index` values are gapless and do not wrap around. Call this function when you need to recover blockhashes after loading a snapshot.
- **Inputs**:
    - `blockhashes`: A pointer to an `fd_blockhashes_t` structure where the recovered blockhashes will be stored. Must not be null.
    - `ages`: A pointer to an array of `fd_snapshot_manifest_blockhash_t` structures containing the blockhash data to recover. Must not be null.
    - `age_cnt`: The number of elements in the `ages` array. Must be greater than zero and not exceed `FD_BLOCKHASHES_MAX`.
    - `seed`: An unsigned long integer used to initialize the `blockhashes`. Any value is valid.
- **Output**: None
- **See Also**: [`blockhashes_recover`](<fd_ssload.c.md#blockhashes_recover>)  (Implementation)


---
### fd\_ssload\_recover<!-- {{#callable_declaration:fd_ssload_recover}} -->
[View Source →](<../../../../../../src/discof/restore/utils/fd_ssload.h#L15>)

Restores a bank's state from a snapshot manifest.
- **Description**: Use this function to restore the state of a bank from a given snapshot manifest. This function updates various bank parameters, including slot information, bank hash, fee rate governor, inflation parameters, epoch schedule, rent parameters, and vote states. It must be called with valid pointers to a snapshot manifest, banks, bank, and vote state credits. The function assumes that the manifest contains all necessary data to restore the bank's state accurately. Ensure that the bank and related structures are properly initialized before calling this function.
- **Inputs**:
    - `manifest`: A pointer to an `fd_snapshot_manifest_t` structure containing the snapshot data. Must not be null and should be properly initialized with valid snapshot data.
    - `banks`: A pointer to an `fd_banks_t` structure representing the collection of banks. Must not be null and should be initialized.
    - `bank`: A pointer to an `fd_bank_t` structure representing the bank to be restored. Must not be null and should be initialized.
    - `vote_state_credits`: A pointer to an `fd_vote_state_credits_t` structure where vote state credits will be stored. Must not be null and should be initialized.
- **Output**: None
- **See Also**: [`fd_ssload_recover`](<fd_ssload.c.md#fd_ssload_recover>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)