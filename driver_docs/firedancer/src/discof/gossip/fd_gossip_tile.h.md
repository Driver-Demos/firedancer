<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines data structures and functions for managing gossip protocol contexts and operations.

# Purpose
The code is a C header file that defines data structures and inline functions for managing gossip communication in a distributed system. It includes several header files that provide additional functionality, such as topology management, gossip protocols, and key management. The primary data structure defined is `fd_gossip_tile_ctx_t`, which encapsulates the context for a gossip tile, including pointers to gossip and key management components, random number generation, and network configuration.

The file also defines inline functions for creating and extracting components of a signature used in gossip communication, specifically [`fd_gossvf_sig`](<#fd_gossvf_sig>), [`fd_gossvf_sig_addr`](<#fd_gossvf_sig_addr>), [`fd_gossvf_sig_port`](<#fd_gossvf_sig_port>), and [`fd_gossvf_sig_kind`](<#fd_gossvf_sig_kind>). These functions facilitate the encoding and decoding of network addresses, ports, and message types into a single `ulong` value. Additionally, the file declares structures for handling ping requests and updates, which are part of the gossip protocol's communication mechanism. The header file concludes with an external declaration of `fd_tile_gossip`, which is likely a function or variable related to running a gossip tile in the system's topology.
# Imports and Dependencies

---
- `../../disco/topo/fd_topo.h`
- `../../flamenco/gossip/fd_gossip.h`
- `../../disco/keyguard/fd_keyguard_client.h`
- `../../disco/keyguard/fd_keyswitch.h`


# Global Variables

---
### fd\_tile\_gossip
- **Type**: ``fd_topo_run_tile_t``
- **Description**: Represents a global variable of type `fd_topo_run_tile_t` that is declared as an external variable. The specific details of `fd_topo_run_tile_t` are not provided in the given code, but it is likely defined in the included header files.
- **Use**: Used as a global variable to interact with or represent a tile in the gossip protocol.


# Data Structures

---
### fd\_gossip\_in\_ctx\_t
- **Type**: ``struct``
- **Members**:
    - ``kind``: An integer that specifies the type or category of the gossip context.
    - ``mem``: A pointer to a `fd_wksp_t` structure, representing a memory workspace.
    - ``chunk0``: An unsigned long integer that indicates the starting chunk index.
    - ``wmark``: An unsigned long integer that represents a watermark value.
    - ``mtu``: An unsigned long integer that specifies the maximum transmission unit size.
- **Description**: Defines a context for incoming gossip messages, including type, memory workspace, starting chunk index, watermark, and maximum transmission unit size.


---
### fd\_gossip\_tile\_ctx
- **Type**: ``struct``
- **Members**:
    - `gossip`: Pointer to an `fd_gossip_t` structure.
    - `my_contact_info`: Array of one `fd_contact_info_t` structure.
    - `stem`: Pointer to an `fd_stem_context_t` structure.
    - `rng_seed`: Unsigned integer for the random number generator seed.
    - `rng_idx`: Unsigned long for the random number generator index.
    - `ticks_per_ns`: Double representing the number of ticks per nanosecond.
    - `last_wallclock`: Long integer for the last recorded wall clock time.
    - `last_tickcount`: Long integer for the last recorded tick count.
    - `stake_weights_converted`: Pointer to an `fd_stake_weight_t` structure.
    - `in`: Array of 128 `fd_gossip_in_ctx_t` structures.
    - `net_out`: Array of one `fd_gossip_out_ctx_t` structure for network output.
    - `gossip_out`: Array of one `fd_gossip_out_ctx_t` structure for gossip output.
    - `gossvf_out`: Array of one `fd_gossip_out_ctx_t` structure for gossvf output.
    - `sign_out`: Array of one `fd_gossip_out_ctx_t` structure for sign output.
    - `keyguard_client`: Array of one `fd_keyguard_client_t` structure.
    - `keyswitch`: Pointer to an `fd_keyswitch_t` structure.
    - `net_id`: Unsigned short for the network identifier.
    - `net_out_hdr`: Array of one `fd_ip4_udp_hdrs_t` structure for network output headers.
    - `rng`: Array of one `fd_rng_t` structure.
- **Description**: Manages the context for gossip tile operations, including network communication, random number generation, and contact information. It contains various pointers and arrays to structures that handle different aspects of gossip communication, such as input and output contexts, stake weights, and key management. The structure also includes timing and random number generation fields to support its operations.


---
### fd\_gossip\_tile\_ctx\_t
- **Type**: ``struct``
- **Members**:
    - `gossip`: Pointer to a `fd_gossip_t` structure.
    - `my_contact_info`: Array of one `fd_contact_info_t` structure.
    - `stem`: Pointer to a `fd_stem_context_t` structure.
    - `rng_seed`: Unsigned integer for random number generator seed.
    - `rng_idx`: Unsigned long for random number generator index.
    - `ticks_per_ns`: Double representing ticks per nanosecond.
    - `last_wallclock`: Long integer for the last wall clock time.
    - `last_tickcount`: Long integer for the last tick count.
    - `stake_weights_converted`: Pointer to a `fd_stake_weight_t` structure.
    - `in`: Array of 128 `fd_gossip_in_ctx_t` structures.
    - `net_out`: Array of one `fd_gossip_out_ctx_t` structure for network output.
    - `gossip_out`: Array of one `fd_gossip_out_ctx_t` structure for gossip output.
    - `gossvf_out`: Array of one `fd_gossip_out_ctx_t` structure for gossvf output.
    - `sign_out`: Array of one `fd_gossip_out_ctx_t` structure for sign output.
    - `keyguard_client`: Array of one `fd_keyguard_client_t` structure.
    - `keyswitch`: Pointer to a `fd_keyswitch_t` structure.
    - `net_id`: Unsigned short for network identifier.
    - `net_out_hdr`: Array of one `fd_ip4_udp_hdrs_t` structure for network output headers.
    - `rng`: Array of one `fd_rng_t` structure.
- **Description**: Manages the context for a gossip tile, including pointers to various structures for gossip management, contact information, random number generation, timing, and network communication. It contains arrays for input and output contexts, as well as structures for key management and network headers.


---
### fd\_gossip\_pingreq
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: A public key of type `fd_pubkey_t`.
- **Description**: Encapsulates a public key used in a gossip protocol ping request.


---
### fd\_gossip\_pingreq\_t
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: A public key of type `fd_pubkey_t`.
- **Description**: Contains a single member `pubkey`, which is a public key used in the context of gossip protocol operations. This structure is likely used to represent a ping request in a gossip network, where the public key identifies the entity making the request.


---
### fd\_gossip\_ping\_update
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: A public key of type `fd_pubkey_t`.
    - ``gossip_addr``: An IP address and port of type `fd_ip4_port_t` for gossip communication.
    - ``remove``: An integer flag indicating whether to remove the entry.
- **Description**: Defines a structure for updating gossip information with a public key, a gossip address, and a flag to indicate if the entry should be removed.


---
### fd\_gossip\_ping\_update\_t
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: A public key of type `fd_pubkey_t`.
    - ``gossip_addr``: An IP4 port address of type `fd_ip4_port_t`.
    - ``remove``: An integer flag indicating whether to remove the entry.
- **Description**: Defines a structure for updating gossip information with a public key, a gossip address, and a flag to indicate if the entry should be removed.


# Functions

---
### fd\_gossvf\_sig<!-- {{#callable:fd_gossvf_sig}} -->
[View Source →](<../../../../../src/discof/gossip/fd_gossip_tile.h#L50>)

Combines an address, port, and kind into a single 64-bit unsigned long integer.
- **Inputs**:
    - `addr`: A 32-bit unsigned integer representing the address.
    - `port`: A 16-bit unsigned short representing the port number.
    - `kind`: A 16-bit unsigned short representing the kind.
- **Logic and Control Flow**:
    - Casts `addr` to a 64-bit unsigned long and assigns it to the lower 32 bits of the result.
    - Casts `port` to a 64-bit unsigned long, shifts it left by 32 bits, and combines it with the result using a bitwise OR operation.
    - Casts `kind` to a 64-bit unsigned long, shifts it left by 48 bits, and combines it with the result using a bitwise OR operation.
- **Output**: A 64-bit unsigned long integer that encodes the `addr`, `port`, and `kind` values.


---
### fd\_gossvf\_sig\_addr<!-- {{#callable:fd_gossvf_sig_addr}} -->
[View Source →](<../../../../../src/discof/gossip/fd_gossip_tile.h#L57>)

Extracts the lower 32 bits from a 64-bit signature.
- **Inputs**:
    - `sig`: A 64-bit unsigned long integer representing a signature.
- **Logic and Control Flow**:
    - Perform a bitwise AND operation between `sig` and `0xFFFFFFFFUL` to isolate the lower 32 bits.
    - Cast the result of the bitwise operation to an unsigned integer (`uint`).
- **Output**: Returns the lower 32 bits of the input `sig` as an unsigned integer (`uint`).


---
### fd\_gossvf\_sig\_port<!-- {{#callable:fd_gossvf_sig_port}} -->
[View Source →](<../../../../../src/discof/gossip/fd_gossip_tile.h#L62>)

Extracts the port number from a 64-bit signature.
- **Inputs**:
    - `sig`: A 64-bit unsigned long integer representing a signature from which the port number is extracted.
- **Logic and Control Flow**:
    - Shift the `sig` value 32 bits to the right.
    - Cast the result to an unsigned short.
- **Output**: Returns the port number as an unsigned short integer.


---
### fd\_gossvf\_sig\_kind<!-- {{#callable:fd_gossvf_sig_kind}} -->
[View Source →](<../../../../../src/discof/gossip/fd_gossip_tile.h#L67>)

Extracts the 'kind' field from a 64-bit signature by shifting the bits to the right by 48 positions.
- **Inputs**:
    - `sig`: A 64-bit unsigned long integer representing a signature from which the 'kind' field is extracted.
- **Logic and Control Flow**:
    - Shift the input `sig` 48 bits to the right.
    - Cast the result to an unsigned short to obtain the 'kind' field.
- **Output**: Returns the 'kind' field as an unsigned short integer.



---
Made with ❤️ by [Driver](https://www.driver.ai/)