<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for a transaction scheduler that manages lane-based scheduling, state transitions, and task prioritization for replay execution.

# Purpose
The code is a C header file that defines the interface for a transaction scheduling module, `fd_sched`, which is part of a larger system for replaying transactions. The primary purpose of this module is to manage the scheduling of transactions for execution in a high-performance, lane-based manner. It builds on top of a dispatcher, `fd_rdisp`, to handle the complexities of scheduling transactions in a way that maximizes parallelism while respecting dependencies between transactions. The module is designed to work with a directed acyclic graph (DAG) of transactions, ensuring that the critical path of execution is efficiently managed.

The module provides several public APIs for managing the lifecycle of transaction blocks, including functions to ingest transaction data, check readiness for execution, and mark tasks as complete. It also includes mechanisms for handling block abandonment and root advancement in the transaction DAG. The module defines several data structures, such as `fd_sched_t`, `fd_sched_fec_t`, and `fd_sched_task_t`, which are used to represent the state and tasks within the scheduler. Additionally, it defines task types for different stages of transaction processing, such as execution and signature verification. The module ensures that transactions are scheduled and executed in an orderly fashion, with policies for prioritizing lanes and managing memory constraints.
# Imports and Dependencies

---
- `fd_rdisp.h`
- `../../disco/store/fd_store.h`
- `../../disco/pack/fd_microblock.h`
- `../../flamenco/accdb/fd_accdb_user.h`
- `../../util/spad/fd_spad.h`


# Data Structures

---
### fd\_sched\_t
- **Type**: ``fd_sched_t``
- **Description**: `fd_sched_t` is a typedef for the `fd_sched` structure, which is designed to manage the scheduling of transactions for replay execution. It operates on top of the `fd_rdisp` dispatcher, which handles high-performance lane-based scheduling. The structure includes mechanisms for managing lanes with fork-awareness and prioritizing execution lanes. It implements a state machine to ensure orderly entry and exit of blocks in lanes, and provides APIs for state transitions based on events like new transactions, transaction completions, or block abandonment. The scheduler also decides which blocks to stage or evict from lanes and which lanes to prioritize for execution.


---
### fd\_sched\_alut\_ctx
- **Type**: ``struct``
- **Members**:
    - ``accdb``: An array of `fd_accdb_user_t` representing account database users.
    - ``xid``: An array of `fd_funk_txn_xid_t` representing transaction identifiers.
    - ``els``: An `ulong` representing the effective lookup slot.
- **Description**: The `fd_sched_alut_ctx` structure is used to manage context information for scheduling operations, specifically related to account database users and transaction identifiers, with an additional field for an effective lookup slot.


---
### fd\_sched\_alut\_ctx\_t
- **Type**: ``struct``
- **Members**:
    - ``accdb``: An array of `fd_accdb_user_t` representing account database users.
    - ``xid``: An array of `fd_funk_txn_xid_t` representing transaction identifiers.
    - ``els``: An `ulong` representing the effective lookup slot.
- **Description**: The `fd_sched_alut_ctx_t` structure is used to maintain context for account lookup transactions within the scheduling system. It includes an account database user, a transaction identifier, and an effective lookup slot, which are essential for managing and executing transactions in a parallel and efficient manner.


---
### fd\_sched\_fec
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Index of the block, assumed to be in [0, block_cnt_max) and must be unique across equivocated blocks.
    - `parent_bank_idx`: Index of the parent block, assumed to be in [0, block_cnt_max) and must be unique across equivocated blocks.
    - `slot`: Slot number of the block.
    - `parent_slot`: Slot number of the parent block.
    - `fec`: Pointer to the FEC set data.
    - `shred_cnt`: Number of shreds in the FEC set.
    - `is_last_in_batch`: Flag indicating if this is the last FEC set in the batch.
    - `is_last_in_block`: Flag indicating if this is the last FEC set in the block.
    - `is_first_in_block`: Flag indicating if this is the first FEC set in the block.
    - `alut_ctx`: Array of `fd_sched_alut_ctx_t` structures for context management.
- **Description**: The `fd_sched_fec` structure is used to manage Forward Error Correction (FEC) sets within a scheduling system. It contains indices and slot numbers for both the block and its parent, a pointer to the FEC data, and flags to indicate the position of the FEC set within a batch or block. Additionally, it includes a context array for managing auxiliary lookup table contexts.


---
### fd\_sched\_fec\_t
- **Type**: ``struct``
- **Members**:
    - ``bank_idx``: Index of the block, assumed to be within bounds and unique across equivocated blocks.
    - ``parent_bank_idx``: Index of the parent block, assumed to be within bounds and unique across equivocated blocks.
    - ``slot``: Slot number of the block.
    - ``parent_slot``: Slot number of the parent block.
    - ``fec``: Pointer to the FEC set data.
    - ``shred_cnt``: Number of shreds in the FEC set.
    - ``is_last_in_batch``: Flag indicating if this is the last FEC set in the batch.
    - ``is_last_in_block``: Flag indicating if this is the last FEC set in the block.
    - ``is_first_in_block``: Flag indicating if this is the first FEC set in the block.
    - ``alut_ctx``: Context for ALUTs, containing user and transaction identifiers.
- **Description**: Represents a structure used in scheduling transactions for replay execution, containing information about block indices, slots, FEC set data, and flags for batch and block positioning. It also includes a context for ALUTs, which is used for managing user and transaction identifiers.


---
### fd\_sched\_block\_start
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Index of the block, same as in `fd_sched_fec_t`.
    - `parent_bank_idx`: Index of the parent block, same as in `fd_sched_fec_t`.
    - `slot`: Slot number of the block.
- **Description**: Defines the start of a scheduling block with indices for the block and its parent, as well as the slot number, facilitating the organization and management of block scheduling in a transaction replay system.


---
### fd\_sched\_block\_start\_t
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Index of the block, same as in `fd_sched_fec_t`.
    - `parent_bank_idx`: Index of the parent block, same as in `fd_sched_fec_t`.
    - `slot`: Slot number of the block.
- **Description**: Defines the start of a block in the scheduling process, containing indices and slot information to identify the block and its parent within the scheduling system.


---
### fd\_sched\_block\_end
- **Type**: ``struct``
- **Members**:
    - ``bank_idx``: Stores the index of the block.
- **Description**: The `fd_sched_block_end` structure is used to represent the end of a block in a scheduling system. It contains a single member, `bank_idx`, which holds the index of the block. This structure is likely used to mark the completion of processing for a specific block within the scheduling framework.


---
### fd\_sched\_block\_end\_t
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Stores the index of the block.
- **Description**: The `fd_sched_block_end_t` structure represents the end of a block in the scheduling process. It contains a single member, `bank_idx`, which is used to identify the specific block within the scheduling system. This structure is part of a larger scheduling framework that manages the execution of transactions in a distributed system, ensuring that blocks are processed in an orderly manner.


---
### fd\_sched\_txn\_exec
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Index of the bank associated with the transaction.
    - `slot`: Slot number of the transaction.
    - `txn_idx`: Index of the transaction within the bank.
    - `exec_idx`: Index of the execution instance for the transaction.
- **Description**: Represents the execution context for a transaction within a bank, including its bank index, slot number, transaction index, and execution index.


---
### fd\_sched\_txn\_exec\_t
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Index of the block in the scheduler.
    - `slot`: Slot number of the block.
    - `txn_idx`: Index of the transaction within the block.
    - `exec_idx`: Index of the execution instance for the transaction.
- **Description**: Represents a transaction execution task within the scheduler, containing indices for the block, slot, transaction, and execution instance to facilitate the scheduling and execution of transactions in a replay system.


---
### fd\_sched\_txn\_sigverify
- **Type**: ``struct``
- **Members**:
    - `bank_idx`: Stores the index of the bank associated with the transaction.
    - `txn_idx`: Stores the index of the transaction within the bank.
    - `exec_idx`: Stores the index of the execution instance for the transaction.
- **Description**: Represents a structure used to verify the signature of a transaction, containing indices for the bank, transaction, and execution instance.


---
### fd\_sched\_txn\_sigverify\_t
- **Type**: ``struct``
- **Members**:
    - ``bank_idx``: Index of the bank associated with the transaction.
    - ``txn_idx``: Index of the transaction within the bank.
    - ``exec_idx``: Index of the execution instance for the transaction.
- **Description**: `fd_sched_txn_sigverify_t` is a structure that holds information about a transaction signature verification task. It includes the bank index (`bank_idx`), transaction index (`txn_idx`), and execution index (`exec_idx`) to identify and manage the specific transaction signature verification process within the scheduling system.


---
### fd\_sched\_task
- **Type**: ``struct``
- **Members**:
    - ``task_type``: Indicates the type of task, set to one of the predefined task types.
    - ``block_start``: Holds data for the start of a block task.
    - ``block_end``: Holds data for the end of a block task.
    - ``txn_exec``: Holds data for a transaction execution task.
    - ``txn_sigverify``: Holds data for a transaction signature verification task.
- **Description**: Defines a task in the scheduling system, where `task_type` specifies the task category, and the union allows for different task-specific data structures, such as block start, block end, transaction execution, and transaction signature verification, to be stored based on the task type.


---
### fd\_sched\_task\_t
- **Type**: ``struct``
- **Members**:
    - `task_type`: Indicates the type of task, set to one of the predefined task types.
    - `block_start`: Union member for start-of-block processing, represented as an array of `fd_sched_block_start_t`.
    - `block_end`: Union member for end-of-block processing, represented as an array of `fd_sched_block_end_t`.
    - `txn_exec`: Union member for transaction execution, represented as an array of `fd_sched_txn_exec_t`.
    - `txn_sigverify`: Union member for transaction signature verification, represented as an array of `fd_sched_txn_sigverify_t`.
- **Description**: `fd_sched_task_t` is a structure that represents a task in the scheduling system, with a `task_type` indicating the specific task to perform. It uses a union to store task-specific data, which can be one of several types: `block_start`, `block_end`, `txn_exec`, or `txn_sigverify`. Each of these types corresponds to a different kind of task that the scheduler may need to handle, such as processing the start or end of a block, executing a transaction, or verifying a transaction's signature.


# Function Declarations (Public API)

---
### fd\_sched\_align<!-- {{#callable_declaration:fd_sched_align}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L136>)

Returns the required memory alignment for a scheduler.
- **Description**: Use this function to determine the alignment requirement for a memory region intended to be used as a scheduler. This is necessary to ensure that the memory is correctly aligned for optimal performance and to meet the requirements of the underlying data structures. Call this function before allocating or configuring memory for a scheduler to ensure proper alignment.
- **Inputs**: None
- **Output**: The function returns an unsigned long integer representing the alignment in bytes.
- **See Also**: [`fd_sched_align`](<fd_sched.c.md#fd_sched_align>)  (Implementation)


---
### fd\_sched\_footprint<!-- {{#callable_declaration:fd_sched_footprint}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L143>)

Calculates the memory footprint required for a scheduler.
- **Description**: Use this function to determine the amount of memory needed to allocate for a scheduler that can track a specified maximum number of blocks. This is useful for memory allocation purposes when setting up a scheduler. Ensure that the `block_cnt_max` parameter accurately reflects the maximum number of blocks you intend to manage, as this will directly affect the calculated footprint.
- **Inputs**:
    - `block_cnt_max`: Specifies the maximum number of blocks the scheduler will track. Must be a positive integer. If the value is invalid, the function may not return a meaningful result.
- **Output**: Returns the size in bytes of the memory footprint required for the scheduler.
- **See Also**: [`fd_sched_footprint`](<fd_sched.c.md#fd_sched_footprint>)  (Implementation)


---
### fd\_sched\_new<!-- {{#callable_declaration:fd_sched_new}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L145>)

Creates a new scheduler instance in the provided memory region.
- **Description**: Use this function to initialize a new scheduler instance in a pre-allocated memory region. The scheduler manages the scheduling of transactions for replay execution, supporting a maximum number of blocks and execution slots. Ensure that the memory region is properly aligned and has sufficient size to accommodate the scheduler's requirements. The function must be called with valid parameters, and the execution count must be between 1 and 64 inclusive. The function returns a pointer to the initialized scheduler instance.
- **Inputs**:
    - `mem`: A pointer to a pre-allocated memory region where the scheduler will be initialized. The memory must be properly aligned and large enough to hold the scheduler.
    - `block_cnt_max`: The maximum number of blocks that the scheduler will track. Must be a positive integer.
    - `exec_cnt`: The number of execution slots available. Must be between 1 and 64 inclusive. If the value is outside this range, the function will not proceed.
- **Output**: Returns a pointer to the newly created scheduler instance.
- **See Also**: [`fd_sched_new`](<fd_sched.c.md#fd_sched_new>)  (Implementation)


---
### fd\_sched\_join<!-- {{#callable_declaration:fd_sched_join}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L148>)

Joins a memory region to a scheduler instance.
- **Description**: Use this function to associate a pre-allocated memory region with a scheduler instance, allowing it to manage transaction scheduling. Ensure that the memory region is correctly aligned and has sufficient size to accommodate the scheduler's requirements. The function checks that the memory region is valid and that the maximum block count matches the expected value. Call this function before using the scheduler for transaction management.
- **Inputs**:
    - `mem`: A pointer to a pre-allocated memory region. Must not be null and should be aligned according to the scheduler's requirements. The caller retains ownership.
    - `block_cnt_max`: The maximum number of blocks the scheduler will track. Must match the expected value for the scheduler to function correctly.
- **Output**: Returns a pointer to the initialized scheduler instance if successful.
- **See Also**: [`fd_sched_join`](<fd_sched.c.md#fd_sched_join>)  (Implementation)


---
### fd\_sched\_fec\_ingest<!-- {{#callable_declaration:fd_sched_fec_ingest}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L164>)

Adds FEC set data to the scheduler.
- **Description**: Use this function to add Forward Error Correction (FEC) set data to the scheduler for processing. This function assumes that FEC sets are delivered in replay order, meaning that forks form a partial ordering over FEC sets. The function also assumes that there is enough space in the scheduler to ingest the FEC set, so it is recommended to call `fd_sched_fec_can_ingest` before using this function. The function returns 1 on success, indicating that the FEC set was successfully added, or 0 if the block is bad and should be marked dead.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null.
    - `fec`: A pointer to an `fd_sched_fec_t` structure containing the FEC set data to be added. Must not be null and must have valid indices and data sizes as per the scheduler's constraints.
- **Output**: Returns 1 on success, or 0 if the block is bad and should be marked dead.
- **See Also**: [`fd_sched_fec_ingest`](<fd_sched.c.md#fd_sched_fec_ingest>)  (Implementation)


---
### fd\_sched\_fec\_can\_ingest<!-- {{#callable_declaration:fd_sched_fec_can_ingest}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L170>)

Checks if there is enough space to ingest an FEC set into the scheduler.
- **Description**: Use this function to determine if the scheduler has sufficient space to accommodate the data from a given FEC set. This is a preliminary check that should be performed before attempting to ingest the FEC set into the scheduler. It is a conservative check, meaning it errs on the side of caution, and may not account for all possible scenarios of space availability. The function returns a boolean value indicating the result of the check.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null, and the scheduler must be properly initialized.
    - `fec`: A pointer to an `fd_sched_fec_t` structure representing the FEC set to be checked. Must not be null, and the FEC set must be properly initialized with valid indices and data size.
- **Output**: Returns 1 if there is enough space to ingest the FEC set, 0 otherwise.
- **See Also**: [`fd_sched_fec_can_ingest`](<fd_sched.c.md#fd_sched_fec_can_ingest>)  (Implementation)


---
### fd\_sched\_can\_ingest<!-- {{#callable_declaration:fd_sched_can_ingest}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L177>)

Checks if the scheduler can ingest a specified number of FEC sets.
- **Description**: Use this function to determine if the scheduler has enough space to ingest a given number of worst-case FEC sets. This is a conservative check and is less precise than other similar functions. It is useful to call this function before attempting to ingest FEC sets to avoid overloading the scheduler.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized.
    - `fec_cnt`: The number of FEC sets to check for ingestion capacity. Must be a non-negative integer.
- **Output**: Returns 1 if there is enough space to ingest the specified number of FEC sets, 0 otherwise.
- **See Also**: [`fd_sched_can_ingest`](<fd_sched.c.md#fd_sched_can_ingest>)  (Implementation)


---
### fd\_sched\_task\_next\_ready<!-- {{#callable_declaration:fd_sched_task_next_ready}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L213>)

Obtain the next task ready for execution.
- **Description**: Use this function to get a task that is ready for execution from the scheduler. It writes information about the task to the provided output structure. This function should be called when you want to execute the next available task, which could be a transaction execution or a signature verification task. It returns 1 if a task is ready and 0 if no task is ready. Ensure that the scheduler is properly initialized and that the output structure is valid before calling this function.
- **Inputs**:
    - `sched`: A pointer to a `fd_sched_t` structure representing the scheduler. Must not be null and should be properly initialized.
    - `out`: A pointer to a `fd_sched_task_t` structure where the function will write information about the next ready task. Must not be null.
- **Output**: Returns 1 if a task is ready for execution, 0 if no task is ready.
- **See Also**: [`fd_sched_task_next_ready`](<fd_sched.c.md#fd_sched_task_next_ready>)  (Implementation)


---
### fd\_sched\_task\_done<!-- {{#callable_declaration:fd_sched_task_done}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L219>)

Marks a task as complete in the scheduler.
- **Description**: Use this function to indicate that a specific task has been completed within the scheduler. This function should be called after a task, such as a transaction execution or signature verification, is finished. It updates the scheduler's state to reflect the completion of the task, which may trigger further state transitions or task releases. Ensure that the scheduler is properly initialized and that the task type is supported before calling this function.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and should be properly initialized.
    - `task_type`: An unsigned long indicating the type of task completed. Must be one of the defined task types, such as `FD_SCHED_TT_BLOCK_START`, `FD_SCHED_TT_BLOCK_END`, `FD_SCHED_TT_TXN_EXEC`, or `FD_SCHED_TT_TXN_SIGVERIFY`. Unsupported task types will result in a critical log error.
    - `txn_idx`: An unsigned long representing the transaction index. For `FD_SCHED_TT_BLOCK_START` and `FD_SCHED_TT_BLOCK_END`, this parameter is ignored. For other task types, it must be within the valid range of transaction indices.
    - `exec_idx`: An unsigned long representing the execution index. It is used to update the execution state and must be valid for the task type.
- **Output**: None
- **See Also**: [`fd_sched_task_done`](<fd_sched.c.md#fd_sched_task_done>)  (Implementation)


---
### fd\_sched\_block\_abandon<!-- {{#callable_declaration:fd_sched_block_abandon}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L230>)

Abandons a block and its descendants in the scheduler.
- **Description**: Use this function to abandon a block and all blocks that chain from it, indicating that they are no longer of interest for execution. This is typically done when a block is determined to be dead or invalid, thus conserving resources by not executing it. The function should only be called on a block that is actively being replayed, and it must be invoked only once per block. Ensure that the block index provided is the active block index to maintain the expected order of operations.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized before calling this function.
    - `bank_idx`: An unsigned long representing the index of the block to abandon. Must be less than the maximum block count (`block_cnt_max`) and should be the active block index.
- **Output**: None
- **See Also**: [`fd_sched_block_abandon`](<fd_sched.c.md#fd_sched_block_abandon>)  (Implementation)


---
### fd\_sched\_block\_add\_done<!-- {{#callable_declaration:fd_sched_block_add_done}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L237>)

Add a block as immediately done to the scheduler.
- **Description**: Use this function to inform the scheduler that a block is complete and should be marked as done. This is particularly useful for setting up the snapshot slot or for notifying the scheduler about a packed leader block. Ensure that the `parent_bank_idx` is set to `ULONG_MAX` for the snapshot slot, or to a valid block index that has not been pruned for other cases. This function should be called when a block is considered complete and no further processing is required.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and should be properly initialized before calling this function.
    - `bank_idx`: An unsigned long representing the index of the block to be marked as done. Must be within the valid range of block indices managed by the scheduler.
    - `parent_bank_idx`: An unsigned long representing the index of the parent block. Use `ULONG_MAX` for the snapshot slot, otherwise provide a valid block index that has not been pruned.
    - `slot`: An unsigned long representing the slot number of the block. This value is used to identify the block within the scheduler.
- **Output**: None
- **See Also**: [`fd_sched_block_add_done`](<fd_sched.c.md#fd_sched_block_add_done>)  (Implementation)


---
### fd\_sched\_advance\_root<!-- {{#callable_declaration:fd_sched_advance_root}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L246>)

Advance the root of the scheduler and prune unrelated blocks.
- **Description**: Use this function to change the root of the scheduler to a new block index, effectively pruning all blocks that do not descend from the new root. This function assumes that the new root is part of the existing fork tree and is connected to the current root. It also assumes that there are no in-flight transactions from blocks that will be pruned. Call this function after notifying the scheduler of a new root to ensure safe pruning.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized.
    - `root_idx`: An unsigned long representing the index of the new root block. Must be less than the maximum block count (`block_cnt_max`) of the scheduler.
- **Output**: None
- **See Also**: [`fd_sched_advance_root`](<fd_sched.c.md#fd_sched_advance_root>)  (Implementation)


---
### fd\_sched\_root\_notify<!-- {{#callable_declaration:fd_sched_root_notify}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L254>)

Notify the scheduler of a new root block.
- **Description**: Use this function to inform the scheduler about a new root block in the fork tree. This operation will abandon all minority forks that do not descend from the specified new root. Ensure that the new root is part of the fork tree and connected to the current root before calling this function. This function should be called when you want to update the root block, and it is important to ensure that no in-flight transactions exist from blocks that will be abandoned.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized.
    - `root_idx`: An unsigned long representing the index of the new root block. Must be less than the maximum block count (`block_cnt_max`) of the scheduler.
- **Output**: None
- **See Also**: [`fd_sched_root_notify`](<fd_sched.c.md#fd_sched_root_notify>)  (Implementation)


---
### fd\_sched\_get\_txn<!-- {{#callable_declaration:fd_sched_get_txn}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L257>)

Retrieves a transaction from the scheduler by index.
- **Description**: Use this function to access a specific transaction from the scheduler's transaction pool by providing its index. Ensure that the scheduler is properly initialized and that the transaction index is within the valid range. This function returns a pointer to the transaction if the index is valid, or NULL if the index is out of bounds.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized.
    - `txn_idx`: An unsigned long representing the index of the transaction to retrieve. Must be less than `FD_SCHED_MAX_DEPTH`. If the index is out of bounds, the function returns NULL.
- **Output**: Returns a pointer to the `fd_txn_p_t` transaction if the index is valid, or NULL if the index is out of bounds.
- **See Also**: [`fd_sched_get_txn`](<fd_sched.c.md#fd_sched_get_txn>)  (Implementation)


---
### fd\_sched\_get\_poh<!-- {{#callable_declaration:fd_sched_get_poh}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L260>)

Retrieve the Proof of History (PoH) hash for a specified block.
- **Description**: Use this function to obtain the PoH hash associated with a specific block in the scheduler. This function is useful when you need to verify or utilize the PoH hash for a block identified by its index. Ensure that the scheduler is properly initialized and that the block index is within the valid range before calling this function.
- **Inputs**:
    - `sched`: A pointer to an `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized with a valid canary value.
    - `bank_idx`: An unsigned long representing the index of the block. Must be less than the maximum block count (`block_cnt_max`) of the scheduler. If the index is out of range, the behavior is undefined.
- **Output**: A pointer to an `fd_hash_t` structure containing the PoH hash of the specified block.
- **See Also**: [`fd_sched_get_poh`](<fd_sched.c.md#fd_sched_get_poh>)  (Implementation)


---
### fd\_sched\_get\_shred\_cnt<!-- {{#callable_declaration:fd_sched_get_shred_cnt}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L263>)

Retrieve the shred count for a specified block index.
- **Description**: Use this function to obtain the number of shreds associated with a specific block in the scheduler. This function requires a valid scheduler object and a block index that is within the bounds of the scheduler's maximum block count. It is important to ensure that the scheduler is properly initialized and that the block index is valid before calling this function to avoid undefined behavior.
- **Inputs**:
    - `sched`: A pointer to a `fd_sched_t` structure representing the scheduler. Must not be null and must be properly initialized with a valid canary value.
    - `bank_idx`: An unsigned long representing the index of the block. Must be less than the maximum block count (`block_cnt_max`) of the scheduler. If the index is out of bounds, the behavior is undefined.
- **Output**: Returns an unsigned integer representing the number of shreds in the specified block.
- **See Also**: [`fd_sched_get_shred_cnt`](<fd_sched.c.md#fd_sched_get_shred_cnt>)  (Implementation)


---
### fd\_sched\_leave<!-- {{#callable_declaration:fd_sched_leave}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L266>)

Leaves the scheduling context.
- **Description**: Use this function to exit the current scheduling context. It is typically called when the scheduling operations are complete, and the user wants to leave the scheduler. Ensure that all necessary scheduling tasks are finished before calling this function to avoid leaving the scheduler in an inconsistent state.
- **Inputs**:
    - `sched`: A pointer to a `fd_sched_t` structure representing the scheduling context. Must not be null. The caller retains ownership of the memory.
- **Output**: Returns the same pointer that was passed as input, allowing for potential chaining or further operations on the scheduling context.
- **See Also**: [`fd_sched_leave`](<fd_sched.c.md#fd_sched_leave>)  (Implementation)


---
### fd\_sched\_delete<!-- {{#callable_declaration:fd_sched_delete}} -->
[View Source →](<../../../../../src/discof/replay/fd_sched.h#L269>)

Returns the provided memory pointer.
- **Description**: Use this function to return a memory pointer that was previously allocated or used. It is typically called when the memory is no longer needed, allowing the caller to manage or free the memory as appropriate. This function does not perform any operations on the memory itself; it simply returns the pointer that was passed to it. Ensure that the memory pointer is valid and was previously allocated or initialized by the caller.
- **Inputs**:
    - `mem`: A pointer to memory that the caller manages. It must be a valid pointer, and the caller retains ownership. The function does not modify or free the memory.
- **Output**: Returns the same memory pointer that was provided as input.
- **See Also**: [`fd_sched_delete`](<fd_sched.c.md#fd_sched_delete>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)