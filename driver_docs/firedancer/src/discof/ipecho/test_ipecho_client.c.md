<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

A test client for the `fd_ipecho_client` that initializes and polls an IP echo server.

# Purpose
The code is an executable C program that functions as an IP echo client. It is designed to communicate with a server using the IP protocol, specifically targeting a local server running on the IP address `127.0.0.1` and port `12008`. The program initializes a client using the `fd_ipecho_client` API, which is part of a broader library for network communication. The client is allocated memory with alignment requirements specified by `FD_IPECHO_CLIENT_ALIGN` and is initialized with the server's address and port.

The main functionality of the program is to continuously poll the server for a "shred version" using the `fd_ipecho_client_poll` function. The program checks for errors during polling and logs a notice when the shred version is successfully retrieved. The code includes commented-out sections that suggest alternative server configurations, indicating that the client can be configured to connect to different servers by modifying the IP address and port. The program uses utility functions such as `fd_boot`, `FD_TEST`, and `FD_LOG_ERR` to manage initialization, error checking, and logging, which are part of the broader utility library included in the project.
# Imports and Dependencies

---
- `fd_ipecho_client.h`
- `../../util/net/fd_net_headers.h`
- `../../util/fd_util.h`
- `stdlib.h`


# Functions

---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../../src/discof/ipecho/test_ipecho_client.c#L8>)

Initializes and runs an IP echo client that connects to a local server and polls for a shred version.
- **Inputs**:
    - `argc`: The number of command-line arguments.
    - `argv`: An array of command-line arguments.
- **Logic and Control Flow**:
    - Calls `fd_boot` to initialize the environment with command-line arguments.
    - Allocates memory for the IP echo client using `aligned_alloc` and checks the allocation with `FD_TEST`.
    - Creates and joins a new IP echo client using [`fd_ipecho_client_new`](<fd_ipecho_client.c.md#fd_ipecho_client_new>) and [`fd_ipecho_client_join`](<fd_ipecho_client.c.md#fd_ipecho_client_join>), and verifies the client with `FD_TEST`.
    - Initializes the client to connect to a local server at IP address 127.0.0.1 and port 12008 using [`fd_ipecho_client_init`](<fd_ipecho_client.c.md#fd_ipecho_client_init>).
    - Enters an infinite loop to poll the client for a shred version using [`fd_ipecho_client_poll`](<fd_ipecho_client.c.md#fd_ipecho_client_poll>).
    - If [`fd_ipecho_client_poll`](<fd_ipecho_client.c.md#fd_ipecho_client_poll>) returns -1, logs an error message and exits.
    - If [`fd_ipecho_client_poll`](<fd_ipecho_client.c.md#fd_ipecho_client_poll>) returns 0, logs the shred version and breaks the loop.
- **Output**: No explicit return value; the function logs messages and exits when a condition is met.
- **Functions Called**:
    - [`fd_ipecho_client_footprint`](<fd_ipecho_client.c.md#fd_ipecho_client_footprint>)
    - [`fd_ipecho_client_join`](<fd_ipecho_client.c.md#fd_ipecho_client_join>)
    - [`fd_ipecho_client_new`](<fd_ipecho_client.c.md#fd_ipecho_client_new>)
    - [`fd_ipecho_client_init`](<fd_ipecho_client.c.md#fd_ipecho_client_init>)
    - [`fd_ipecho_client_poll`](<fd_ipecho_client.c.md#fd_ipecho_client_poll>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)