<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for a sender tile that signs and sends transactions to leaders, primarily for voting.

# Purpose
This C header file defines structures and constants for a sender tile that signs and sends transactions to a leader in a distributed system. It supports transactions requiring a single signature and is primarily designed for voting use cases. The file includes several headers for network communication, key management, and leader scheduling. It defines constants for different types of input (`IN_KIND_SIGN`, `IN_KIND_GOSSIP`, etc.) and network parameters such as connection limits and timeouts. The file also declares several structures, including `fd_send_link_in_t`, `fd_send_link_out_t`, and `fd_send_conn_entry_t`, which manage input links, output links, and connection entries, respectively. The main structure, `fd_send_tile_ctx_t`, encapsulates the context for the sender tile, including network configurations, leader tracking, and metrics for performance monitoring.
# Imports and Dependencies

---
- `../../util/net/fd_net_headers.h`
- `../../disco/stem/fd_stem.h`
- `../../disco/fd_disco.h`
- `../../disco/net/fd_net_tile.h`
- `../../disco/keyguard/fd_keyguard_client.h`
- `../../flamenco/leaders/fd_multi_epoch_leaders.h`
- `../../waltz/quic/fd_quic.h`
- `../../util/clock/fd_clock.h`


# Data Structures

---
### fd\_send\_link\_in
- **Type**: ``struct``
- **Members**:
    - ``mem``: Pointer to a workspace of type `fd_wksp_t`.
    - ``chunk0``: Unsigned long integer representing the initial chunk.
    - ``wmark``: Unsigned long integer representing a watermark.
    - ``kind``: Unsigned long integer indicating the type of operation.
    - ``dcache``: Pointer to a data cache.
- **Description**: Defines a structure used to manage input links for sending operations, including memory management, chunk handling, watermarking, operation type, and data caching.


---
### fd\_send\_link\_in\_t
- **Type**: ``struct``
- **Members**:
    - ``mem``: Pointer to a workspace (`fd_wksp_t`) for memory management.
    - ``chunk0``: Unsigned long integer representing the initial chunk index.
    - ``wmark``: Unsigned long integer indicating the watermark for data processing.
    - ``kind``: Unsigned long integer specifying the type of operation or data.
    - ``dcache``: Pointer to a data cache for temporary storage.
- **Description**: Defines a structure for managing input links in a data sending process, including memory management, chunk indexing, watermarking, operation type, and data caching.


---
### fd\_send\_link\_out
- **Type**: ``struct``
- **Members**:
    - ``idx``: An unsigned long integer that likely serves as an index or identifier.
    - ``mcache``: A pointer to `fd_frag_meta_t`, which is likely a metadata cache.
    - ``sync``: A pointer to an unsigned long integer, possibly used for synchronization.
    - ``depth``: An unsigned long integer that might represent the depth or size of a structure.
    - ``mem``: A pointer to `fd_wksp_t`, which is likely a workspace or memory area.
    - ``chunk0``: An unsigned long integer that might represent the initial chunk or offset.
    - ``wmark``: An unsigned long integer that could be a watermark or threshold value.
    - ``chunk``: An unsigned long integer that might represent a current chunk or position.
- **Description**: The `fd_send_link_out` structure is used to manage outgoing link data, including metadata caching, synchronization, and memory management. It contains pointers to metadata and memory workspaces, as well as several unsigned long integers that likely serve as indices, depth indicators, and chunk management variables. This structure is part of a larger system for handling network transactions and connections.


---
### fd\_send\_link\_out\_t
- **Type**: ``struct``
- **Members**:
    - `idx`: Index of the link.
    - `mcache`: Pointer to a fragment metadata cache.
    - `sync`: Pointer to a synchronization variable.
    - `depth`: Depth of the link.
    - `mem`: Pointer to a workspace memory.
    - `chunk0`: Initial chunk index.
    - `wmark`: Watermark for the link.
    - `chunk`: Current chunk index.
- **Description**: `fd_send_link_out_t` is a structure that represents an outgoing link in a network communication context. It contains fields for managing the link's index, metadata cache, synchronization, and depth. Additionally, it includes pointers to workspace memory and fields for tracking chunk indices and watermarks, which are used to manage data flow and ensure efficient communication.


---
### fd\_send\_conn\_entry
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: Holds the public key of the connection entry.
    - ``hash``: Stores a hash value associated with the connection entry.
    - ``conn``: An array of pointers to `fd_quic_conn_t` representing connections for non-QUIC ports.
    - ``last_ci_ns``: Records the last contact information timestamp in nanoseconds.
    - ``ip4s``: An array of IPv4 addresses in network byte order.
    - ``ports``: An array of port numbers in host byte order.
    - ``got_ci_msg``: Indicates if a contact information message was received.
- **Description**: Manages connection information for sending data, including public key, hash, connection pointers, timestamps, IP addresses, ports, and message receipt status.


---
### fd\_send\_conn\_entry\_t
- **Type**: ``struct``
- **Members**:
    - ``pubkey``: Holds the public key associated with the connection.
    - ``hash``: Stores a hash value for the connection.
    - ``conn``: Array of pointers to `fd_quic_conn_t` for connection management, indexed up to `FD_SEND_PORT_UDP_VOTE_IDX`.
    - ``last_ci_ns``: Records the last contact information timestamp in nanoseconds.
    - ``ip4s``: Array of IPv4 addresses in network byte order, with size `FD_SEND_PORT_CNT`.
    - ``ports``: Array of port numbers in host byte order, with size `FD_SEND_PORT_CNT`.
    - ``got_ci_msg``: Flag indicating if a contact information message was received.
- **Description**: Manages connection details for sending data, including public key, hash, connection pointers, timestamps, IP addresses, ports, and a flag for contact information message receipt.


---
### fd\_send\_tile\_ctx
- **Type**: ``struct``
- **Members**:
    - `stem`: Pointer to `fd_stem_context_t`, used for linking context.
    - `in_links`: Array of `fd_send_link_in_t` structures, representing input links.
    - `net_in_bounds`: `fd_net_rx_bounds_t` structure for network input bounds.
    - `gossip_verify_out`: Array of `fd_send_link_out_t` structures for gossip verification output.
    - `net_out`: Array of `fd_send_link_out_t` structures for network output.
    - `keyguard_client`: Array of `fd_keyguard_client_t` structures for keyguard client.
    - `contact_buf`: Buffer for contact information, used in gossip kind.
    - `contact_cnt`: Count of contacts in the buffer.
    - `quic_buf`: Buffer for QUIC data, used in network kind.
    - `src_ip_addr`: Source IP address for networking.
    - `src_port`: Source port for networking.
    - `packet_hdr`: Array of `fd_ip4_udp_hdrs_t` structures for packet headers.
    - `net_id`: Network identifier.
    - `identity_key`: Array of `fd_pubkey_t` structures for identity key, also used as TLS public key.
    - `mleaders`: Pointer to `fd_multi_epoch_leaders_t` for leader schedule tracking.
    - `quic`: Pointer to `fd_quic_t` for QUIC handles.
    - `quic_tx_aio`: Array of `fd_aio_t` structures for QUIC transmission asynchronous I/O.
    - `conn_map`: Pointer to `fd_send_conn_entry_t` for connection mapping.
    - `now`: Current time in nanoseconds.
    - `clock`: Array of `fd_clock_t` structures for clock memory.
    - `recal_next`: Time for next recalibration in nanoseconds.
    - `housekeeping_ctr`: Counter for housekeeping tasks.
    - `metrics`: Structure containing various metrics for performance and outcomes.
    - `mleaders_mem`: Memory aligned for multi-epoch leaders.
    - `clock_mem`: Memory aligned for clock.
- **Description**: `fd_send_tile_ctx` is a complex data structure used in a networked environment to manage the sending of transactions to leaders. It includes various components for linking, buffering, networking, and timekeeping, as well as metrics for performance tracking. The structure supports different kinds of input and output links, handles QUIC connections, and maintains leader schedules. It also includes buffers for contact information and QUIC data, and tracks various metrics related to connection outcomes and performance.


---
### fd\_send\_tile\_ctx\_t
- **Type**: ``struct``
- **Members**:
    - `stem`: Pointer to `fd_stem_context_t`, used for linking.
    - `in_links`: Array of `fd_send_link_in_t` structures for input links.
    - `net_in_bounds`: `fd_net_rx_bounds_t` structure for network input bounds.
    - `gossip_verify_out`: Array of `fd_send_link_out_t` structures for gossip verification output.
    - `net_out`: Array of `fd_send_link_out_t` structures for network output.
    - `keyguard_client`: Array of `fd_keyguard_client_t` for keyguard client operations.
    - `contact_buf`: Buffer for contact information used in gossip.
    - `contact_cnt`: Count of contacts in the buffer.
    - `quic_buf`: Buffer for QUIC networking operations.
    - `src_ip_addr`: Source IP address for networking.
    - `src_port`: Source port for networking.
    - `packet_hdr`: Template for IP/UDP packet headers.
    - `net_id`: Network identifier.
    - `identity_key`: Public key used for TLS and QUIC.
    - `mleaders`: Pointer to `fd_multi_epoch_leaders_t` for leader schedule tracking.
    - `quic`: Pointer to `fd_quic_t` for QUIC operations.
    - `quic_tx_aio`: Array for asynchronous I/O operations in QUIC.
    - `conn_map`: Pointer to `fd_send_conn_entry_t` for connection mapping.
    - `now`: Current time in nanoseconds.
    - `clock`: Array for clock operations.
    - `recal_next`: Time for next recalibration in nanoseconds.
    - `housekeeping_ctr`: Counter for housekeeping operations.
    - `metrics`: Structure for various metrics and statistics.
    - `mleaders_mem`: Memory for multi-epoch leaders, aligned.
    - `clock_mem`: Memory for clock operations, aligned.
- **Description**: `fd_send_tile_ctx_t` is a structure that manages the context for sending tiles, including input and output links, network configurations, leader tracking, and metrics. It contains buffers for contact information and QUIC operations, pointers to various structures for managing connections and leader schedules, and fields for timekeeping and metrics collection. The structure is designed to handle transactions that require a single signature, with a focus on voting as the primary use case.



---
Made with ❤️ by [Driver](https://www.driver.ai/)