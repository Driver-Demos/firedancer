<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Utility functions for process management, sleeping, and user information retrieval.

# Purpose
This C header file defines utility functions for system-level operations. The function [`fd_sys_util_exit_group`](<#fd_sys_util_exit_group>) allows a process to exit immediately with a specified exit code, bypassing standard exit handlers. The [`fd_sys_util_nanosleep`](<#fd_sys_util_nanosleep>) function enables a thread to sleep for a specified duration in nanoseconds, ensuring the sleep continues if interrupted. The [`fd_sys_util_login_user`](<#fd_sys_util_login_user>) function attempts to return the username of the currently logged-in user, which may differ from the user running the process. Additionally, [`fd_sys_util_user_to_uid`](<#fd_sys_util_user_to_uid>) converts a username to its corresponding user ID (`uid`) and group ID (`gid`). The file includes the `fd_util.h` header for additional utility support.
# Imports and Dependencies

---
- `../../util/fd_util.h`


# Function Declarations (Public API)

---
### fd\_sys\_util\_exit\_group<!-- {{#callable_declaration:fd_sys_util_exit_group}} -->
[View Source →](<../../../../../src/app/platform/fd_sys_util.h#L13>)

Exits the calling process immediately with the specified exit code.
- **Description**: Use this function to terminate the calling process without executing any exit handlers or atexit functions. It is a direct wrapper around the `exit_group` system call, ensuring immediate process termination. This function does not return, and it should be used when you need to exit a process without any cleanup.
- **Inputs**:
    - `code`: An integer representing the exit code for the process. The value is passed directly to the `exit_group` system call. There are no restrictions on the value, but it is typically used to indicate success or failure.
- **Output**: None
- **See Also**: [`fd_sys_util_exit_group`](<fd_sys_util.c.md#fd_sys_util_exit_group>)  (Implementation)


---
### fd\_sys\_util\_nanosleep<!-- {{#callable_declaration:fd_sys_util_nanosleep}} -->
[View Source →](<../../../../../src/app/platform/fd_sys_util.h#L23>)

Sleeps the calling thread for a specified duration in seconds and nanoseconds.
- **Description**: Use this function to pause the execution of the calling thread for a specified duration, given in seconds and nanoseconds. It ensures that the thread continues to sleep for the remaining time if interrupted by a signal. This function is useful when precise sleep durations are required, and it handles interruptions by resuming the sleep for the remaining time. It returns zero on success and -1 on failure, with `errno` set to indicate the error.
- **Inputs**:
    - `secs`: The number of seconds to sleep. Must be a non-negative integer. The caller retains ownership.
    - `nanos`: The number of additional nanoseconds to sleep. Must be a non-negative integer less than 1,000,000,000. The caller retains ownership.
- **Output**: Returns 0 on success. Returns -1 on failure, with `errno` set to indicate the error.
- **See Also**: [`fd_sys_util_nanosleep`](<fd_sys_util.c.md#fd_sys_util_nanosleep>)  (Implementation)


---
### fd\_sys\_util\_login\_user<!-- {{#callable_declaration:fd_sys_util_login_user}} -->
[View Source →](<../../../../../src/app/platform/fd_sys_util.h#L32>)

Returns the best guess at the currently logged-in user.
- **Description**: Use this function to get the username of the currently logged-in user. It checks several environment variables in a specific order to determine the username, and falls back to the `getlogin` function if none of the environment variables are set. The function returns a pointer to a string with static lifetime, which means the caller must not attempt to modify or free the returned string. If the function cannot determine the username, it returns `NULL`. This function is useful when you need to identify the user context in which a process is running, but note that it may not always return the user running the process itself.
- **Inputs**: None
- **Output**: Returns a pointer to a string containing the username, or `NULL` if the username cannot be determined.
- **See Also**: [`fd_sys_util_login_user`](<fd_sys_util.c.md#fd_sys_util_login_user>)  (Implementation)


---
### fd\_sys\_util\_user\_to\_uid<!-- {{#callable_declaration:fd_sys_util_user_to_uid}} -->
[View Source →](<../../../../../src/app/platform/fd_sys_util.h#L35>)

Converts a username to its corresponding user ID and group ID.
- **Description**: Use this function to obtain the user ID and group ID for a given username. It is useful when you need to perform operations that require user identity verification or management. Ensure that the `user` parameter is a valid, non-null string representing a username. The function writes the user ID and group ID to the provided `uid` and `gid` pointers, respectively. It returns -1 if it encounters an error, such as if the username does not exist or if there is a system call failure. In such cases, `errno` is set to indicate the error. The function must be called in a context where forking a process is acceptable, as it uses a fork to safely retrieve the user information.
- **Inputs**:
    - `user`: A non-null string representing the username to look up. The string must be valid and null-terminated.
    - `uid`: A pointer to an unsigned integer where the function will store the user ID. Must not be null.
    - `gid`: A pointer to an unsigned integer where the function will store the group ID. Must not be null.
- **Output**: Returns 0 on success, with `uid` and `gid` set to the user's ID and group ID, respectively. Returns -1 on failure, with `errno` set to indicate the error.
- **See Also**: [`fd_sys_util_user_to_uid`](<fd_sys_util.c.md#fd_sys_util_user_to_uid>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)