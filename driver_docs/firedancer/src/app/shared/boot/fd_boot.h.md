<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Function prototypes for initializing and running the Firedancer application with configuration support.

# Purpose
This code is a C header file that declares functions for initializing and running a main application in a specific environment. It includes two header files, `fd_config.h` and `fd_config_file.h`, which likely provide configuration structures and utilities. The file defines two function prototypes: [`fd_main`](<#fd_main>) and [`fd_main_init`](<#fd_main_init>). The [`fd_main`](<#fd_main>) function is intended to serve as the entry point for the application, taking command-line arguments, a flag indicating if it is a "firedancer" application, a list of configuration files, and a topology initialization function. The [`fd_main_init`](<#fd_main_init>) function is responsible for initializing the application environment, including parsing command-line arguments, setting up configuration, and initializing logging and topology. The use of `FD_PROTOTYPES_BEGIN` and `FD_PROTOTYPES_END` suggests a macro-based approach to manage function prototypes, possibly for compatibility or code organization purposes.
# Imports and Dependencies

---
- `../fd_config.h`
- `../fd_config_file.h`


# Function Declarations (Public API)

---
### fd\_main<!-- {{#callable_declaration:fd_main}} -->
[View Source →](<../../../../../../src/app/shared/boot/fd_boot.h#L7>)

Executes a command-line application with configuration and initialization.
- **Description**: Use this function to execute a command-line application that requires configuration and initialization. It processes command-line arguments to determine the appropriate action to execute. The function expects a set of configurations and an initialization callback. It handles help and version commands without requiring full configuration setup, which is useful in environments like CI. Ensure that the command-line arguments include a valid subcommand; otherwise, the function will log a warning and return an error. If a subcommand requires a configuration file, provide it using the `--config` option.
- **Inputs**:
    - `argc`: The number of command-line arguments. Must be greater than zero to specify a subcommand.
    - `_argv`: An array of command-line argument strings. The first argument should be the subcommand to execute.
    - `is_firedancer`: An integer flag indicating if the application is running in 'firedancer' mode. Non-zero values enable this mode.
    - `configs`: A pointer to an array of configuration file pointers. The function does not take ownership of these pointers.
    - `topo_init`: A pointer to a function that initializes the topology configuration. The function must accept a pointer to a `config_t` structure.
- **Output**: Returns 0 on successful execution of the specified subcommand, or 1 if no subcommand is specified. Logs errors and warnings for invalid inputs or permissions.
- **See Also**: [`fd_main`](<fd_boot.c.md#fd_main>)  (Implementation)


---
### fd\_main\_init<!-- {{#callable_declaration:fd_main_init}} -->
[View Source →](<../../../../../../src/app/shared/boot/fd_boot.h#L16>)

Initialize the main application environment.
- **Description**: Use this function to set up the application environment before starting the main application logic. It configures logging, loads configuration settings, and prepares the system for execution. Call this function before any other application-specific initialization. Ensure that the configuration and logging paths are correctly specified, and provide a valid topology initialization function. This function must be called in a context where the application has the necessary permissions to change user and group IDs if required.
- **Inputs**:
    - `pargc`: Pointer to the argument count. Must not be null. The function may modify the value to reflect processed arguments.
    - `pargv`: Pointer to the argument vector. Must not be null. The function may modify the contents to reflect processed arguments.
    - `config`: Pointer to a `config_t` structure where configuration settings will be loaded. Must not be null. The caller retains ownership.
    - `opt_user_config_path`: Optional path to a user configuration file. Can be null if no user configuration is provided.
    - `is_firedancer`: Integer flag indicating if the application is running in 'firedancer' mode. Non-zero for true, zero for false.
    - `is_local_cluster`: Integer flag indicating if the application is running in a local cluster environment. Non-zero for true, zero for false.
    - `log_path`: Path to the log file. Can be null if no specific log path is required.
    - `configs`: Array of pointers to `fd_config_file_t` structures containing configuration data. Must not be null. The array must be null-terminated.
    - `topo_init`: Function pointer to a topology initialization function. Must not be null. This function is called with the loaded configuration.
- **Output**: None
- **See Also**: [`fd_main_init`](<fd_boot.c.md#fd_main_init>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)