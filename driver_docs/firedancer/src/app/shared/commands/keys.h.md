<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Function prototypes and an external action for handling key command arguments and execution.

# Purpose
This C header file defines the interface for handling command-line arguments and executing a command related to keys. It includes the necessary configuration header `fd_config.h` and declares two functions: [`keys_cmd_args`](<#keys_cmd_args>), which processes command-line arguments, and [`keys_cmd_fn`](<#keys_cmd_fn>), which executes the command using the provided arguments and configuration. The file also declares an external variable `fd_action_keys` of type `action_t`, which likely represents an action or operation related to keys. The use of include guards prevents multiple inclusions of this header file.
# Imports and Dependencies

---
- `../fd_config.h`


# Global Variables

---
### fd\_action\_keys
- **Type**: ``action_t``
- **Description**: `fd_action_keys` is a global variable of type `action_t` declared in the header file. It is defined as an external variable, indicating that its definition is located in another source file.
- **Use**: Used to represent or store an action related to the command keys functionality.


# Function Declarations (Public API)

---
### keys\_cmd\_args<!-- {{#callable_declaration:keys_cmd_args}} -->
[View Source →](<../../../../../../src/app/shared/commands/keys.h#L6>)

Parses command-line arguments for key-related operations.
- **Description**: Use this function to process command-line arguments related to key operations, specifically for the 'new' and 'pubkey' subcommands. It modifies the argument count and vector to reflect the processed command and updates the `args` structure with the appropriate command and file path. Ensure that the argument count is at least 2 before calling this function. If the arguments do not match the expected format, the function logs an error and terminates the process.
- **Inputs**:
    - `pargc`: Pointer to the argument count. Must be at least 2. The function decrements this count as it processes arguments.
    - `pargv`: Pointer to the argument vector. The function advances this pointer as it processes arguments. Must not be null and must contain valid strings.
    - `args`: Pointer to an `args_t` structure where the function stores the parsed command and file path. Must not be null.
- **Output**: None
- **See Also**: [`keys_cmd_args`](<keys.c.md#keys_cmd_args>)  (Implementation)


---
### keys\_cmd\_fn<!-- {{#callable_declaration:keys_cmd_fn}} -->
[View Source →](<../../../../../../src/app/shared/commands/keys.h#L9>)

Executes a key-related command based on the provided arguments.
- **Description**: Use this function to execute a command related to key management, such as generating a new key pair or retrieving a public key. The function requires a valid `args_t` structure with a specified command and a `config_t` structure for configuration details. It must be called with a valid command in `args->keys.cmd`, either `CMD_NEW_KEY` or `CMD_PUBKEY`. If the command is not recognized, the function logs an error. Ensure that the `args` and `config` parameters are correctly initialized before calling this function.
- **Inputs**:
    - `args`: A pointer to an `args_t` structure containing the command and file path for key operations. The `args->keys.cmd` must be a valid command, either `CMD_NEW_KEY` or `CMD_PUBKEY`. The caller must ensure this structure is properly initialized and not null.
    - `config`: A pointer to a `config_t` structure containing configuration details such as user ID and group ID. The caller must ensure this structure is properly initialized and not null.
- **Output**: None
- **See Also**: [`keys_cmd_fn`](<keys.c.md#keys_cmd_fn>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)