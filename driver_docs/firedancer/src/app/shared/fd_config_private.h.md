<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions for extracting, loading, transforming, and validating configuration data in a non-thread-safe manner.

# Purpose
The code is a C header file that defines private functions for handling configuration data. It includes function prototypes for extracting, loading, transforming, and validating configuration data. The functions operate on a `config_t` structure, which is used to store configuration settings. The [`fd_config_extract_pod`](<#fd_config_extract_pod>) function extracts configuration data from a given pod into a typed configuration structure, logging any errors encountered. The [`fd_config_load_buf`](<#fd_config_load_buf>) function loads configuration data from a buffer into an output configuration structure. The [`fd_config_fill`](<#fd_config_fill>) function completes any missing fields in a raw configuration, such as converting user names to user IDs and group IDs. The [`fd_config_validate`](<#fd_config_validate>) function checks the validity of a configuration object, ensuring that all required options are present and valid.

The header file is not thread-safe, as it uses a global buffer, and it is intended for internal use within a larger application, as indicated by the use of the `FD_PROTOTYPES_BEGIN` and `FD_PROTOTYPES_END` macros. The functions are designed to handle errors by printing error messages and terminating the process, rather than returning error codes. This suggests that the functions are critical to the application's operation, and any configuration errors are considered fatal. The file does not define public APIs or external interfaces, as it is likely intended for use within a specific application or library.
# Imports and Dependencies

---
- `fd_config.h`


# Function Declarations (Public API)

---
### fd\_config\_extract\_pod<!-- {{#callable_declaration:fd_config_extract_pod}} -->
[View Source →](<../../../../../src/app/shared/fd_config_private.h#L6>)

Extracts configuration from a pod into a typed config structure.
- **Description**: Use this function to extract configuration data from a given pod into a `config_t` structure. It logs errors to the warning log and returns the `config_t` structure on success or `NULL` on error. The function does not initialize the fields of the `config_t` structure to zero, so ensure that the structure is properly initialized before calling this function. This function is not thread-safe as it uses a global buffer.
- **Inputs**:
    - `pod`: A pointer to an unsigned character array representing the pod from which to extract configuration data. Must not be null.
    - `config`: A pointer to a `config_t` structure where the extracted configuration will be stored. Must not be null and should be properly initialized before calling this function.
- **Output**: Returns a pointer to the `config_t` structure on success, or `NULL` on error.
- **See Also**: [`fd_config_extract_pod`](<fd_config_parse.c.md#fd_config_extract_pod>)  (Implementation)


---
### fd\_config\_load\_buf<!-- {{#callable_declaration:fd_config_load_buf}} -->
[View Source →](<../../../../../src/app/shared/fd_config_private.h#L19>)

Loads configuration data from a buffer into a configuration structure.
- **Description**: Use this function to parse configuration data from a buffer and store it in a configuration structure. The function reads the buffer containing configuration data in TOML format and extracts it into the provided configuration structure. It logs errors if parsing fails due to issues like buffer overflow, invalid keys, or duplicate entries. Ensure the buffer contains valid TOML data and that the configuration structure is ready to receive data. This function is not thread-safe as it uses a global buffer.
- **Inputs**:
    - `out`: A pointer to a `config_t` structure where the parsed configuration will be stored. Must not be null. The caller retains ownership.
    - `buf`: A pointer to a constant character array containing the configuration data in TOML format. Must not be null.
    - `sz`: The size of the buffer `buf` in bytes. Must be a valid size for the data in `buf`.
    - `path`: A pointer to a constant character array representing the path to the configuration file. Used for error logging purposes. Must not be null.
- **Output**: None
- **See Also**: [`fd_config_load_buf`](<fd_config.c.md#fd_config_load_buf>)  (Implementation)


---
### fd\_config\_fill<!-- {{#callable_declaration:fd_config_fill}} -->
[View Source →](<../../../../../src/app/shared/fd_config_private.h#L34>)

Fills in missing fields in a configuration structure.
- **Description**: Use this function to complete a configuration structure by filling in any missing fields based on the provided parameters and system environment. This function is useful after loading a raw configuration from a file, as it ensures all necessary fields are populated. It handles various configuration aspects such as network settings, user information, and logging preferences. The function will terminate the process with an error message if the configuration is invalid or if any required information cannot be determined.
- **Inputs**:
    - `config`: A pointer to an `fd_config_t` structure that will be filled with configuration data. Must not be null. The caller retains ownership.
    - `netns`: An integer indicating whether network namespace settings should be applied. Non-zero values enable network namespace configuration.
    - `is_local_cluster`: An integer indicating if the configuration is for a local cluster. Non-zero values apply local cluster settings.
- **Output**: None
- **See Also**: [`fd_config_fill`](<fd_config.c.md#fd_config_fill>)  (Implementation)


---
### fd\_config\_validate<!-- {{#callable_declaration:fd_config_validate}} -->
[View Source →](<../../../../../src/app/shared/fd_config_private.h#L48>)

Checks that the configuration object is valid.
- **Description**: Use this function to ensure that a given configuration object meets all necessary criteria before proceeding with further operations. It verifies that required options are present, string enumerations are valid, and that there are no conflicts such as overlapping ports. If any validation fails, the function will print an error message and terminate the process. This function does not return, so it is important to ensure that the configuration is expected to be valid before calling it.
- **Inputs**:
    - `config`: A pointer to a constant `fd_config_t` structure that contains the configuration to validate. The structure must be fully populated with the necessary configuration data. The function expects this pointer to be non-null and the data it points to must be valid and complete.
- **Output**: None
- **See Also**: [`fd_config_validate`](<fd_config.c.md#fd_config_validate>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)