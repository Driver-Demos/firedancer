<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for managing a vinyl key-value store's block stream, including data integrity, compaction, and encoding.

# Purpose
The code is a C header file that defines the structure and functionality of a "bstream" for a vinyl key-value store. A bstream is a sequence of blocks designed for direct I/O operations, which encodes client modifications to the key-value store. The bstream ensures that a contiguous range of blocks can reconstruct the store's state at any given point, with mechanisms to detect data corruption. The file defines the block size, control types, and encoding styles used in the bstream, and provides structures and functions for handling these blocks.

Key components include the `fd_vinyl_bstream_phdr_t` structure, which describes the layout of a bstream pair header, and the `fd_vinyl_bstream_block_t` union, which defines the binary layout for various block types. The file also includes functions for comparing sequence numbers, computing control fields, calculating hash values for data integrity, and testing the validity of bstream objects. The header file establishes a framework for managing the bstream's sequence space, synchronization, recovery, compaction, and compression, ensuring efficient and reliable storage and retrieval of key-value pairs.
# Imports and Dependencies

---
- `../fd_vinyl_base.h`


# Data Structures

---
### fd\_vinyl\_bstream\_phdr
- **Type**: ``struct``
- **Members**:
    - ``ctl``: Stores control information for the bstream pair header.
    - ``key``: Holds the key associated with the bstream pair.
    - ``info``: Contains additional application-specific information for the bstream pair.
- **Description**: Defines the layout of a bstream pair header, which includes control information, a key, and application-specific information. This structure is used to manage and encode key-value pairs in a bstream, ensuring data integrity and efficient storage.


---
### fd\_vinyl\_bstream\_phdr\_t
- **Type**: ``struct``
- **Members**:
    - ``ctl``: Control information for the bstream pair.
    - ``key``: Key associated with the bstream pair.
    - ``info``: Additional application-specific information for the bstream pair.
- **Description**: Defines the layout of a bstream pair header, including control information, key, and application-specific data, used in the context of a vinyl key-value store's bstream encoding.


---
### fd\_vinyl\_bstream\_block
- **Type**: `union`
- **Members**:
    - `ctl`: A control field used to interpret the block type and encoding style.
    - `phdr`: A pair header containing control, key, and application info.
    - `ftr`: A structure containing hash fields for trailing blocks.
    - `sync`: A structure for synchronization blocks with sequence and info fields.
    - `dead`: A structure for dead blocks with sequence and pair header fields.
    - `move`: A structure for move blocks with source and destination pair headers.
    - `part`: A structure for partition blocks with sequence and count fields.
    - `zpad`: An array of zeros for padding.
    - `data`: An array for arbitrary data storage.
- **Description**: The `fd_vinyl_bstream_block` union defines various block types used in a vinyl key-value store's block stream (bstream). Each block type serves a specific purpose, such as synchronization, deletion, movement, or partitioning of data. The union includes fields for control, headers, sequence numbers, and hash values to ensure data integrity and facilitate recovery and compaction processes. The block size is aligned to `FD_VINYL_BSTREAM_BLOCK_SZ` to support direct I/O operations.


---
### fd\_vinyl\_bstream\_block\_t
- **Type**: `union`
- **Members**:
    - ``ctl``: A control field used to interpret the block type and style.
    - ``phdr``: A structure representing the header of a bstream pair.
    - ``ftr``: A structure containing hash fields for data integrity.
    - ``sync``: A structure for synchronization blocks, containing sequence numbers and sync info.
    - ``dead``: A structure for dead blocks, containing sequence numbers and information about erased keys.
    - ``move``: A structure for move blocks, containing source and destination pair headers.
    - ``part``: A structure for partition blocks, containing sequence numbers and partition info.
    - ``zpad``: An array of zeros used for zero padding control blocks.
    - ``data``: An array for arbitrary data storage within a block.
- **Description**: `fd_vinyl_bstream_block_t` is a union that defines the binary layout for various types of blocks in a vinyl key-value store bstream. It includes different structures for handling control, synchronization, dead, move, and partition blocks, each with specific fields for managing sequence numbers, headers, and hash values. The union is aligned to the block size to ensure compatibility with direct I/O operations, and it provides mechanisms for data integrity and efficient storage management.


# Functions

---
### fd\_vinyl\_seq\_lt<!-- {{#callable:fd_vinyl_seq_lt}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L301>)

Compares two unsigned long sequence numbers, `a` and `b`, to determine if `a` is less than `b`, correctly handling wrap-around.
- **Inputs**:
    - `a`: An unsigned long integer representing the first sequence number to compare.
    - `b`: An unsigned long integer representing the second sequence number to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result of the subtraction is less than zero.
- **Output**: Returns an integer value of 1 if `a` is less than `b`, otherwise returns 0.


---
### fd\_vinyl\_seq\_gt<!-- {{#callable:fd_vinyl_seq_gt}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L307>)

Compares two unsigned long sequence numbers to determine if the first is greater than the second, accounting for potential wrap-around.
- **Inputs**:
    - `a`: The first sequence number to compare, of type `ulong`.
    - `b`: The second sequence number to compare, of type `ulong`.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a `long` type.
    - Checks if the result of the subtraction is greater than 0.
- **Output**: Returns an integer value of 1 if `a` is greater than `b`, otherwise returns 0.


---
### fd\_vinyl\_seq\_le<!-- {{#callable:fd_vinyl_seq_le}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L308>)

Compares two unsigned long integers `a` and `b` to determine if `a` is less than or equal to `b`, considering sequence number wrap-around.
- **Inputs**:
    - `a`: An unsigned long integer representing the first sequence number to compare.
    - `b`: An unsigned long integer representing the second sequence number to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result is less than or equal to zero.
- **Output**: Returns an integer value of 1 if `a` is less than or equal to `b`, otherwise returns 0.


---
### fd\_vinyl\_seq\_ge<!-- {{#callable:fd_vinyl_seq_ge}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L309>)

Compares two unsigned long integers `a` and `b` to determine if `a` is greater than or equal to `b`, considering potential wrap-around in sequence numbers.
- **Inputs**:
    - `a`: An unsigned long integer representing the first sequence number to compare.
    - `b`: An unsigned long integer representing the second sequence number to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result is greater than or equal to zero.
- **Output**: Returns an integer value of 1 if `a` is greater than or equal to `b`, otherwise returns 0.


---
### fd\_vinyl\_seq\_eq<!-- {{#callable:fd_vinyl_seq_eq}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L310>)

Compares two unsigned long integers to check if they are equal, considering sequence number wrap-around.
- **Inputs**:
    - `a`: The first unsigned long integer to compare.
    - `b`: The second unsigned long integer to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a long integer.
    - Checks if the result is equal to zero.
- **Output**: Returns an integer value of 1 if `a` and `b` are equal, otherwise returns 0.


---
### fd\_vinyl\_seq\_ne<!-- {{#callable:fd_vinyl_seq_ne}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L311>)

Compares two unsigned long integers to determine if they are not equal, considering potential wrap-around.
- **Inputs**:
    - `a`: The first unsigned long integer to compare.
    - `b`: The second unsigned long integer to compare.
- **Logic and Control Flow**:
    - Subtracts `b` from `a` and casts the result to a signed long integer.
    - Checks if the result is not equal to zero.
- **Output**: Returns an integer value of 1 if `a` and `b` are not equal, otherwise returns 0.


---
### fd\_vinyl\_bstream\_ctl<!-- {{#callable:fd_vinyl_bstream_ctl}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L318>)

Encodes a control field for a bstream by combining type, style, and value size into a single `ulong`.
- **Inputs**:
    - `type`: An integer representing the type of the bstream control field.
    - `style`: An integer representing the encoding style of the bstream control field.
    - `val_sz`: An unsigned long integer representing the size of the value to encode.
- **Logic and Control Flow**:
    - Convert `type` to `ulong` and assign it to the least significant 16 bits of the result.
    - Shift `style` left by 16 bits, convert to `ulong`, and assign it to bits 16-27 of the result.
    - Shift `val_sz` left by 28 bits and assign it to bits 28-63 of the result.
    - Combine all parts using bitwise OR to form the final control field.
- **Output**: Returns a `ulong` that encodes the type, style, and value size into a single control field.


---
### fd\_vinyl\_bstream\_ctl\_type<!-- {{#callable:fd_vinyl_bstream_ctl_type}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L325>)

Extracts the 16-bit type field from a 64-bit control value.
- **Inputs**:
    - `ctl`: A 64-bit unsigned long integer representing the control value from which to extract the type field.
- **Logic and Control Flow**:
    - Perform a bitwise AND operation between `ctl` and `65535UL` to isolate the lower 16 bits.
    - Cast the result to an integer and return it.
- **Output**: An integer representing the extracted 16-bit type field from the control value.


---
### fd\_vinyl\_bstream\_ctl\_style<!-- {{#callable:fd_vinyl_bstream_ctl_style}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L326>)

Extracts the encoding style from a control field in a bstream.
- **Inputs**:
    - `ctl`: A 64-bit unsigned long integer representing the control field from which the encoding style is extracted.
- **Logic and Control Flow**:
    - Shift the `ctl` value 16 bits to the right.
    - Apply a bitwise AND operation with `4095UL` to extract the 12-bit encoding style.
- **Output**: Returns an integer representing the encoding style extracted from the control field.


---
### fd\_vinyl\_bstream\_ctl\_sz<!-- {{#callable:fd_vinyl_bstream_ctl_sz}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L327>)

Extracts the size component from a control field by shifting the bits to the right by 28 positions.
- **Inputs**:
    - `ctl`: An unsigned long integer representing the control field from which the size is extracted.
- **Logic and Control Flow**:
    - Shift the input `ctl` to the right by 28 bits.
    - Return the result of the shift operation.
- **Output**: An unsigned long integer representing the size extracted from the control field.


---
### fd\_vinyl\_bstream\_pair\_sz<!-- {{#callable:fd_vinyl_bstream_pair_sz}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L334>)

Calculates the byte size of a bstream pair, ensuring it aligns with the block size.
- **Inputs**:
    - `val_esz`: The encoded value byte size of the pair, expected to be in the range [0, 2^48).
- **Logic and Control Flow**:
    - Calculate the total size by adding the size of `fd_vinyl_bstream_phdr_t`, `val_esz`, and `FD_VINYL_BSTREAM_FTR_SZ`.
    - Align the calculated size to the nearest multiple of `FD_VINYL_BSTREAM_BLOCK_SZ` using `fd_ulong_align_up`.
- **Output**: Returns the aligned byte size of the bstream pair as a positive multiple of `FD_VINYL_BSTREAM_BLOCK_SZ`.


---
### fd\_vinyl\_bstream\_hash<!-- {{#callable:fd_vinyl_bstream_hash}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L345>)

Computes a 64-bit hash of a buffer using a seed, or returns the seed if the buffer size is zero.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the initial value for the hash computation.
    - `buf`: A pointer to a constant `fd_vinyl_bstream_block_t` structure representing the buffer to hash.
    - `buf_sz`: A 64-bit unsigned integer representing the size of the buffer in bytes, which must be a multiple of `FD_VINYL_BSTREAM_BLOCK_SZ`.
- **Logic and Control Flow**:
    - Checks if `buf_sz` is non-zero using `FD_LIKELY` macro.
    - If `buf_sz` is non-zero, calls `fd_hash` with `seed`, `buf`, and `buf_sz` to compute the hash.
    - If `buf_sz` is zero, returns the `seed` without modification.
- **Output**: Returns a 64-bit unsigned integer representing the computed hash or the seed if the buffer size is zero.


---
### fd\_vinyl\_bstream\_block\_hash<!-- {{#callable:fd_vinyl_bstream_block_hash}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L358>)

Initializes the hash fields of a bstream block using a given seed.
- **Inputs**:
    - `seed`: A 64-bit unsigned long integer used as the initial value for hashing.
    - `block`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the bstream block to be hashed.
- **Logic and Control Flow**:
    - Initialize `hash_trail` with the value of `seed`.
    - Compute `hash_blocks` by calling [`fd_vinyl_bstream_hash`](<#fd_vinyl_bstream_hash>) with `hash_trail`, `block`, and `FD_VINYL_BSTREAM_BLOCK_SZ` as arguments.
    - Assign `hash_trail` to `block->ftr.hash_trail`.
    - Assign `hash_blocks` to `block->ftr.hash_blocks`.
- **Output**: The function does not return a value; it modifies the `block` in place by setting its hash fields.
- **Functions Called**:
    - [`fd_vinyl_bstream_hash`](<#fd_vinyl_bstream_hash>)


---
### fd\_vinyl\_bstream\_block\_test<!-- {{#callable:fd_vinyl_bstream_block_test}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L378>)

Validates the data integrity of a bstream block by comparing its hash values against expected values.
- **Inputs**:
    - ``seed``: The data integrity seed used for hash validation.
    - ``block``: A pointer to the `fd_vinyl_bstream_block_t` structure representing the bstream block to test.
- **Logic and Control Flow**:
    - Retrieve `hash_trail` and `hash_blocks` from the block's footer.
    - Set the block's `hash_trail` and `hash_blocks` fields to zero.
    - Check if `hash_trail` is not equal to `seed` or if the computed hash of the block does not match `hash_blocks`.
    - If either condition is true, return `FD_VINYL_ERR_CORRUPT`.
    - If both conditions are false, return `FD_VINYL_SUCCESS`.
- **Output**: Returns `FD_VINYL_SUCCESS` if the block's hashes are valid, otherwise returns `FD_VINYL_ERR_CORRUPT`.
- **Functions Called**:
    - [`fd_vinyl_bstream_hash`](<#fd_vinyl_bstream_hash>)


# Function Declarations (Public API)

---
### fd\_vinyl\_bstream\_pair\_hash<!-- {{#callable_declaration:fd_vinyl_bstream_pair_hash}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L402>)

Clears and populates hash fields in a bstream pair.
- **Description**: Use this function to initialize the hash fields of a bstream pair for data integrity. It clears the footer and zero padding regions of the pair before computing and setting the hash values. Ensure that the pair header and value fields are correctly populated, particularly the encoded value size, before calling this function. This function is essential for maintaining the integrity of the bstream data structure.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the data integrity seed for hashing. It must be a valid seed value.
    - `phdr`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the pair header. It must point to a correctly sized and aligned memory region with properly populated header and value fields. The caller retains ownership and must ensure it is not null.
- **Output**: None
- **See Also**: [`fd_vinyl_bstream_pair_hash`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_pair_hash>)  (Implementation)


---
### fd\_vinyl\_bstream\_pair\_test<!-- {{#callable_declaration:fd_vinyl_bstream_pair_test}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L420>)

Validates the integrity of a vinyl bstream pair.
- **Description**: Use this function to check if a vinyl bstream pair is well-formed and has valid data integrity hashes. It is important to ensure that the `hdr` parameter is not null and that `buf_sz` is at least the size of a bstream block. The function returns a human-readable error message if the pair is not valid, or `NULL` if it is valid. This function is useful for detecting data corruption in a vinyl key-value store.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the data integrity seed for hashing operations.
    - `seq`: A 64-bit unsigned integer representing the sequence number of the bstream object. It is not used in this function.
    - `hdr`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the header of the bstream pair. Must not be null.
    - `buf_sz`: A 64-bit unsigned integer representing the size of the buffer. Must be at least `FD_VINYL_BSTREAM_BLOCK_SZ`.
- **Output**: Returns `NULL` if the bstream pair is valid. Otherwise, returns a constant string describing the validation error.
- **See Also**: [`fd_vinyl_bstream_pair_test`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_pair_test>)  (Implementation)


---
### fd\_vinyl\_bstream\_pair\_test\_fast<!-- {{#callable_declaration:fd_vinyl_bstream_pair_test_fast}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L426>)

Validates the integrity of a bstream pair's header and footer blocks.
- **Description**: Use this function to check the integrity of a bstream pair by validating its header and footer blocks. It is useful for fast iteration over bstream pairs, as it omits testing any interior blocks. Ensure that the header and footer pointers are not null before calling this function. The function returns a human-readable error message if the pair is not well-formed, or NULL if it is valid. The footer's hash fields will be zeroed on return.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the data integrity seed for hashing operations.
    - `seq`: A 64-bit unsigned integer representing the sequence number of the bstream object. It is not used in this function.
    - `hdr`: A pointer to a constant `fd_vinyl_bstream_block_t` representing the header block of the pair. Must not be null.
    - `ftr`: A pointer to a `fd_vinyl_bstream_block_t` representing the footer block of the pair. Must not be null.
- **Output**: Returns a constant character pointer to a human-readable error message if the pair is not well-formed, or NULL if the pair is valid. The footer's hash fields will be zeroed on return.
- **See Also**: [`fd_vinyl_bstream_pair_test_fast`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_pair_test_fast>)  (Implementation)


---
### fd\_vinyl\_bstream\_dead\_test<!-- {{#callable_declaration:fd_vinyl_bstream_dead_test}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L432>)

Checks the validity of a dead block in a bstream.
- **Description**: Use this function to verify the integrity and correctness of a dead block within a bstream. It checks various conditions such as control type, sequence alignment, and information size to ensure the block is well-formed. Call this function when you need to validate a dead block's structure and data integrity. The function returns a descriptive error message if any validation fails, or NULL if the block is valid. Ensure the block is not NULL before calling this function.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the data integrity seed for hashing operations. It must be a valid seed value.
    - `seq`: A 64-bit unsigned integer representing the sequence number of the block. It must be aligned to `FD_VINYL_BSTREAM_BLOCK_SZ`.
    - `block`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the dead block to test. Must not be NULL. The function will return an error message if this parameter is NULL.
- **Output**: Returns a constant character pointer to a string describing the error if the block is invalid, or NULL if the block is valid.
- **See Also**: [`fd_vinyl_bstream_dead_test`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_dead_test>)  (Implementation)


---
### fd\_vinyl\_bstream\_move\_test<!-- {{#callable_declaration:fd_vinyl_bstream_move_test}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L437>)

Validates a move block in a vinyl bstream.
- **Description**: Use this function to check if a move block in a vinyl bstream is correctly formed and matches the expected sequence and destination. It verifies the control type, sequence alignment, source and destination types, and other constraints. Call this function when you need to ensure data integrity before processing or moving blocks. It returns a descriptive error message if any validation fails, or NULL if the block is valid.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the data integrity seed. It must be a valid seed for the bstream.
    - `seq`: A 64-bit unsigned integer representing the sequence number of the block. It must be aligned to `FD_VINYL_BSTREAM_BLOCK_SZ`.
    - `block`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the move block to validate. Must not be null.
    - `dst`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the destination block. Must not be null.
- **Output**: Returns a constant character pointer to a string describing the validation error, or NULL if the block is valid.
- **See Also**: [`fd_vinyl_bstream_move_test`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_move_test>)  (Implementation)


---
### fd\_vinyl\_bstream\_part\_test<!-- {{#callable_declaration:fd_vinyl_bstream_part_test}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L443>)

Validates a partition block in a vinyl bstream.
- **Description**: Use this function to check if a partition block in a vinyl bstream is correctly formed. It verifies various attributes of the block, such as sequence numbers, control fields, and counts, to ensure they meet expected conditions. This function must be called with a valid block pointer and is typically used in scenarios where data integrity and correctness of the bstream are critical. If the block is not valid, the function returns a descriptive error message; otherwise, it returns NULL.
- **Inputs**:
    - `seed`: A 64-bit unsigned integer used as the data integrity seed for the bstream. It must be a valid seed value.
    - `seq`: A 64-bit unsigned integer representing the sequence number of the block. It must be aligned with the bstream's block size.
    - `block`: A pointer to a `fd_vinyl_bstream_block_t` structure representing the partition block to test. Must not be null. The function will return an error message if this parameter is null.
- **Output**: Returns a constant character pointer to a string describing the issue if the block is not well-formed, or NULL if the block is valid.
- **See Also**: [`fd_vinyl_bstream_part_test`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_part_test>)  (Implementation)


---
### fd\_vinyl\_bstream\_zpad\_test<!-- {{#callable_declaration:fd_vinyl_bstream_zpad_test}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L448>)

Checks if a block is zero-padded.
- **Description**: Use this function to verify that a given block in a bstream is completely zero-padded. This is useful for ensuring data integrity and detecting any unexpected data in the zero padding area of a block. The function must be called with a valid block pointer. If the block pointer is null, the function will return an error message indicating the issue. This function does not modify the input block.
- **Inputs**:
    - `seed`: An unsigned long integer representing the seed value. This parameter is not used in the function.
    - `seq`: An unsigned long integer representing the sequence number. This parameter is not used in the function.
    - `block`: A pointer to a `fd_vinyl_bstream_block_t` structure. This must not be null. The function checks the zero padding of this block.
- **Output**: Returns a constant character pointer. If the block is not zero-padded, it returns a string describing the issue. If the block is zero-padded, it returns NULL.
- **See Also**: [`fd_vinyl_bstream_zpad_test`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_zpad_test>)  (Implementation)


---
### fd\_vinyl\_bstream\_ctl\_style\_cstr<!-- {{#callable_declaration:fd_vinyl_bstream_ctl_style_cstr}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L461>)

Returns a string representation of a given encoding style.
- **Description**: Use this function to obtain a human-readable string that represents the encoding style of a bstream. This is useful for logging or debugging purposes where you need to display the encoding style in a readable format. The function will return a string corresponding to the style if it is recognized, or "unk" if the style is not valid. The function guarantees a non-null return value.
- **Inputs**:
    - `style`: An integer representing the encoding style. Valid values are `FD_VINYL_BSTREAM_CTL_STYLE_RAW` and `FD_VINYL_BSTREAM_CTL_STYLE_LZ4`. If the value does not match any known style, the function returns "unk".
- **Output**: A constant character pointer to a string representing the encoding style. Possible return values are "raw", "lz4", or "unk".
- **See Also**: [`fd_vinyl_bstream_ctl_style_cstr`](<fd_vinyl_bstream.c.md#fd_vinyl_bstream_ctl_style_cstr>)  (Implementation)


---
### fd\_cstr\_to\_vinyl\_bstream\_ctl\_style<!-- {{#callable_declaration:fd_cstr_to_vinyl_bstream_ctl_style}} -->
[View Source →](<../../../../../src/vinyl/bstream/fd_vinyl_bstream.h#L464>)

Converts a string to a vinyl bstream control style identifier.
- **Description**: Use this function to map a string representation of a vinyl bstream control style to its corresponding integer identifier. This is useful when you need to interpret or set the encoding style of a bstream block based on a string input. The function expects a non-null string input and will return a specific integer identifier for recognized styles. If the input string is not recognized or is null, the function returns -1, indicating an error or unsupported style.
- **Inputs**:
    - `cstr`: A constant character pointer representing the string to convert. Must not be null. Valid strings are "raw" and "lz4". If the string is null or not recognized, the function returns -1.
- **Output**: Returns an integer corresponding to the vinyl bstream control style identifier. Returns -1 if the input string is null or not recognized.
- **See Also**: [`fd_cstr_to_vinyl_bstream_ctl_style`](<fd_vinyl_bstream.c.md#fd_cstr_to_vinyl_bstream_ctl_style>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)