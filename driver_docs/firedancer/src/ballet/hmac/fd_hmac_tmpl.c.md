<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines a template for HMAC functions using a specified hash algorithm, with configurable parameters.

# Purpose
The code defines a family of functions for implementing HMAC (Hash-based Message Authentication Code) using a specified hash function. It is designed to be flexible by allowing the user to define the hash algorithm (`HASH_ALG`), the size of the hash output (`HASH_SZ`), and the internal block size of the hash function (`HASH_BLOCK_SZ`). These definitions are necessary for the code to compile, as indicated by the preprocessor error directives. The code uses these definitions to construct function names and manage the HMAC process, which involves compressing and padding the key, performing an inner hash calculation, and then an outer hash calculation to produce the final HMAC value.

The function [`HMAC_FN`](<#hmac_fn>) is the main component, which takes input data, a key, and their respective sizes, and outputs the HMAC value into the provided hash buffer. The function follows the HMAC algorithm as specified in RFC 2104, using the defined hash function to process the data. The code uses preprocessor macros to dynamically generate function names based on the specified hash algorithm, ensuring that the correct hash functions are called. This code is intended to be included in other C files where the specific hash algorithm is defined, making it a reusable component for HMAC generation with different hash functions.
# Functions

---
### HMAC\_FN<!-- {{#callable:HMAC_FN}} -->
[View Source →](<../../../../../src/ballet/hmac/fd_hmac_tmpl.c#L29>)

Computes the HMAC (Hash-based Message Authentication Code) for given data using a specified hash algorithm.
- **Inputs**:
    - `data`: Pointer to the input data for which the HMAC is to be computed.
    - `data_sz`: Size of the input data in bytes.
    - `_key`: Pointer to the key used for HMAC computation.
    - `key_sz`: Size of the key in bytes.
    - `hash`: Pointer to the buffer where the computed HMAC will be stored.
- **Logic and Control Flow**:
    - Initialize a buffer `key` with zeros and align it to 32 bytes.
    - If `key_sz` is greater than `HASH_BLOCK_SZ`, hash the key and store the result in `key`, then set `key_sz` to `HASH_SZ`. Otherwise, copy `_key` to `key`.
    - Initialize `key_ipad` and `key_opad` with specific padding values (0x36 and 0x5c respectively) and XOR them with `key`.
    - Create a new hash context `sha` and initialize it.
    - Append `key_ipad` and `data` to the hash context, finalize the hash, and store the result in `hash`.
    - Reinitialize the hash context `sha`.
    - Append `key_opad` and the previously computed hash to the hash context, finalize the hash, and store the result in `hash`.
- **Output**: Returns a pointer to the buffer containing the computed HMAC.



---
Made with ❤️ by [Driver](https://www.driver.ai/)