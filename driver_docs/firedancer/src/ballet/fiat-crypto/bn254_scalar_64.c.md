<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implementation of arithmetic operations for the bn254_scalar curve using word-by-word Montgomery reduction.

# Purpose
The code in `bn254_scalar_64.c` is an implementation of arithmetic operations for the BN254 scalar field using the Montgomery representation. This file is part of a cryptographic library that provides functions for performing arithmetic operations on field elements, which are crucial for cryptographic algorithms such as elliptic curve cryptography. The operations are implemented for a 64-bit architecture, as indicated by the `machine_wordsize = 64` comment.

The file defines several types and functions to handle field elements in both Montgomery and non-Montgomery domains. Key functions include [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>), [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>), and [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>), which perform addition with carry, subtraction with borrow, and multiplication, respectively. The file also includes functions for converting between Montgomery and non-Montgomery representations, such as [`fiat_bn254_scalar_to_montgomery`](<#fiat_bn254_scalar_to_montgomery>) and [`fiat_bn254_scalar_from_montgomery`](<#fiat_bn254_scalar_from_montgomery>). Additionally, it provides utility functions like [`fiat_bn254_scalar_nonzero`](<#fiat_bn254_scalar_nonzero>) to check if a field element is non-zero, and [`fiat_bn254_scalar_to_bytes`](<#fiat_bn254_scalar_to_bytes>) and [`fiat_bn254_scalar_from_bytes`](<#fiat_bn254_scalar_from_bytes>) for serialization and deserialization of field elements. The code is auto-generated and optimized for performance, ensuring that all operations respect the bounds and properties of the field elements.
# Imports and Dependencies

---
- `stdint.h`


# Global Variables

---
### fiat\_bn254\_scalar\_int128
- **Type**: ``typedef signed __int128``
- **Description**: Defines `fiat_bn254_scalar_int128` as a signed 128-bit integer type using the `__int128` type extension. This type is used to represent large signed integers in computations.
- **Use**: Used in arithmetic operations that require 128-bit signed integer precision.


---
### fiat\_bn254\_scalar\_uint128
- **Type**: ``unsigned __int128``
- **Description**: This is a type definition for an unsigned 128-bit integer. It is used to represent large integer values that require more than the standard 64-bit integer size.
- **Use**: Used in arithmetic operations that require handling of large numbers, such as in cryptographic computations.


# Functions

---
### fiat\_bn254\_scalar\_addcarryx\_u64<!-- {{#callable:fiat_bn254_scalar_addcarryx_u64}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L62>)

Performs addition of two 64-bit unsigned integers with a carry input and produces a carry output.
- **Inputs**:
    - ``out1``: Pointer to a `uint64_t` where the result of the addition will be stored.
    - ``out2``: Pointer to a `fiat_bn254_scalar_uint1` where the carry-out will be stored.
    - ``arg1``: A `fiat_bn254_scalar_uint1` representing the carry-in for the addition.
    - ``arg2``: A `uint64_t` representing the first operand for the addition.
    - ``arg3``: A `uint64_t` representing the second operand for the addition.
- **Logic and Control Flow**:
    - Declare a `fiat_bn254_scalar_uint128` variable `x1` to hold the intermediate sum of `arg1`, `arg2`, and `arg3`.
    - Calculate `x1` as the sum of `arg1`, `arg2`, and `arg3`.
    - Extract the lower 64 bits of `x1` and store it in `x2`.
    - Extract the upper bits of `x1` (carry) and store it in `x3`.
    - Store `x2` in the location pointed to by `out1`.
    - Store `x3` in the location pointed to by `out2`.
- **Output**: The function outputs the sum of `arg1`, `arg2`, and `arg3` modulo 2^64 in `out1` and the carry-out in `out2`.


---
### fiat\_bn254\_scalar\_subborrowx\_u64<!-- {{#callable:fiat_bn254_scalar_subborrowx_u64}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L88>)

Performs subtraction with borrow on two 64-bit unsigned integers and a borrow flag, producing a result and a new borrow flag.
- **Inputs**:
    - `out1`: Pointer to a 64-bit unsigned integer where the result of the subtraction will be stored.
    - `out2`: Pointer to a `fiat_bn254_scalar_uint1` where the new borrow flag will be stored.
    - `arg1`: A `fiat_bn254_scalar_uint1` representing the initial borrow flag.
    - `arg2`: A 64-bit unsigned integer, the minuend.
    - `arg3`: A 64-bit unsigned integer, the subtrahend.
- **Logic and Control Flow**:
    - Calculate the intermediate result `x1` by subtracting `arg1` and `arg3` from `arg2` using 128-bit arithmetic to handle potential overflow.
    - Extract the borrow flag `x2` by right-shifting `x1` by 64 bits, which indicates if the subtraction resulted in a negative value.
    - Extract the lower 64 bits of `x1` as `x3`, which is the result of the subtraction without the borrow.
    - Store `x3` in the location pointed to by `out1`.
    - Calculate the new borrow flag by subtracting `x2` from 0 and store it in the location pointed to by `out2`.
- **Output**: The function does not return a value but outputs the result of the subtraction in `out1` and the new borrow flag in `out2`.


---
### fiat\_bn254\_scalar\_mulx\_u64<!-- {{#callable:fiat_bn254_scalar_mulx_u64}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L113>)

Performs a 64-bit multiplication of two unsigned integers and returns the result as a double-width product.
- **Inputs**:
    - `out1`: Pointer to a `uint64_t` where the lower 64 bits of the product will be stored.
    - `out2`: Pointer to a `uint64_t` where the upper 64 bits of the product will be stored.
    - `arg1`: First 64-bit unsigned integer operand.
    - `arg2`: Second 64-bit unsigned integer operand.
- **Logic and Control Flow**:
    - Multiply `arg1` and `arg2` to get a 128-bit result stored in `x1`.
    - Extract the lower 64 bits of `x1` and store in `x2`.
    - Extract the upper 64 bits of `x1` and store in `x3`.
    - Assign `x2` to the location pointed by `out1`.
    - Assign `x3` to the location pointed by `out2`.
- **Output**: The function outputs the lower and upper 64 bits of the 128-bit product through the pointers `out1` and `out2`, respectively.


---
### fiat\_bn254\_scalar\_cmovznz\_u64<!-- {{#callable:fiat_bn254_scalar_cmovznz_u64}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L137>)

Performs a conditional move between two 64-bit unsigned integers based on a condition flag.
- **Inputs**:
    - `out1`: A pointer to a `uint64_t` where the result will be stored.
    - `arg1`: A `fiat_bn254_scalar_uint1` condition flag that determines which value to select.
    - `arg2`: A `uint64_t` value to select if `arg1` is 0.
    - `arg3`: A `uint64_t` value to select if `arg1` is 1.
- **Logic and Control Flow**:
    - Initialize `x1` as the logical negation of `arg1` to determine the condition.
    - Compute `x2` as the bitwise AND of the negated `x1` and the maximum 64-bit unsigned integer value, effectively creating a mask based on `arg1`.
    - Compute `x3` as the bitwise OR of `x2` AND `arg3` with the bitwise NOT of `x2` AND `arg2`, selecting `arg3` if `arg1` is 1, otherwise `arg2`.
    - Store the result in the location pointed to by `out1`.
- **Output**: The function does not return a value but stores the result in the location pointed to by `out1`.


---
### fiat\_bn254\_scalar\_mul<!-- {{#callable:fiat_bn254_scalar_mul}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L158>)

Multiplies two field elements in the Montgomery domain and reduces the result modulo a prime.
- **Inputs**:
    - ``out1``: A pointer to a `fiat_bn254_scalar_montgomery_domain_field_element` where the result will be stored.
    - ``arg1``: A constant pointer to a `fiat_bn254_scalar_montgomery_domain_field_element` representing the first operand.
    - ``arg2``: A constant pointer to a `fiat_bn254_scalar_montgomery_domain_field_element` representing the second operand.
- **Logic and Control Flow**:
    - Initialize local variables to store intermediate results and carry bits.
    - Perform a series of multiplications using [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>) to compute partial products of `arg1` and `arg2`.
    - Use [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>) to accumulate the results of the multiplications, handling carry bits appropriately.
    - Multiply the intermediate result by a constant using [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>) to prepare for reduction modulo the prime.
    - Perform additional additions with carry to accumulate the results of the reduction process.
    - Use [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>) to subtract the prime modulus, ensuring the result is reduced modulo the prime.
    - Use [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>) to conditionally select the correct result based on the borrow flag.
    - Store the final reduced result in `out1`.
- **Output**: The function does not return a value but stores the result in the `out1` parameter, which is a field element in the Montgomery domain.
- **Functions Called**:
    - [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>)
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)


---
### fiat\_bn254\_scalar\_square<!-- {{#callable:fiat_bn254_scalar_square}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L513>)

Squares a field element in the Montgomery domain for the BN254 scalar field.
- **Inputs**:
    - `out1`: A pointer to an array of four `uint64_t` elements where the result will be stored.
    - `arg1`: A constant pointer to an array of four `uint64_t` elements representing the input field element in the Montgomery domain.
- **Logic and Control Flow**:
    - Initialize local variables to store intermediate results and carry bits.
    - Extract individual components of the input field element `arg1`.
    - Perform a series of multiplications and additions to compute the square of the input element, using the [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>) and [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>) functions.
    - Reduce the result modulo the prime modulus using Montgomery reduction, involving further multiplications and additions.
    - Use conditional moves to ensure the result is within the field's bounds.
    - Store the final result in the `out1` array.
- **Output**: The function does not return a value but stores the squared result in the `out1` array.
- **Functions Called**:
    - [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>)
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)


---
### fiat\_bn254\_scalar\_add<!-- {{#callable:fiat_bn254_scalar_add}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L869>)

Adds two field elements in the Montgomery domain and reduces the result modulo the prime modulus.
- **Inputs**:
    - `out1`: A pointer to the output field element in the Montgomery domain.
    - `arg1`: A pointer to the first input field element in the Montgomery domain.
    - `arg2`: A pointer to the second input field element in the Montgomery domain.
- **Logic and Control Flow**:
    - Initialize variables for intermediate results and carry flags.
    - Perform addition with carry for each of the four 64-bit limbs of the input field elements `arg1` and `arg2`.
    - Subtract the prime modulus from the result using subtraction with borrow to ensure the result is less than the modulus.
    - Use conditional move to select the correct result based on the borrow flag, ensuring the result is reduced modulo the prime modulus.
    - Store the final result in the output field element `out1`.
- **Output**: The function does not return a value but stores the result in the `out1` parameter, which is a field element in the Montgomery domain.
- **Functions Called**:
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)


---
### fiat\_bn254\_scalar\_sub<!-- {{#callable:fiat_bn254_scalar_sub}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L922>)

Subtracts two field elements in the Montgomery domain and ensures the result is within the field's bounds.
- **Inputs**:
    - `out1`: A `fiat_bn254_scalar_montgomery_domain_field_element` array to store the result of the subtraction.
    - `arg1`: A `fiat_bn254_scalar_montgomery_domain_field_element` array representing the minuend.
    - `arg2`: A `fiat_bn254_scalar_montgomery_domain_field_element` array representing the subtrahend.
- **Logic and Control Flow**:
    - Initialize variables for intermediate results and borrow flags.
    - Perform subtraction with borrow for each element of the input arrays `arg1` and `arg2` using [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>), storing results in `x1`, `x3`, `x5`, and `x7`.
    - Check if the final borrow flag `x8` is set, indicating a negative result, and conditionally set `x9` to a mask of all 1s or 0s using [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>).
    - Add the modulus to the result if the borrow flag was set, using [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>) to ensure the result is non-negative and within the field's bounds.
    - Store the final result in the `out1` array.
- **Output**: The result of the subtraction is stored in the `out1` array, which is a `fiat_bn254_scalar_montgomery_domain_field_element`.
- **Functions Called**:
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)


---
### fiat\_bn254\_scalar\_opp<!-- {{#callable:fiat_bn254_scalar_opp}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L965>)

Negates a field element in the Montgomery domain for the BN254 scalar field.
- **Inputs**:
    - `out1`: A pointer to an array of four `uint64_t` elements where the result will be stored.
    - `arg1`: A constant pointer to an array of four `uint64_t` elements representing the input field element in the Montgomery domain.
- **Logic and Control Flow**:
    - Initialize variables `x1` to `x17` for intermediate calculations.
    - Perform a series of subtraction operations using [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>) to compute the negation of `arg1` with respect to zero, storing results in `x1`, `x3`, `x5`, and `x7`.
    - Use [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>) to conditionally select between zero and the maximum 64-bit unsigned integer based on the borrow from the last subtraction, storing the result in `x9`.
    - Add the results of the subtractions to the modulus components using [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>), storing the results in `x10`, `x12`, `x14`, and `x16`.
    - Store the final results in the `out1` array.
- **Output**: The output is stored in the `out1` array, which contains the negated field element in the Montgomery domain.
- **Functions Called**:
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)


---
### fiat\_bn254\_scalar\_from\_montgomery<!-- {{#callable:fiat_bn254_scalar_from_montgomery}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1008>)

Converts a field element from the Montgomery domain to the standard representation.
- **Inputs**:
    - `out1`: A pointer to an array of four `uint64_t` where the result will be stored.
    - `arg1`: A constant pointer to an array of four `uint64_t` representing the field element in the Montgomery domain.
- **Logic and Control Flow**:
    - Initialize variables for intermediate calculations.
    - Extract the first element of `arg1` and perform a series of multiplications and additions to compute intermediate values `x2` to `x16`.
    - Add the first element of `arg1` to `x10` and store the result in `x18`.
    - Continue adding intermediate results to compute `x20`, `x22`, and `x24`.
    - Add the second element of `arg1` to `x20` and store the result in `x26`.
    - Repeat the process for the remaining elements of `arg1`, updating `x28`, `x30`, `x32`, `x34`, `x36`, `x38`, `x40`, `x42`, `x44`, `x46`, `x48`, `x50`, `x52`, `x54`, `x56`, `x58`, `x60`, `x62`, `x64`, `x66`, `x68`, `x70`, `x72`, `x74`, `x76`, `x78`, `x80`, `x82`, `x84`, `x86`, `x88`, `x90`, `x92`, `x94`, `x96`, `x98`, `x100`, `x102`, `x104`, `x106`, `x108`, `x110`, `x112`, `x114`, `x116`, `x118`, `x120`, `x122`, `x124`, `x126`, `x128`, `x130`.
    - Perform a series of subtractions to compute `x117`, `x119`, `x121`, `x123`, `x125`.
    - Use conditional moves to select the final values for `x127`, `x128`, `x129`, `x130` based on the result of the subtraction.
    - Store the final results in `out1`.
- **Output**: The function outputs a field element in the standard representation, stored in the array `out1`.
- **Functions Called**:
    - [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>)
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)


---
### fiat\_bn254\_scalar\_to\_montgomery<!-- {{#callable:fiat_bn254_scalar_to_montgomery}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1223>)

Converts a field element from the non-Montgomery domain to the Montgomery domain using a specific modulus.
- **Inputs**:
    - `out1`: A pointer to an array of four `uint64_t` elements where the result will be stored.
    - `arg1`: A constant pointer to an array of four `uint64_t` elements representing the input field element in the non-Montgomery domain.
- **Logic and Control Flow**:
    - Initialize variables `x1` to `x195` for intermediate calculations.
    - Extract elements from `arg1` into `x1`, `x2`, `x3`, and `x4`.
    - Perform a series of multiplications and additions using [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>) and [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>) to compute intermediate results.
    - Multiply the intermediate result by a constant using [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>) to obtain `x19` and `x20`.
    - Perform further multiplications and additions to compute the Montgomery representation.
    - Use [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>) to ensure the result is within the modulus.
    - Use [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>) to conditionally move values based on the borrow flag.
    - Store the final result in `out1`.
- **Output**: The function outputs the Montgomery domain representation of the input field element in the array `out1`.
- **Functions Called**:
    - [`fiat_bn254_scalar_mulx_u64`](<#fiat_bn254_scalar_mulx_u64>)
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)


---
### fiat\_bn254\_scalar\_nonzero<!-- {{#callable:fiat_bn254_scalar_nonzero}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1540>)

Outputs a single non-zero word if the input array is non-zero, otherwise outputs zero.
- **Inputs**:
    - `out1`: A pointer to a `uint64_t` where the result will be stored.
    - `arg1`: An array of four `uint64_t` values representing the input to check for non-zero status.
- **Logic and Control Flow**:
    - Declare a local variable `x1` of type `uint64_t`.
    - Compute the bitwise OR of all elements in `arg1` and store the result in `x1`.
    - Assign the value of `x1` to the location pointed to by `out1`.
- **Output**: A single `uint64_t` value stored at the location pointed to by `out1`, which is non-zero if any element of `arg1` is non-zero, otherwise zero.


---
### fiat\_bn254\_scalar\_selectznz<!-- {{#callable:fiat_bn254_scalar_selectznz}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1559>)

Selects between two 256-bit values based on a condition.
- **Inputs**:
    - `out1`: An array of four 64-bit unsigned integers where the result is stored.
    - `arg1`: A single-bit unsigned integer that acts as the condition for selection.
    - `arg2`: An array of four 64-bit unsigned integers representing the first value to select from.
    - `arg3`: An array of four 64-bit unsigned integers representing the second value to select from.
- **Logic and Control Flow**:
    - Calls [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>) four times, once for each 64-bit segment of the input arrays `arg2` and `arg3`.
    - Each call to [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>) selects between the corresponding elements of `arg2` and `arg3` based on `arg1`.
    - Stores the result of each selection in the corresponding element of `out1`.
- **Output**: The selected 256-bit value is stored in `out1`, with each 64-bit segment determined by the condition `arg1`.
- **Functions Called**:
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)


---
### fiat\_bn254\_scalar\_to\_bytes<!-- {{#callable:fiat_bn254_scalar_to_bytes}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1587>)

Converts a 256-bit scalar from a 4-element array of 64-bit integers to a 32-byte array in little-endian order.
- **Inputs**:
    - `out1`: A 32-byte array where the function will store the serialized output.
    - `arg1`: A 4-element array of 64-bit unsigned integers representing the scalar to be serialized.
- **Logic and Control Flow**:
    - Extracts each 64-bit integer from `arg1` and processes it in little-endian order.
    - For each 64-bit integer, extracts 8 bytes by masking and shifting operations.
    - Stores each extracted byte into the `out1` array in sequence.
- **Output**: A 32-byte array `out1` containing the serialized scalar in little-endian order.


---
### fiat\_bn254\_scalar\_from\_bytes<!-- {{#callable:fiat_bn254_scalar_from_bytes}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1756>)

Converts a 32-byte array into a 4-element array of 64-bit unsigned integers, interpreting the input as a little-endian number.
- **Inputs**:
    - `out1`: A 4-element array of 64-bit unsigned integers where the result will be stored.
    - `arg1`: A 32-byte array representing a number in little-endian order.
- **Logic and Control Flow**:
    - Initialize 60 local variables to store intermediate results.
    - Extract each byte from `arg1` and shift it to its correct position to form 64-bit integers.
    - Combine the shifted bytes to form four 64-bit integers, each representing a segment of the input number.
    - Store the resulting 64-bit integers in the `out1` array.
- **Output**: A 4-element array of 64-bit unsigned integers representing the input number in little-endian order.


---
### fiat\_bn254\_scalar\_set\_one<!-- {{#callable:fiat_bn254_scalar_set_one}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1891>)

Sets the output field element to the representation of one in the Montgomery domain for the BN254 scalar field.
- **Inputs**:
    - `out1`: A `fiat_bn254_scalar_montgomery_domain_field_element` array of size 4 that will hold the output value.
- **Logic and Control Flow**:
    - Assigns the constant `0xac96341c4ffffffb` to `out1[0]`.
    - Assigns the constant `0x36fc76959f60cd29` to `out1[1]`.
    - Assigns the constant `0x666ea36f7879462e` to `out1[2]`.
    - Assigns the constant `0xe0a77c19a07df2f` to `out1[3]`.
- **Output**: The function does not return a value but modifies the `out1` array to represent the number one in the Montgomery domain.


---
### fiat\_bn254\_scalar\_msat<!-- {{#callable:fiat_bn254_scalar_msat}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1908>)

Returns the saturated representation of the prime modulus for the BN254 scalar field.
- **Inputs**:
    - `out1`: An array of 5 `uint64_t` elements where the function will store the saturated representation of the prime modulus.
- **Logic and Control Flow**:
    - Assigns the constant value `0x43e1f593f0000001` to `out1[0]`.
    - Assigns the constant value `0x2833e84879b97091` to `out1[1]`.
    - Assigns the constant value `0xb85045b68181585d` to `out1[2]`.
    - Assigns the constant value `0x30644e72e131a029` to `out1[3]`.
    - Assigns the value `0x0` to `out1[4]`.
- **Output**: The function outputs the saturated representation of the prime modulus in the `out1` array.


---
### fiat\_bn254\_scalar\_divstep\_precomp<!-- {{#callable:fiat_bn254_scalar_divstep_precomp}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1926>)

Initializes a 4-element array with precomputed constants for Bernstein-Yang inversion in Montgomery form.
- **Inputs**:
    - `out1`: A 4-element array of type `uint64_t` where the function will store the precomputed constants.
- **Logic and Control Flow**:
    - Assigns the constant `0x99ddb8c9f8b62554` to `out1[0]`.
    - Assigns the constant `0x9d24a395a4811e46` to `out1[1]`.
    - Assigns the constant `0x241215ce0ed81b0` to `out1[2]`.
    - Assigns the constant `0x2e6a72a316e4cfb6` to `out1[3]`.
- **Output**: The function does not return a value; it modifies the `out1` array in place.


---
### fiat\_bn254\_scalar\_divstep<!-- {{#callable:fiat_bn254_scalar_divstep}} -->
[View Source →](<../../../../../src/ballet/fiat-crypto/bn254_scalar_64.c#L1963>)

Computes a divstep operation for the BN254 scalar field, updating multiple output arrays based on the input conditions.
- **Inputs**:
    - `out1`: Pointer to a `uint64_t` where the function stores the result of the divstep operation.
    - `out2`: Array of 5 `uint64_t` elements where the function stores the updated value of `arg2` or `arg3` based on conditions.
    - `out3`: Array of 5 `uint64_t` elements where the function stores the result of a computation involving `arg2` and `arg3`.
    - `out4`: Array of 4 `uint64_t` elements where the function stores the result of a computation involving `arg4` and `arg5`.
    - `out5`: Array of 4 `uint64_t` elements where the function stores the result of a computation involving `arg4` and `arg5`.
    - `arg1`: A `uint64_t` input value used in the divstep computation.
    - `arg2`: Array of 5 `uint64_t` elements representing one of the input values for the divstep operation.
    - `arg3`: Array of 5 `uint64_t` elements representing another input value for the divstep operation.
    - `arg4`: Array of 4 `uint64_t` elements representing one of the input values for the divstep operation.
    - `arg5`: Array of 4 `uint64_t` elements representing another input value for the divstep operation.
- **Logic and Control Flow**:
    - Initialize variables and perform bitwise operations to determine the condition `x3` based on `arg1` and `arg3`.
    - Use conditional move operations ([`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)) to select values for `x6` to `x11` based on `x3`.
    - Compute the negation of `arg2` and store results in `x12` to `x20`.
    - Use conditional move operations to select values for `x22` to `x26` based on `x3`.
    - Perform arithmetic operations to compute `x31` to `x38` and check if the result is less than a constant, updating `x39` to `x47`.
    - Compute the negation of `arg4` and store results in `x53` to `x60`, then adjust based on a condition to get `x62` to `x68`.
    - Use conditional move operations to select values for `x70` to `x73` based on `x3`.
    - Determine if `x22` is odd and use conditional move operations to adjust `x75` to `x79`.
    - Perform arithmetic operations to compute `x80` to `x89` and adjust based on conditions to get `x94` to `x101`.
    - Check if the result is less than a constant, updating `x102` to `x110`.
    - Compute the final result for `out1` and shift values for `out3` to get `x114` to `x118`.
    - Use conditional move operations to select final values for `out4` and `out5` based on conditions.
- **Output**: The function updates the values of `out1`, `out2`, `out3`, `out4`, and `out5` based on the divstep computation.
- **Functions Called**:
    - [`fiat_bn254_scalar_addcarryx_u64`](<#fiat_bn254_scalar_addcarryx_u64>)
    - [`fiat_bn254_scalar_cmovznz_u64`](<#fiat_bn254_scalar_cmovznz_u64>)
    - [`fiat_bn254_scalar_subborrowx_u64`](<#fiat_bn254_scalar_subborrowx_u64>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)