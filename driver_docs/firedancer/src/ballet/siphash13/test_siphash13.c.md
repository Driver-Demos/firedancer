<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests and benchmarks the fd_siphash13 hashing function for performance and correctness.

# Purpose
The code is a C program designed to test and benchmark the `fd_siphash13` hashing function. It includes a main function that initializes the hashing context with specific keys and then performs a series of tests to verify the correctness of the `fd_siphash13` implementation against predefined test vectors. The test vectors are stored in the `fd_siphash13_test_vector` array, and the program checks that the computed hash values match these expected results using the `FD_TEST` macro.

Additionally, the program benchmarks the performance of the `fd_siphash13` function in different modes: incremental, incremental with a fast append, and streamlined. It measures the throughput in gigabits per second (Gbps) for each mode by timing the hashing of a fixed-size message over a large number of iterations. The results are logged using the `FD_LOG_NOTICE` macro. The program uses functions such as `fd_siphash13_init`, `fd_siphash13_append`, `fd_siphash13_append_fast`, and `fd_siphash13_fini` to manage the hashing process, and it concludes by calling `fd_halt` to clean up before exiting.
# Imports and Dependencies

---
- `fd_siphash13.h`
- `../fd_ballet.h`


# Global Variables

---
### fd\_siphash13\_test\_vector
- **Type**: ``ulong[]``
- **Description**: An array of unsigned long integers that contains 64 predefined test vectors for the SipHash-1-3 algorithm. Each element in the array is a 64-bit hash value.
- **Use**: Used to verify the correctness of the SipHash-1-3 implementation by comparing computed hash values against these known test vectors.


# Functions

---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../../src/ballet/siphash13/test_siphash13.c#L74>)

Initializes, tests, and benchmarks the `fd_siphash13` hashing algorithm.
- **Inputs**:
    - `argc`: The number of command-line arguments.
    - `argv`: The array of command-line arguments.
- **Logic and Control Flow**:
    - Call `fd_boot` to initialize the environment with `argc` and `argv`.
    - Initialize two 64-bit keys `k0` and `k1` for the hashing algorithm.
    - Initialize a `fd_siphash13_t` structure with `fd_siphash13_init` using the keys `k0` and `k1`.
    - Iterate over a buffer of size 64, compute the hash for each size from 0 to 63, and verify it against a predefined test vector.
    - Append each byte to the hash state using [`fd_siphash13_append`](<fd_siphash13.c.md#fd_siphash13_append>).
    - Log the start of benchmarking for incremental hashing.
    - Benchmark the incremental hashing by repeatedly appending and finalizing a 32-byte message, logging the throughput.
    - Repeat the benchmarking process using [`fd_siphash13_append_fast`](<fd_siphash13.c.md#fd_siphash13_append_fast>) for faster appending.
    - Benchmark the streamlined hashing by directly hashing a 32-byte message and logging the throughput.
    - Log a 'pass' message and call `fd_halt` to terminate the program.
- **Output**: Returns 0 to indicate successful execution.
- **Functions Called**:
    - [`fd_siphash13_hash`](<fd_siphash13.c.md#fd_siphash13_hash>)
    - [`fd_siphash13_fini`](<fd_siphash13.c.md#fd_siphash13_fini>)
    - [`fd_siphash13_append`](<fd_siphash13.c.md#fd_siphash13_append>)
    - [`fd_siphash13_append_fast`](<fd_siphash13.c.md#fd_siphash13_append_fast>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)