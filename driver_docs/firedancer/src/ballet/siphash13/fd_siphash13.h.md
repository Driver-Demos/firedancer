<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

APIs for SipHash1-3, including initialization, appending data, and finalizing the hash calculation.

# Purpose
The code provides an implementation of the SipHash1-3 algorithm, which is a cryptographic hash function. It is designed to offer a balance between security and performance, with one compression round and three finalization rounds. The code is a C header file that defines the data structures and function prototypes necessary for using the SipHash1-3 algorithm. It includes a private structure `fd_siphash13_private` that holds the internal state of the hash computation, and a type definition `fd_siphash13_t` for ease of use.

The file defines several functions for initializing, updating, and finalizing the hash computation. The `fd_siphash13_init` function initializes the hash state with two key values. The [`fd_siphash13_append`](<#fd_siphash13_append>) and [`fd_siphash13_append_fast`](<#fd_siphash13_append_fast>) functions allow data to be added to the hash computation, with the latter optimized for aligned data. The [`fd_siphash13_fini`](<#fd_siphash13_fini>) function completes the hash computation and returns the resulting hash value. Additionally, the [`fd_siphash13_hash`](<#fd_siphash13_hash>) function provides a streamlined interface for hashing small messages in a single call. The file also includes a macro `FD_SIPHASH_ROUND` that defines the core round function of the SipHash1-3 algorithm.
# Imports and Dependencies

---
- `../fd_ballet_base.h`


# Data Structures

---
### fd\_siphash13\_private
- **Type**: ``struct``
- **Members**:
    - ``v``: An array of four `ulong` values used in the SipHash1-3 algorithm.
    - ``n``: A `ulong` value that likely represents a counter or state variable.
    - ``buf``: An array of eight `uchar` values used as a buffer in the hashing process.
- **Description**: Defines a private data structure for the SipHash1-3 algorithm, which is a cryptographic hash function with one compression round and three finalization rounds. The structure is aligned to 128 bytes and contains internal state variables and a buffer to facilitate the hashing process.


---
### fd\_siphash13\_t
- **Type**: ``struct``
- **Members**:
    - ``v``: An array of four `ulong` values used in the SipHash1-3 algorithm.
    - ``n``: A `ulong` value representing the number of bytes processed.
    - ``buf``: A buffer of 8 `uchar` values used to store partial input data.
- **Description**: The `fd_siphash13_t` structure is used to perform the SipHash1-3 hashing algorithm, which involves one compression round and three finalization rounds. It contains an array `v` for internal state, a counter `n` for tracking processed bytes, and a buffer `buf` for handling input data. The structure is aligned to 128 bytes to optimize performance.


# Function Declarations (Public API)

---
### fd\_siphash13\_append<!-- {{#callable_declaration:fd_siphash13_append}} -->
[View Source →](<../../../../../src/ballet/siphash13/fd_siphash13.h#L58>)

Appends data to an ongoing SipHash1-3 calculation.
- **Description**: Use this function to add data to an existing SipHash1-3 hash calculation. It must be called after initializing the hash context with `fd_siphash13_init` and before finalizing the hash with `fd_siphash13_fini`. The function handles data of any size, buffering as necessary to process in 8-byte blocks. It is optimized for well-aligned data but can handle unaligned data as well. Ensure that the `sip` parameter is a valid pointer to an initialized `fd_siphash13_t` structure.
- **Inputs**:
    - `sip`: A pointer to an `fd_siphash13_t` structure representing the hash context. Must not be null and must be initialized with `fd_siphash13_init` before use. The caller retains ownership.
    - `data`: A pointer to the data to append to the hash. Must not be null. The caller retains ownership of the data.
    - `sz`: The size in bytes of the data to append. Can be any non-negative value.
- **Output**: Returns a pointer to the `fd_siphash13_t` structure used for the hash calculation, allowing for function chaining.
- **See Also**: [`fd_siphash13_append`](<fd_siphash13.c.md#fd_siphash13_append>)  (Implementation)


---
### fd\_siphash13\_append\_fast<!-- {{#callable_declaration:fd_siphash13_append_fast}} -->
[View Source →](<../../../../../src/ballet/siphash13/fd_siphash13.h#L66>)

Appends data to a SipHash1-3 state with alignment constraints.
- **Description**: Use this function to add data to an ongoing SipHash1-3 calculation when both the current byte count (`sip->n`) and the size of the data (`sz`) are multiples of 8. This function is optimized for aligned data and should be used when these alignment conditions are met to ensure efficient processing. It updates the internal state of the SipHash1-3 context with the provided data.
- **Inputs**:
    - `sip`: A pointer to an `fd_siphash13_t` structure representing the current SipHash1-3 state. Must not be null and must be properly initialized before calling this function. The `n` field must be a multiple of 8.
    - `data`: A pointer to the data to append. Must not be null and should point to a memory region that is aligned to 8 bytes.
    - `sz`: The size of the data in bytes. Must be a multiple of 8.
- **Output**: Returns a pointer to the updated `fd_siphash13_t` structure.
- **See Also**: [`fd_siphash13_append_fast`](<fd_siphash13.c.md#fd_siphash13_append_fast>)  (Implementation)


---
### fd\_siphash13\_fini<!-- {{#callable_declaration:fd_siphash13_fini}} -->
[View Source →](<../../../../../src/ballet/siphash13/fd_siphash13.h#L74>)

Completes a SipHash1-3 calculation and returns the hash value.
- **Description**: Use this function to finalize a SipHash1-3 hash computation after appending all data. It processes any remaining data in the buffer and performs the finalization rounds to produce the hash value. This function must be called after initializing the hash state with `fd_siphash13_init` and appending data with `fd_siphash13_append` or `fd_siphash13_append_fast`. Ensure that the `sip` parameter is correctly initialized and contains the data to be hashed.
- **Inputs**:
    - `sip`: A pointer to an `fd_siphash13_t` structure that holds the current state of the hash computation. Must not be null and must be initialized with `fd_siphash13_init` before calling this function. The structure should contain all data to be hashed.
- **Output**: Returns an `ulong` representing the final hash value of the data processed.
- **See Also**: [`fd_siphash13_fini`](<fd_siphash13.c.md#fd_siphash13_fini>)  (Implementation)


---
### fd\_siphash13\_hash<!-- {{#callable_declaration:fd_siphash13_hash}} -->
[View Source →](<../../../../../src/ballet/siphash13/fd_siphash13.h#L84>)

Computes a SipHash1-3 hash for the given data.
- **Description**: Use this function to compute a SipHash1-3 hash of the specified data with a single call. It is optimized for small message sizes and combines initialization, data appending, and finalization into one operation. This function requires a pointer to the data, the size of the data in bytes, and two 64-bit keys. It is important to ensure that the data pointer is valid and that the data size accurately reflects the number of bytes to hash. The function returns a 64-bit hash value.
- **Inputs**:
    - `data`: Pointer to the data to hash. Must not be null. The caller retains ownership.
    - `sz`: Size of the data in bytes. Must accurately represent the number of bytes to hash.
    - `k0`: First 64-bit key used in the hash computation.
    - `k1`: Second 64-bit key used in the hash computation.
- **Output**: Returns a 64-bit unsigned long integer representing the computed hash value.
- **See Also**: [`fd_siphash13_hash`](<fd_siphash13.c.md#fd_siphash13_hash>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)