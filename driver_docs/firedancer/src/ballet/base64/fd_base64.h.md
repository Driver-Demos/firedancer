<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Methods for encoding and decoding data between binary and Base64 using the standard Base64 alphabet.

# Purpose
The `fd_base64.h` header file provides functionality for encoding and decoding data using the Base64 encoding scheme, as specified in RFC 4648 with padding. It includes macros `FD_BASE64_ENC_SZ` and `FD_BASE64_DEC_SZ` to calculate the size of the encoded and decoded data, respectively, which are useful for memory allocation and compile-time evaluations. The file declares functions such as [`fd_base64_encode`](<#fd_base64_encode>) for encoding binary data to Base64, [`fd_cstr_append_base64`](<#fd_cstr_append_base64>) for appending Base64 encoded data to a string, and [`fd_base64_decode`](<#fd_base64_decode>) for decoding Base64 encoded strings back to binary data. These functions facilitate the conversion between binary data and Base64 encoded strings, supporting operations that require data serialization and deserialization.
# Imports and Dependencies

---
- `../fd_ballet_base.h`


# Functions

---
### fd\_cstr\_append\_base64<!-- {{#callable:fd_cstr_append_base64}} -->
[View Source →](<../../../../../src/ballet/base64/fd_base64.h#L43>)

Appends Base64 encoded data to a given character buffer.
- **Inputs**:
    - ``p``: A pointer to a character buffer where the Base64 encoded data will be appended. It must have enough space for at least `FD_BASE64_ENC_SZ(sz)` characters and a final terminating '\0'.
    - ``s``: A pointer to the input data (as an array of unsigned characters) that will be encoded in Base64.
    - ``sz``: The size of the input data in bytes. If `sz` is 0, the function does nothing and returns `p`.
- **Logic and Control Flow**:
    - Check if `sz` is 0 using `FD_UNLIKELY`; if true, return `p` immediately as no operation is needed.
    - Call [`fd_base64_encode`](<fd_base64.c.md#fd_base64_encode>) to encode the data from `s` into Base64 and store it in `p`.
    - Calculate the number of characters written by [`fd_base64_encode`](<fd_base64.c.md#fd_base64_encode>) and store it in `n`.
    - Return a pointer to the position in `p` immediately after the last written character.
- **Output**: Returns a pointer to the position in the buffer `p` immediately after the appended Base64 encoded data.
- **Functions Called**:
    - [`fd_base64_encode`](<fd_base64.c.md#fd_base64_encode>)


# Function Declarations (Public API)

---
### fd\_base64\_encode<!-- {{#callable_declaration:fd_base64_encode}} -->
[View Source →](<../../../../../src/ballet/base64/fd_base64.h#L25>)

Encodes binary data into a Base64 string.
- **Description**: Use this function to convert binary data into a Base64 encoded string. It encodes the input data using the standard Base64 alphabet as specified in RFC 4648, including padding characters if necessary. The function does not append a null terminator to the output, so the result will not be a valid C string. Ensure that the output buffer has enough space to hold the encoded data, which can be calculated using the `FD_BASE64_ENC_SZ` macro. This function is useful when you need to represent binary data in a text format, such as for embedding in text-based protocols or data interchange formats.
- **Inputs**:
    - `out`: A pointer to a character array where the encoded Base64 string will be written. The caller must ensure that this buffer is large enough to hold the encoded data, which can be determined using the `FD_BASE64_ENC_SZ` macro. The buffer must not be null.
    - `in`: A pointer to the binary data to encode. The data is treated as a constant and will not be modified. The pointer must not be null.
    - `in_sz`: The number of bytes in the input data to encode. Must be a non-negative value.
- **Output**: Returns the number of characters written to the output buffer, including any padding characters.
- **See Also**: [`fd_base64_encode`](<fd_base64.c.md#fd_base64_encode>)  (Implementation)


---
### fd\_base64\_decode<!-- {{#callable_declaration:fd_base64_decode}} -->
[View Source →](<../../../../../src/ballet/base64/fd_base64.h#L57>)

Decodes Base64 encoded data into binary format.
- **Description**: Use this function to convert Base64 encoded data back into its original binary form. It requires the input data to be aligned to a multiple of four characters, as per Base64 encoding standards. The function handles standard Base64 padding and will return an error if the input is not properly padded or contains invalid characters. It is important to ensure that the output buffer is large enough to hold the decoded data, which can be calculated using the `FD_BASE64_DEC_SZ` macro. The function returns the number of bytes written to the output buffer on success, or -1 on failure.
- **Inputs**:
    - `out`: A pointer to a buffer where the decoded binary data will be written. The buffer must be large enough to hold the decoded data, which can be determined using the `FD_BASE64_DEC_SZ` macro. The caller retains ownership of the buffer.
    - `in`: A pointer to a null-terminated string containing the Base64 encoded data. The input must be aligned to a multiple of four characters and may include standard Base64 padding. The caller retains ownership of the string.
    - `in_sz`: The length of the Base64 encoded data in characters. It must be a multiple of four, and the function will adjust for padding if present.
- **Output**: Returns the number of bytes written to the output buffer on success, or -1 if the input is invalid or improperly padded.
- **See Also**: [`fd_base64_decode`](<fd_base64.c.md#fd_base64_decode>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)