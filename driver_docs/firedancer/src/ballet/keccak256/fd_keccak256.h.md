<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

APIs for Keccak256 hashing, including initialization, appending data, and finalizing the hash.

# Purpose
This C header file defines the interface for Keccak256 hashing operations. It provides macros and function prototypes for managing the memory alignment and footprint required for a `fd_keccak256_t` structure, which represents the state of a Keccak256 hash calculation. The file includes definitions for constants such as `FD_KECCAK256_ALIGN`, `FD_KECCAK256_FOOTPRINT`, and `FD_KECCAK256_HASH_SZ`, which specify memory alignment, memory footprint, and hash size, respectively. The functions [`fd_keccak256_new`](<#fd_keccak256_new>), [`fd_keccak256_join`](<#fd_keccak256_join>), [`fd_keccak256_leave`](<#fd_keccak256_leave>), and [`fd_keccak256_delete`](<#fd_keccak256_delete>) manage the lifecycle of a Keccak256 calculation state, while [`fd_keccak256_init`](<#fd_keccak256_init>), [`fd_keccak256_append`](<#fd_keccak256_append>), and [`fd_keccak256_fini`](<#fd_keccak256_fini>) handle the initialization, data appending, and finalization of the hash calculation. Additionally, [`fd_keccak256_hash`](<#fd_keccak256_hash>) provides a convenience function to perform a complete hash operation in a single call.
# Imports and Dependencies

---
- `../fd_ballet_base.h`


# Data Structures

---
### fd\_keccak256\_private
- **Type**: ``struct``
- **Members**:
    - ``state``: An array of 25 unsigned long integers representing the internal state of the Keccak256 hashing algorithm.
    - ``magic``: An unsigned long integer that holds a constant value `FD_KECCAK256_MAGIC` to identify the structure.
    - ``padding_start``: An unsigned long integer indicating the number of buffered bytes, ranging from 0 to `FD_KECCAK256_BUF_MAX`.
- **Description**: Defines a private data structure for managing the state of a Keccak256 hashing operation, ensuring proper alignment and padding for performance optimization.


---
### fd\_keccak256\_t
- **Type**: ``struct``
- **Members**:
    - ``state``: An array of 25 `ulong` values representing the internal state of the Keccak256 calculation.
    - ``magic``: A `ulong` value set to `FD_KECCAK256_MAGIC` to identify the structure.
    - ``padding_start``: A `ulong` value indicating the number of buffered bytes, ranging from 0 to `FD_KECCAK256_BUF_MAX`.
- **Description**: An opaque handle for the state of a Keccak256 hash calculation, aligned to 128 bytes for performance optimization. It includes an internal state array, a magic number for structure identification, and a padding start value to track buffered bytes.


# Function Declarations (Public API)

---
### fd\_keccak256\_align<!-- {{#callable_declaration:fd_keccak256_align}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L50>)

Returns the alignment requirement for a Keccak256 state.
- **Description**: Use this function to obtain the alignment requirement for a memory region that will hold a `fd_keccak256_t` structure. This alignment is necessary to ensure proper memory access and performance when working with Keccak256 hashing. The alignment value is a positive integer power of 2, recommended to be at least double the cache line size to reduce false sharing. This function is useful for compile-time declarations and memory allocations that need to meet specific alignment constraints.
- **Inputs**: None
- **Output**: Returns an unsigned long integer representing the alignment requirement for a `fd_keccak256_t` structure.
- **See Also**: [`fd_keccak256_align`](<fd_keccak256.c.md#fd_keccak256_align>)  (Implementation)


---
### fd\_keccak256\_footprint<!-- {{#callable_declaration:fd_keccak256_footprint}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L58>)

Returns the memory footprint required for a Keccak256 state.
- **Description**: Use this function to determine the size of the memory region needed to store a `fd_keccak256_t` structure. This is useful for allocating memory when setting up a Keccak256 hashing operation. The function does not require any parameters and can be called at any time to retrieve the constant footprint size.
- **Inputs**: None
- **Output**: Returns an unsigned long integer representing the memory footprint size in bytes.
- **See Also**: [`fd_keccak256_footprint`](<fd_keccak256.c.md#fd_keccak256_footprint>)  (Implementation)


---
### fd\_keccak256\_new<!-- {{#callable_declaration:fd_keccak256_new}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L61>)

Allocates and initializes a new Keccak256 hashing state in shared memory.
- **Description**: Use this function to allocate and initialize a new Keccak256 hashing state in a provided shared memory region. This function must be called before any hashing operations are performed. The shared memory region must be aligned to `FD_KECCAK256_ALIGN` and have a size of at least `FD_KECCAK256_FOOTPRINT`. If the provided memory is null or misaligned, the function returns null and logs a warning. Ensure that the memory region is properly aligned and non-null before calling this function.
- **Inputs**:
    - `shmem`: A pointer to a shared memory region where the Keccak256 state will be initialized. The memory must be aligned to `FD_KECCAK256_ALIGN` and have a size of at least `FD_KECCAK256_FOOTPRINT`. The caller retains ownership of the memory. If null or misaligned, the function returns null.
- **Output**: Returns a pointer to the initialized Keccak256 state on success, or null if the input is invalid.
- **See Also**: [`fd_keccak256_new`](<fd_keccak256.c.md#fd_keccak256_new>)  (Implementation)


---
### fd\_keccak256\_join<!-- {{#callable_declaration:fd_keccak256_join}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L64>)

Joins a shared memory region to a Keccak256 calculation state.
- **Description**: Use this function to associate a shared memory region with a Keccak256 calculation state. The shared memory region must be properly aligned and initialized with the correct magic number. This function checks for null pointers, alignment, and a valid magic number to ensure the memory region is suitable for use. If any of these checks fail, the function returns null and logs a warning. This function is typically called after creating a new Keccak256 state with `fd_keccak256_new` and before performing any hashing operations.
- **Inputs**:
    - `shsha`: A pointer to a shared memory region intended to hold a `fd_keccak256_t` structure. The memory must be aligned according to `fd_keccak256_align()` and initialized with the correct magic number (`FD_KECCAK256_MAGIC`). Must not be null. If the pointer is null, misaligned, or the magic number is incorrect, the function returns null.
- **Output**: Returns a pointer to a `fd_keccak256_t` structure if successful, or null if the input is invalid.
- **See Also**: [`fd_keccak256_join`](<fd_keccak256.c.md#fd_keccak256_join>)  (Implementation)


---
### fd\_keccak256\_leave<!-- {{#callable_declaration:fd_keccak256_leave}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L67>)

Leaves a Keccak256 calculation state.
- **Description**: Use this function to leave a Keccak256 calculation state that was previously joined. It is important to ensure that the `sha` parameter is a valid pointer to a `fd_keccak256_t` structure that represents a current local join to a Keccak256 calculation state. This function should be called when the calculation state is no longer needed, allowing for proper cleanup and resource management. If the `sha` parameter is null, the function will log a warning and return null.
- **Inputs**:
    - `sha`: A pointer to a `fd_keccak256_t` structure representing a current local join to a Keccak256 calculation state. Must not be null. If null, the function logs a warning and returns null.
- **Output**: Returns a void pointer to the `fd_keccak256_t` structure if successful, or null if the input is invalid.
- **See Also**: [`fd_keccak256_leave`](<fd_keccak256.c.md#fd_keccak256_leave>)  (Implementation)


---
### fd\_keccak256\_delete<!-- {{#callable_declaration:fd_keccak256_delete}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L70>)

Deletes a Keccak256 hashing state.
- **Description**: Use this function to delete a Keccak256 hashing state that was previously initialized. It checks if the provided pointer is non-null, properly aligned, and has a valid magic number before deleting the state. This function must be called after the hashing state is no longer needed to ensure proper cleanup. If any of the checks fail, the function logs a warning and returns NULL.
- **Inputs**:
    - `shsha`: A pointer to the Keccak256 hashing state to delete. Must not be null, must be aligned according to `fd_keccak256_align()`, and must have a valid magic number. If these conditions are not met, the function returns NULL.
- **Output**: Returns the pointer to the deleted hashing state if successful, or NULL if the input is invalid.
- **See Also**: [`fd_keccak256_delete`](<fd_keccak256.c.md#fd_keccak256_delete>)  (Implementation)


---
### fd\_keccak256\_init<!-- {{#callable_declaration:fd_keccak256_init}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L80>)

Initializes a Keccak256 hashing state.
- **Description**: Use this function to start a new Keccak256 hashing operation. It prepares the provided hashing state for a new calculation by resetting any existing state. Ensure that the `sha` parameter is a valid and locally joined Keccak256 calculation state with no concurrent modifications during execution. This function discards any preexisting state from previous calculations.
- **Inputs**:
    - `sha`: A pointer to a `fd_keccak256_t` structure representing the hashing state. It must be a valid, locally joined state with no concurrent modifications. The caller retains ownership and must ensure it is not null.
- **Output**: Returns the initialized `fd_keccak256_t` pointer, ready for a new hashing operation.
- **See Also**: [`fd_keccak256_init`](<fd_keccak256.c.md#fd_keccak256_init>)  (Implementation)


---
### fd\_keccak256\_append<!-- {{#callable_declaration:fd_keccak256_append}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L98>)

Appends data to an in-progress Keccak256 hash calculation.
- **Description**: Use this function to add data to an ongoing Keccak256 hash calculation. Ensure that the `sha` parameter is a valid, locally joined Keccak256 calculation state with no concurrent modifications. The `data` parameter can be null if `sz` is zero, indicating no data to append. This function updates the state of the hash calculation and returns the updated state. For optimal performance, append as many bytes as possible at once, preferably in multiples of 64 bytes.
- **Inputs**:
    - `sha`: A pointer to a `fd_keccak256_t` structure representing the current state of a Keccak256 calculation. Must be a valid, locally joined state with no concurrent modifications.
    - `data`: A pointer to the data to append. Can be null if `sz` is zero. The data is not modified and no reference is retained after the function returns.
    - `sz`: The number of bytes to append from `data`. Must be zero or more. If zero, `data` can be null and no data is appended.
- **Output**: Returns the updated `fd_keccak256_t` state after appending the data.
- **See Also**: [`fd_keccak256_append`](<fd_keccak256.c.md#fd_keccak256_append>)  (Implementation)


---
### fd\_keccak256\_fini<!-- {{#callable_declaration:fd_keccak256_fini}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L113>)

Completes a Keccak256 hash calculation and stores the result.
- **Description**: Use this function to finalize a Keccak256 hash calculation after appending all data. It must be called after `fd_keccak256_init` and any necessary `fd_keccak256_append` calls. This function writes the final hash to the specified memory location and clears the calculation state, making it ready for a new calculation. Ensure no concurrent operations modify the state during execution.
- **Inputs**:
    - `sha`: A pointer to a `fd_keccak256_t` structure representing the current state of a Keccak256 calculation. Must be a valid local join with no concurrent modifications.
    - `hash`: A pointer to a 32-byte memory region where the final hash will be stored. Must be valid and writable.
- **Output**: Returns the `hash` pointer, with the 32-byte buffer populated with the hash result.
- **See Also**: [`fd_keccak256_fini`](<fd_keccak256.c.md#fd_keccak256_fini>)  (Implementation)


---
### fd\_keccak256\_hash<!-- {{#callable_declaration:fd_keccak256_hash}} -->
[View Source →](<../../../../../src/ballet/keccak256/fd_keccak256.h#L124>)

Computes the Keccak256 hash of the input data.
- **Description**: Use this function to compute the Keccak256 hash of a given data buffer. It initializes a new hashing state, processes the input data, and finalizes the hash computation, storing the result in the provided output buffer. This function is a convenience wrapper that combines initialization, data appending, and finalization into a single call. Ensure that the output buffer is large enough to hold the 32-byte hash result.
- **Inputs**:
    - `data`: Pointer to the input data to hash. Must not be null if sz is greater than 0. Caller retains ownership.
    - `sz`: Size of the input data in bytes. Can be zero, in which case data can be null.
    - `hash`: Pointer to a memory region where the 32-byte hash result will be stored. Must not be null and must have space for at least 32 bytes. Caller retains ownership.
- **Output**: Returns the pointer to the hash buffer containing the 32-byte hash result.
- **See Also**: [`fd_keccak256_hash`](<fd_keccak256.c.md#fd_keccak256_hash>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)