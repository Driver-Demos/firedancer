<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Header file for preparing sBPF programs for execution, including parsing, dynamic relocation, and error handling.

# Purpose
The `fd_sbpf_loader.h` file is a C header file that defines the structures, constants, and function prototypes necessary for loading and preparing sBPF (Solana Berkeley Packet Filter) programs for execution. The primary purpose of this code is to handle the parsing and dynamic relocation of sBPF programs, which are typically stored in ELF (Executable and Linkable Format) binaries. The loader is designed to work with specific sections of the ELF file, ignoring the program header table and instead loading sections at predefined addresses while performing necessary dynamic relocations.

Key components of this file include error type definitions for handling various parsing and loading errors, structures for managing ELF information (`fd_sbpf_elf_info_t`) and loaded programs (`fd_sbpf_program_t`), and a map for syscall management (`fd_sbpf_syscalls_t`). The file also provides function prototypes for operations such as parsing ELF files ([`fd_sbpf_elf_peek`](<#fd_sbpf_elf_peek>)), creating and loading sBPF programs ([`fd_sbpf_program_new`](<#fd_sbpf_program_new>), [`fd_sbpf_program_load`](<#fd_sbpf_program_load>)), and managing program memory. Additionally, it includes inline functions to check for feature support based on the sBPF version. This header file is intended to be included in other C source files that implement the actual logic for these operations, providing a public API for working with sBPF programs.
# Imports and Dependencies

---
- `../../util/fd_util_base.h`
- `../elf/fd_elf64.h`
- `../../util/tmpl/fd_set_dynamic.c`
- `../../util/tmpl/fd_map.c`


# Data Structures

---
### fd\_sbpf\_syscalls
- **Type**: ``struct``
- **Members**:
    - `key`: Murmur3-32 hash of the function name.
    - `func`: Function pointer to the syscall implementation.
    - `name`: Pointer to the function name with infinite lifetime.
- **Description**: Maps syscall IDs to a function name and a VM-specific context, using a Murmur3-32 hash as the key, a function pointer for the syscall, and a constant character pointer for the function name.


---
### fd\_sbpf\_syscalls\_t
- **Type**: ``struct``
- **Members**:
    - `key`: Murmur3-32 hash of the function name.
    - `func`: Function pointer to the syscall implementation.
    - `name`: Pointer to the function name with infinite lifetime.
- **Description**: Maps syscall IDs to a name and a VM-specific context, using a hash key for function identification and a function pointer for syscall execution.


---
### fd\_sbpf\_elf\_info
- **Type**: ``struct``
- **Members**:
    - ``bin_sz``: Size of the ELF binary.
    - ``text_off``: File offset of the `.text` section, which overlaps the `rodata` segment.
    - ``text_cnt``: Instruction count in the `.text` section.
    - ``text_sz``: Size of the text segment, guaranteed to be less than or equal to `bin_sz`.
    - ``shndx_text``: Section header index of the `.text` section, with `-1` indicating not found.
    - ``shndx_symtab``: Section header index of the symbol table, with `-1` indicating not found.
    - ``shndx_strtab``: Section header index of the string table, with `-1` indicating not found.
    - ``shndx_dyn``: Section header index of the dynamic section, with `-1` indicating not found.
    - ``shndx_dynstr``: Section header index of the dynamic string table, with `-1` indicating not found.
    - ``shndx_dynsymtab``: Section header index of the dynamic symbol table, with `-1` indicating not found.
    - ``phndx_dyn``: Program header index of the dynamic section, similar to `shndx_*`.
    - ``dt_rel_off``: File offset of the dynamic relocation table.
    - ``dt_rel_sz``: Number of entries in the dynamic relocation table.
    - ``sbpf_version``: Version of the SBPF, following SIMD-0161.
- **Description**: Contains metadata extracted from an ELF binary, including sizes, offsets, and indices of various sections and segments, as well as dynamic relocation information and SBPF versioning details.


---
### fd\_sbpf\_elf\_info\_t
- **Type**: ``struct``
- **Members**:
    - ``bin_sz``: Size of the ELF binary.
    - ``text_off``: File offset of the `.text` section, which overlaps the `rodata` segment.
    - ``text_cnt``: Instruction count in the `.text` section.
    - ``text_sz``: Size of the text segment, guaranteed to be less than or equal to `bin_sz`.
    - ``shndx_text``: Index of the `.text` section header, or -1 if not found.
    - ``shndx_symtab``: Index of the symbol table section header, or -1 if not found.
    - ``shndx_strtab``: Index of the string table section header, or -1 if not found.
    - ``shndx_dyn``: Index of the dynamic section header, or -1 if not found.
    - ``shndx_dynstr``: Index of the dynamic string table section header, or -1 if not found.
    - ``shndx_dynsymtab``: Index of the dynamic symbol table section header, or -1 if not found.
    - ``phndx_dyn``: Index of the dynamic program header, or -1 if not found.
    - ``dt_rel_off``: File offset of the dynamic relocation table.
    - ``dt_rel_sz``: Number of entries in the dynamic relocation table.
    - ``sbpf_version``: SBPF version number, as per SIMD-0161.
- **Description**: Contains basic information extracted from an ELF binary, including section and program header indices, dynamic relocation table details, and SBPF version. It indicates the required scratch memory and buffer size to fully load the program.


---
### fd\_sbpf\_program
- **Type**: ``struct fd_sbpf_program``
- **Members**:
    - ``info``: Contains basic information extracted from an ELF binary.
    - ``rodata``: Pointer to the read-only data segment to be mapped into VM memory.
    - ``rodata_sz``: Size of the read-only data segment.
    - ``text``: Pointer to the text section within the read-only data segment.
    - ``entry_pc``: Entrypoint program counter, set to `ULONG_MAX` if not set.
    - ``calldests_shmem``: Pointer to a bit vector of valid call destinations.
    - ``calldests``: Local join to the bit vector of valid call destinations.
- **Description**: Describes a loaded sBPF program in memory, including its ELF information, read-only data segment, text section, entry point, and valid call destinations. The structure is aligned to 32 bytes and is used to manage the program's memory layout and execution within a virtual machine environment.


---
### fd\_sbpf\_program\_t
- **Type**: ``struct fd_sbpf_program``
- **Members**:
    - `info`: Contains basic information extracted from an ELF binary.
    - `rodata`: Pointer to the read-only segment data to be mapped into VM memory.
    - `rodata_sz`: Size of the read-only data segment.
    - `text`: Pointer to the text section within the rodata segment containing executable code.
    - `entry_pc`: Entrypoint program counter, set to `ULONG_MAX` if not set.
    - `calldests_shmem`: Pointer to shared memory for the bit vector of valid call destinations.
    - `calldests`: Pointer to a local join of the bit vector of valid call destinations.
- **Description**: Describes a loaded program in memory, including the read-only segment and executable code, and manages call destinations for the program.


---
### fd\_sbpf\_loader\_config
- **Type**: ``struct``
- **Members**:
    - ``elf_deploy_checks``: An integer used for ELF deployment checks.
    - ``reject_broken_elfs``: An integer used to reject broken ELF files.
    - ``sbpf_min_version``: An unsigned integer representing the minimum supported sBPF version.
    - ``sbpf_max_version``: An unsigned integer representing the maximum supported sBPF version.
- **Description**: Defines configuration settings for loading sBPF programs, including options for ELF deployment checks and specifying the range of supported sBPF versions.


---
### fd\_sbpf\_loader\_config\_t
- **Type**: ``struct``
- **Members**:
    - ``elf_deploy_checks``: Union member for enabling additional ELF deployment checks.
    - ``reject_broken_elfs``: Union member for rejecting broken ELF files.
    - ``sbpf_min_version``: Minimum supported sBPF version.
    - ``sbpf_max_version``: Maximum supported sBPF version.
- **Description**: Configures the loader for sBPF programs, including options for ELF deployment checks and specifying the range of supported sBPF versions.


# Functions

---
### fd\_sbpf\_dynamic\_stack\_frames\_enabled<!-- {{#callable:fd_sbpf_dynamic_stack_frames_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L331>)

Checks if dynamic stack frames are enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the sBPF version to check.
- **Logic and Control Flow**:
    - Compares the input `sbpf_version` with the constant `FD_SBPF_V1`.
    - Returns true if `sbpf_version` is greater than or equal to `FD_SBPF_V1`.
- **Output**: Returns an integer (1 or 0) indicating whether dynamic stack frames are enabled for the specified sBPF version.


---
### fd\_sbpf\_callx\_uses\_src\_reg\_enabled<!-- {{#callable:fd_sbpf_callx_uses_src_reg_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L334>)

Determines if the `callx` instruction uses the source register based on the sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the version of the sBPF.
- **Logic and Control Flow**:
    - Checks if `sbpf_version` is greater than or equal to `FD_SBPF_V2`.
    - Returns 1 if the condition is true, indicating that the `callx` instruction uses the source register.
    - Returns 0 if the condition is false, indicating that the `callx` instruction does not use the source register.
- **Output**: An integer value, 1 or 0, indicating whether the `callx` instruction uses the source register.


---
### fd\_sbpf\_enable\_lddw\_enabled<!-- {{#callable:fd_sbpf_enable_lddw_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L335>)

Checks if the `sbpf_version` is less than `FD_SBPF_V2` to determine if LDDW instructions are enabled.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the version of the SBPF.
- **Logic and Control Flow**:
    - Compare `sbpf_version` with `FD_SBPF_V2`.
    - Return true (non-zero) if `sbpf_version` is less than `FD_SBPF_V2`, otherwise return false (zero).
- **Output**: Returns an integer indicating whether LDDW instructions are enabled for the given SBPF version.


---
### fd\_sbpf\_enable\_le\_enabled<!-- {{#callable:fd_sbpf_enable_le_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L336>)

Checks if the little-endian feature is enabled for sBPF versions less than `FD_SBPF_V2`.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the version of the sBPF.
- **Logic and Control Flow**:
    - Compares `sbpf_version` with `FD_SBPF_V2`.
    - Returns true (non-zero) if `sbpf_version` is less than `FD_SBPF_V2`.
    - Returns false (zero) if `sbpf_version` is greater than or equal to `FD_SBPF_V2`.
- **Output**: An integer indicating whether the little-endian feature is enabled (non-zero) or not (zero).


---
### fd\_sbpf\_move\_memory\_ix\_classes\_enabled<!-- {{#callable:fd_sbpf_move_memory_ix_classes_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L337>)

Checks if the sBPF version supports move memory instruction classes.
- **Inputs**:
    - `sbpf_version`: The version of the sBPF (static BPF) to check against the defined constant `FD_SBPF_V2`.
- **Logic and Control Flow**:
    - Compares the input `sbpf_version` with the constant `FD_SBPF_V2`.
    - Returns true if `sbpf_version` is greater than or equal to `FD_SBPF_V2`.
- **Output**: Returns an integer value, 1 if the `sbpf_version` is greater than or equal to `FD_SBPF_V2`, otherwise 0.


---
### fd\_sbpf\_enable\_neg\_enabled<!-- {{#callable:fd_sbpf_enable_neg_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L340>)

Checks if the negative enable feature is available for sBPF versions before version 2.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the version of sBPF being checked.
- **Logic and Control Flow**:
    - Compare `sbpf_version` with the constant `FD_SBPF_V2`.
    - Return true (non-zero) if `sbpf_version` is less than `FD_SBPF_V2`, indicating the feature is enabled.
    - Return false (zero) otherwise.
- **Output**: An integer indicating whether the negative enable feature is enabled (non-zero) or not (zero).


---
### fd\_sbpf\_swap\_sub\_reg\_imm\_operands\_enabled<!-- {{#callable:fd_sbpf_swap_sub_reg_imm_operands_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L341>)

Checks if the swap of sub-register and immediate operands is enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: The version of the sBPF (Static Binary Program Format) as an unsigned long integer.
- **Logic and Control Flow**:
    - Compares the input `sbpf_version` with the constant `FD_SBPF_V2`.
    - Returns true (non-zero) if `sbpf_version` is greater than or equal to `FD_SBPF_V2`.
    - Returns false (zero) if `sbpf_version` is less than `FD_SBPF_V2`.
- **Output**: An integer indicating whether the feature is enabled (non-zero) or not (zero).


---
### fd\_sbpf\_explicit\_sign\_ext\_enabled<!-- {{#callable:fd_sbpf_explicit_sign_ext_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L342>)

Checks if explicit sign extension is enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the sBPF version to check against.
- **Logic and Control Flow**:
    - Compares `sbpf_version` with the constant `FD_SBPF_V2`.
    - Returns true (non-zero) if `sbpf_version` is greater than or equal to `FD_SBPF_V2`.
    - Returns false (zero) if `sbpf_version` is less than `FD_SBPF_V2`.
- **Output**: Returns an integer indicating whether explicit sign extension is enabled (non-zero) or not (zero).


---
### fd\_sbpf\_enable\_pqr\_enabled<!-- {{#callable:fd_sbpf_enable_pqr_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L343>)

Checks if the PQR feature is enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the version of sBPF to check.
- **Logic and Control Flow**:
    - Compares the input `sbpf_version` with the constant `FD_SBPF_V2`.
    - Returns true if `sbpf_version` is greater than or equal to `FD_SBPF_V2`.
- **Output**: Returns an integer value: 1 if the PQR feature is enabled, 0 otherwise.


---
### fd\_sbpf\_static\_syscalls\_enabled<!-- {{#callable:fd_sbpf_static_syscalls_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L346>)

Checks if static syscalls are enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the sBPF version to check.
- **Logic and Control Flow**:
    - Compares the input `sbpf_version` with the constant `FD_SBPF_V3`.
    - Returns true (non-zero) if `sbpf_version` is greater than or equal to `FD_SBPF_V3`.
    - Returns false (zero) if `sbpf_version` is less than `FD_SBPF_V3`.
- **Output**: An integer indicating whether static syscalls are enabled (non-zero) or not (zero).


---
### fd\_sbpf\_enable\_elf\_vaddr\_enabled<!-- {{#callable:fd_sbpf_enable_elf_vaddr_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L347>)

Checks if the ELF virtual address feature is enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the sBPF version to check.
- **Logic and Control Flow**:
    - Compares `sbpf_version` with `FD_SBPF_V0`.
    - Returns true if `sbpf_version` is not equal to `FD_SBPF_V0`.
- **Output**: Returns an integer value: 1 if the ELF virtual address feature is enabled, 0 otherwise.


---
### fd\_sbpf\_reject\_rodata\_stack\_overlap\_enabled<!-- {{#callable:fd_sbpf_reject_rodata_stack_overlap_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L348>)

Determines if the rejection of read-only data and stack overlap is enabled based on the sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the version of sBPF.
- **Logic and Control Flow**:
    - Checks if `sbpf_version` is not equal to `FD_SBPF_V0`.
    - Returns the result of the comparison as an integer.
- **Output**: Returns 1 if the rejection of read-only data and stack overlap is enabled, otherwise returns 0.


---
### fd\_sbpf\_enable\_stricter\_elf\_headers\_enabled<!-- {{#callable:fd_sbpf_enable_stricter_elf_headers_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L351>)

Checks if the stricter ELF headers feature is enabled for a given sBPF version.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the sBPF version to check against the defined version threshold.
- **Logic and Control Flow**:
    - Compares the input `sbpf_version` with the constant `FD_SBPF_V3`.
    - Returns true (non-zero) if `sbpf_version` is greater than or equal to `FD_SBPF_V3`.
    - Returns false (zero) if `sbpf_version` is less than `FD_SBPF_V3`.
- **Output**: An integer indicating whether the stricter ELF headers feature is enabled (non-zero) or not (zero).


---
### fd\_sbpf\_enable\_lower\_bytecode\_vaddr\_enabled<!-- {{#callable:fd_sbpf_enable_lower_bytecode_vaddr_enabled}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L352>)

Checks if the SBPF version is greater than or equal to `FD_SBPF_V3` to enable lower bytecode virtual address.
- **Inputs**:
    - `sbpf_version`: An unsigned long integer representing the SBPF version to check.
- **Logic and Control Flow**:
    - Compare `sbpf_version` with `FD_SBPF_V3`.
    - Return 1 if `sbpf_version` is greater than or equal to `FD_SBPF_V3`.
    - Return 0 if `sbpf_version` is less than `FD_SBPF_V3`.
- **Output**: Returns an integer (1 or 0) indicating whether the lower bytecode virtual address feature is enabled.


# Function Declarations (Public API)

---
### fd\_sbpf\_elf\_peek<!-- {{#callable_declaration:fd_sbpf_elf_peek}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L235>)

Partially parses an ELF file and populates information about it.
- **Description**: Use this function to extract basic information from an ELF file located in a memory region. It initializes the `info` structure with details about the ELF file, such as section indices and the SBPF version. This function is useful when you need to inspect an ELF file without fully loading it. It returns an error code if the ELF file is invalid or if parsing fails. Ensure that the `info` pointer is valid and that the memory region specified by `bin` and `bin_sz` contains a valid ELF file.
- **Inputs**:
    - `info`: A pointer to an `fd_sbpf_elf_info_t` structure that will be populated with information about the ELF file. Must not be null.
    - `bin`: A pointer to the memory region containing the ELF file. Must not be null.
    - `bin_sz`: The size of the memory region pointed to by `bin`. Must be greater than zero.
    - `config`: A pointer to an `fd_sbpf_loader_config_t` structure containing configuration options for parsing. Must not be null.
- **Output**: Returns 0 on success, or a negative error code if parsing fails or the ELF file is invalid.
- **See Also**: [`fd_sbpf_elf_peek`](<fd_sbpf_loader.c.md#fd_sbpf_elf_peek>)  (Implementation)


---
### fd\_sbpf\_program\_align<!-- {{#callable_declaration:fd_sbpf_program_align}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L259>)

Returns the alignment requirement for an sBPF program structure.
- **Description**: Use this function to obtain the alignment requirement for memory regions that will store `fd_sbpf_program_t` objects. This is necessary to ensure that memory allocations for these objects are correctly aligned, which is important for performance and correctness on many architectures. Call this function before allocating memory for an `fd_sbpf_program_t` to determine the correct alignment.
- **Inputs**: None
- **Output**: The function returns an `ulong` representing the alignment requirement in bytes for an `fd_sbpf_program_t` object.
- **See Also**: [`fd_sbpf_program_align`](<fd_sbpf_loader.c.md#fd_sbpf_program_align>)  (Implementation)


---
### fd\_sbpf\_program\_footprint<!-- {{#callable_declaration:fd_sbpf_program_footprint}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L262>)

Calculates the memory footprint required for an sBPF program.
- **Description**: Use this function to determine the size of memory needed to store an sBPF program based on the provided ELF information. This is essential for allocating the correct amount of memory before loading the program. The function considers the sBPF version to decide if additional memory for a call destinations bitmap is necessary. Ensure that the `info` parameter is correctly populated with ELF information before calling this function.
- **Inputs**:
    - `info`: A pointer to a `fd_sbpf_elf_info_t` structure containing ELF information. Must not be null. The function uses this information to calculate the memory footprint, and it handles different sBPF versions accordingly.
- **Output**: Returns the size in bytes of the memory footprint required for the sBPF program.
- **See Also**: [`fd_sbpf_program_footprint`](<fd_sbpf_loader.c.md#fd_sbpf_program_footprint>)  (Implementation)


---
### fd\_sbpf\_program\_new<!-- {{#callable_declaration:fd_sbpf_program_new}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L274>)

Formats memory to hold an sBPF program.
- **Description**: Use this function to initialize a memory region to hold an sBPF program based on the provided ELF information and read-only data segment. Ensure that `prog_mem` is allocated with the correct footprint as determined by the ELF information. The `rodata` must be valid and aligned according to the program's requirements. This function returns a pointer to the initialized program structure or NULL if any input is invalid or alignment requirements are not met.
- **Inputs**:
    - `prog_mem`: A pointer to the memory region to format for the sBPF program. Must not be null and must meet the footprint requirements of the ELF information.
    - `elf_info`: A pointer to a constant `fd_sbpf_elf_info_t` structure containing ELF binary information. Must not be null.
    - `rodata`: A pointer to the read-only data segment buffer. Must not be null if `elf_info->bin_sz` is greater than 0 and must be 8-byte aligned.
- **Output**: Returns a pointer to the initialized `fd_sbpf_program_t` structure, or NULL if any input is invalid or alignment requirements are not met.
- **See Also**: [`fd_sbpf_program_new`](<fd_sbpf_loader.c.md#fd_sbpf_program_new>)  (Implementation)


---
### fd\_sbpf\_program\_load<!-- {{#callable_declaration:fd_sbpf_program_load}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L308>)

Loads an eBPF program for execution.
- **Description**: Use this function to load an eBPF program into a prepared program object for execution. The program object must be initialized with `fd_sbpf_program_new` and must match the footprint requirements of the ELF file. This function initializes the program structure, performs relocations, and prepares the read-only segment. It requires a memory region containing the ELF file, a map of registered syscalls, and a scratch area for temporary data. On success, it returns 0; on error, it returns a specific error code.
- **Inputs**:
    - `prog`: A pointer to an `fd_sbpf_program_t` object, which must be initialized and match the ELF file's footprint requirements. The caller retains ownership.
    - `bin`: A pointer to the memory region containing the ELF file to be loaded. Must not be null.
    - `bin_sz`: The size of the ELF file in bytes. Must be a valid size for the ELF file.
    - `syscalls`: A pointer to a map of registered syscalls. Used to check for potential symbol collisions. Must not be null.
    - `config`: A pointer to an `fd_sbpf_loader_config_t` object containing configuration settings. Must not be null.
    - `scratch`: A pointer to a scratch area used for temporary data during loading. Must not be null.
    - `scratch_sz`: The size of the scratch area in bytes. Recommended to be at least the size of the ELF file.
- **Output**: Returns 0 on success. On error, returns a specific error code defined by `FD_SBPF_ERR_*` constants.
- **See Also**: [`fd_sbpf_program_load`](<fd_sbpf_loader.c.md#fd_sbpf_program_load>)  (Implementation)


---
### fd\_sbpf\_program\_delete<!-- {{#callable_declaration:fd_sbpf_program_delete}} -->
[View Source →](<../../../../../src/ballet/sbpf/fd_sbpf_loader.h#L320>)

Destroys a program object and resets its memory.
- **Description**: Use this function to safely delete a program object and reset its memory to zero. This function should be called when the program object is no longer needed, to ensure that all associated resources are properly released. It is important to ensure that the `program` parameter is not null before calling this function, as passing a null pointer will result in undefined behavior. After execution, the memory region previously occupied by the program object is reset, and the function returns a pointer to this memory region.
- **Inputs**:
    - `program`: A pointer to the `fd_sbpf_program_t` object to delete. Must not be null. The caller retains ownership of the memory, which will be reset to zero.
- **Output**: Returns a pointer to the memory region that was reset.
- **See Also**: [`fd_sbpf_program_delete`](<fd_sbpf_loader.c.md#fd_sbpf_program_delete>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)