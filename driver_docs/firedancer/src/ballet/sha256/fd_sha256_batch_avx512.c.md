<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements SHA-256 batch processing using AVX512 and AVX SIMD optimizations.

# Purpose
The code implements a batch processing function for the SHA-256 cryptographic hash algorithm using AVX and AVX-512 SIMD (Single Instruction, Multiple Data) instructions. The function [`fd_sha256_private_batch_avx512`](<#fd_sha256_private_batch_avx512>) is designed to process multiple messages in parallel, optimizing the computation of SHA-256 hashes for a batch of data. It uses SIMD instructions to handle multiple data streams simultaneously, which can significantly improve performance on processors that support these instruction sets. The function first checks if the batch size is below a certain threshold, in which case it delegates the processing to a narrower implementation using [`fd_sha256_private_batch_avx`](<#fd_sha256_private_batch_avx>).

The function processes each message by appending necessary padding and computing the SHA-256 hash in blocks. It uses a series of transformations and logical operations defined by the SHA-256 algorithm, such as bitwise operations and modular additions, to update the hash state. The code includes optimizations for handling message tails and uses a loop to process each block of the message. The results are stored in the provided `batch_hash` array. The function is part of a larger library that provides cryptographic functionality, and it relies on constants and utility functions defined in included headers like `fd_sha256_constants.h` and SIMD utilities from `fd_avx512.h` and `fd_avx.h`.
# Imports and Dependencies

---
- `fd_sha256.h`
- `fd_sha256_constants.h`
- `../../util/simd/fd_avx512.h`
- `../../util/simd/fd_avx.h`


# Functions

---
### fd\_sha256\_private\_batch\_avx512<!-- {{#callable:fd_sha256_private_batch_avx512}} -->
[View Source →](<../../../../../src/ballet/sha256/fd_sha256_batch_avx512.c#L16>)

Processes a batch of data using the SHA-256 algorithm with AVX-512 optimizations.
- **Inputs**:
    - ``batch_cnt``: The number of data batches to process.
    - ``_batch_data``: A pointer to the data for each batch.
    - ``batch_sz``: An array of sizes for each batch of data.
    - ``_batch_hash``: An array of pointers where the resulting hashes will be stored.
- **Logic and Control Flow**:
    - Checks if `batch_cnt` is less than a defined minimum and uses a narrower batch implementation if true.
    - Aligns and prepares tail blocks for each message, appending necessary padding and size information.
    - Initializes SHA-256 state variables and constants for processing.
    - Processes each block of data in the batch using AVX-512 instructions, updating the SHA-256 state for each block.
    - Switches to processing tail blocks when in-place processing is complete.
    - Stores the final hash results in the provided `_batch_hash` array.
- **Output**: No direct return value; the function outputs the computed SHA-256 hashes into the provided `_batch_hash` array.
- **Functions Called**:
    - [`fd_sha256_private_batch_avx`](<fd_sha256_batch_avx.c.md#fd_sha256_private_batch_avx>)


# Function Declarations (Public API)

---
### fd\_sha256\_private\_batch\_avx<!-- {{#callable_declaration:fd_sha256_private_batch_avx}} -->
[View Source →](<../../../../../src/ballet/sha256/fd_sha256_batch_avx512.c#L10>)

Computes SHA-256 hashes for a batch of data using AVX instructions.
- **Description**: Use this function to compute SHA-256 hashes for multiple data inputs in a batch, leveraging AVX instructions for potential performance improvements. This function is suitable for processing batches of data where the batch count is at least 2, or 6 if SHA-NI instructions are available. For smaller batches, the function defaults to a sequential processing method. Ensure that the input data, sizes, and output hash buffers are correctly allocated and aligned as required by the function.
- **Inputs**:
    - `batch_cnt`: The number of data items in the batch. Must be at least 2, or 6 if SHA-NI instructions are available. If less, the function processes data sequentially.
    - `batch_data`: Pointer to the array of data items to hash. Each item must be a valid memory location. Caller retains ownership.
    - `batch_sz`: Pointer to an array of sizes for each data item in the batch. Each size must correspond to the respective data item in 'batch_data'.
    - `batch_hash`: Pointer to an array of pointers where each computed hash will be stored. Each pointer must point to a valid memory location with enough space to store a SHA-256 hash (32 bytes).
- **Output**: None
- **See Also**: [`fd_sha256_private_batch_avx`](<fd_sha256_batch_avx.c.md#fd_sha256_private_batch_avx>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)