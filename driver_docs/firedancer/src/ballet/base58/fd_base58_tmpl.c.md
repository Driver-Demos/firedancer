<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Template for base58 encoding and decoding functions for binary data of specific sizes (32 or 64 bytes).

# Purpose
The code provides functions for encoding and decoding binary data to and from Base58 format, specifically for binary data of lengths 32 or 64 bytes. Base58 is a binary-to-text encoding scheme that is commonly used in applications like Bitcoin addresses. The code is structured as a template, requiring the user to define certain parameters (`N`, `INTERMEDIATE_SZ`, and `BINARY_SIZE`) before use. These parameters determine the size of the binary data and the intermediate storage required for the conversion process. The code includes two main functions: `fd_base58_encode` and `fd_base58_decode`, which handle the conversion of binary data to Base58 encoded strings and vice versa.

The encoding function, `fd_base58_encode`, processes the input binary data by first counting leading zeros, converting the data into a series of 32-bit limbs, and then transforming it into an intermediate format. This intermediate format is further converted into Base58 characters, taking care to handle leading zeros appropriately. The decoding function, `fd_base58_decode`, validates the input Base58 string, converts it back into the intermediate format, and then reconstructs the original binary data. The code is designed to be safe for multiple inclusions and uses conditional compilation to optimize for systems with AVX support. The functions rely on pre-defined tables (`enc_table_N`, `dec_table_N`) and constants (`FD_BASE58_ENCODED_N_SZ`) that must be provided for the specific binary size being used.
# Functions

---
### SUFFIX<!-- {{#callable:SUFFIX}} -->
[View Source →](<../../../../../src/ballet/base58/fd_base58_tmpl.c#L299>)

Decodes a Base58 encoded string into its original binary form, ensuring the output matches the expected format and constraints.
- **Inputs**:
    - `encoded`: A pointer to a null-terminated string containing the Base58 encoded data.
    - `out`: A pointer to a buffer where the decoded binary data will be stored.
- **Logic and Control Flow**:
    - Initialize `char_cnt` to count characters in `encoded` before the null terminator.
    - Iterate over `encoded` to validate each character using `base58_inverse` and count valid characters.
    - Return `NULL` if the string is too long or contains invalid characters.
    - Calculate the number of leading zeros to prepend to `raw_base58` to make it `RAW58_SZ` characters long.
    - Convert `raw_base58` to an intermediate format using base 58^5.
    - Convert the intermediate format to an overcomplete base 2^32 format, ensuring no overflow occurs.
    - Adjust terms in `binary` to ensure each is less than 2^32, propagating any overflow to the next term.
    - Return `NULL` if the largest term in `binary` exceeds 2^32, indicating an overflow.
    - Convert each term in `binary` to big endian and store in `out`.
    - Ensure the number of leading '1's in `encoded` matches the number of leading zeros in `out`, returning `NULL` if not.
    - Return `out` if all checks pass.
- **Output**: A pointer to the `out` buffer containing the decoded binary data, or `NULL` if decoding fails.
- **Functions Called**:
    - [`SUFFIX`](<#suffix>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)