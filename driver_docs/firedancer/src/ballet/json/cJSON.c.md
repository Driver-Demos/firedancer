<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

A C implementation of a JSON parser and printer, including functions for creating, manipulating, and comparing JSON objects and arrays.

# Purpose
The code is a C implementation of a JSON parser and generator, known as `cJSON`. It provides functions to parse JSON data into a C data structure and to generate JSON data from a C data structure. The code includes various functions to handle JSON objects, arrays, strings, numbers, booleans, and null values. It also provides utility functions for creating, deleting, and manipulating JSON data structures, as well as functions for printing JSON data in formatted or unformatted form.

The code defines a public API for interacting with JSON data, including functions like [`cJSON_Parse`](<#cjson_parse>), [`cJSON_Print`](<#cjson_print>), [`cJSON_GetObjectItem`](<#cjson_getobjectitem>), and [`cJSON_AddItemToObject`](<#cjson_additemtoobject>). It also includes internal utility functions for memory management, string handling, and JSON data manipulation. The code is designed to be used as a library that can be included in other C projects to provide JSON parsing and generation capabilities. It handles various JSON data types and provides mechanisms for customizing memory allocation and deallocation through hooks. The code also includes error handling and version checking to ensure compatibility between the `cJSON` header and source files.
# Imports and Dependencies

---
- `string.h`
- `stdio.h`
- `math.h`
- `stdlib.h`
- `limits.h`
- `ctype.h`
- `float.h`
- `locale.h`
- `cJSON.h`


# Global Variables

---
### global\_error
- **Type**: ``error``
- **Description**: Represents a global error state with a JSON pointer and position.
- **Use**: Tracks the position of errors in JSON parsing.


---
### global\_hooks
- **Type**: ``internal_hooks``
- **Description**: Contains function pointers for memory allocation, deallocation, and reallocation operations. It is initialized with default functions `internal_malloc`, `internal_free`, and `internal_realloc`. These functions are used throughout the cJSON library to manage memory.
- **Use**: Used to manage memory operations in the cJSON library by providing hooks for allocation, deallocation, and reallocation.


# Data Structures

---
### error
- **Type**: ``struct``
- **Members**:
    - ``json``: A pointer to a constant unsigned char, representing the JSON data.
    - ``position``: A size_t variable indicating the position within the JSON data.
- **Description**: Stores information about an error in JSON parsing, including a pointer to the JSON data and the position where the error occurred.


---
### internal\_hooks
- **Type**: ``struct``
- **Members**:
    - ``allocate``: A function pointer for memory allocation.
    - ``deallocate``: A function pointer for memory deallocation.
    - ``reallocate``: A function pointer for memory reallocation.
- **Description**: Defines a set of function pointers for custom memory management operations, allowing the user to specify their own allocation, deallocation, and reallocation functions for use within the cJSON library.


---
### parse\_buffer
- **Type**: ``struct``
- **Members**:
    - ``content``: Pointer to the JSON data being parsed.
    - ``length``: Total length of the JSON data.
    - ``offset``: Current position in the JSON data.
    - ``depth``: Current nesting level of the JSON data.
    - ``hooks``: Custom memory allocation hooks for parsing.
- **Description**: `parse_buffer` is a structure used in the cJSON library to manage the state of JSON data parsing. It holds a pointer to the JSON content, tracks the length of the data, and maintains the current parsing position and depth of nested structures. The `hooks` member allows for custom memory management during parsing operations.


---
### printbuffer
- **Type**: ``struct``
- **Members**:
    - ``buffer``: Pointer to an unsigned char array for storing data.
    - ``length``: Size of the buffer in bytes.
    - ``offset``: Current position in the buffer for writing data.
    - ``depth``: Current nesting depth for formatted printing.
    - ``noalloc``: Boolean flag indicating if memory allocation is disabled.
    - ``format``: Boolean flag indicating if the print is formatted.
    - ``hooks``: Structure containing function pointers for memory management.
- **Description**: The `printbuffer` structure is used to manage a buffer for printing JSON data. It includes fields for the buffer itself, its length, and the current offset for writing. The `depth` field tracks the nesting level for formatted output, while `noalloc` and `format` are boolean flags that control memory allocation and formatting options. The `hooks` member provides custom memory management functions.


# Functions

---
### cJSON\_GetErrorPtr<!-- {{#callable:cJSON_GetErrorPtr}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L101>)

Returns a pointer to the error message in the global error state.
- **Inputs**: None
- **Logic and Control Flow**:
    - Accesses the `global_error` structure to retrieve the JSON string and the current error position.
    - Calculates the pointer to the error message by adding the position to the base address of the JSON string.
- **Output**: Returns a pointer to a `const char` that points to the error message in the JSON string.


---
### cJSON\_GetStringValue<!-- {{#callable:cJSON_GetStringValue}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L106>)

Returns the string value of a `cJSON` item if it is a string, otherwise returns NULL.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that is to be checked and from which the string value is retrieved.
- **Logic and Control Flow**:
    - Checks if the `item` is a string using the [`cJSON_IsString`](<#cjson_isstring>) function.
    - If `item` is not a string, returns NULL.
    - If `item` is a string, returns the `valuestring` member of the `item`.
- **Output**: A pointer to the string value of the `cJSON` item, or NULL if the item is not a string.
- **Functions Called**:
    - [`cJSON_IsString`](<#cjson_isstring>)


---
### cJSON\_GetNumberValue<!-- {{#callable:cJSON_GetNumberValue}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L116>)

Returns the numeric value of a `cJSON` item if it is a number, otherwise returns NaN.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that is checked to determine if it is a number.
- **Logic and Control Flow**:
    - Checks if the `item` is a number using the [`cJSON_IsNumber`](<#cjson_isnumber>) function.
    - If `item` is not a number, returns NaN.
    - If `item` is a number, returns the value stored in `item->valuedouble`.
- **Output**: A `double` representing the numeric value of the `cJSON` item, or NaN if the item is not a number.
- **Functions Called**:
    - [`cJSON_IsNumber`](<#cjson_isnumber>)


---
### cJSON\_Version<!-- {{#callable:cJSON_Version}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L131>)

Returns the version of the cJSON library as a string.
- **Inputs**: None
- **Logic and Control Flow**:
    - A static character array `version` of size 15 is defined to hold the version string.
    - The `sprintf` function formats the version string using the defined macros `CJSON_VERSION_MAJOR`, `CJSON_VERSION_MINOR`, and `CJSON_VERSION_PATCH`.
    - The formatted version string is returned.
- **Output**: A pointer to a string containing the version of the cJSON library.


---
### case\_insensitive\_strcmp<!-- {{#callable:case_insensitive_strcmp}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L140>)

Compares two strings in a case-insensitive manner.
- **Inputs**:
    - `string1`: Pointer to the first string to compare.
    - `string2`: Pointer to the second string to compare.
- **Logic and Control Flow**:
    - Checks if either `string1` or `string2` is NULL, returning 1 if true.
    - Checks if `string1` and `string2` point to the same memory location, returning 0 if true.
    - Iterates through both strings, comparing their characters in a case-insensitive manner using `tolower`.
    - Returns 0 if both strings are equal, or the difference of the first non-matching characters.
- **Output**: Returns 0 if the strings are equal, a positive value if `string1` is greater, or a negative value if `string2` is greater.


---
### internal\_malloc<!-- {{#callable:CJSON_CDECL::internal_malloc}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L172>)

Allocates memory of a specified size using `malloc`.
- **Inputs**:
    - `size`: The number of bytes to allocate.
- **Logic and Control Flow**:
    - Calls `malloc` with the specified `size`.
    - Returns the pointer to the allocated memory.
- **Output**: Returns a pointer to the allocated memory block.


---
### internal\_free<!-- {{#callable:CJSON_CDECL::internal_free}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L176>)

Frees the memory allocated for a given pointer.
- **Inputs**:
    - `pointer`: A pointer to the memory that needs to be freed.
- **Logic and Control Flow**:
    - Calls the `free` function to deallocate the memory pointed to by `pointer`.
- **Output**: This function does not return a value.


---
### internal\_realloc<!-- {{#callable:CJSON_CDECL::internal_realloc}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L180>)

Allocates or reallocates memory for a given pointer to a specified size.
- **Inputs**:
    - `pointer`: A pointer to the memory block to be reallocated.
    - `size`: The new size in bytes for the memory block.
- **Logic and Control Flow**:
    - Calls the `realloc` function to resize the memory block pointed to by `pointer`.
    - Returns the pointer to the newly allocated memory block.
- **Output**: Returns a pointer to the reallocated memory block, or NULL if the allocation fails.


---
### cJSON\_strdup<!-- {{#callable:cJSON_strdup}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L195>)

Duplicates a string and allocates memory for the copy.
- **Inputs**:
    - `string`: A pointer to the original string to be duplicated.
    - `hooks`: A pointer to a structure containing memory allocation functions.
- **Logic and Control Flow**:
    - Checks if the input string is NULL; if so, returns NULL.
    - Calculates the length of the input string and allocates memory for the copy using the provided allocation function.
    - If memory allocation fails, returns NULL.
    - Copies the original string into the newly allocated memory.
    - Returns a pointer to the duplicated string.
- **Output**: Returns a pointer to the newly allocated duplicate of the input string, or NULL if allocation fails.


---
### cJSON\_InitHooks<!-- {{#callable:cJSON_InitHooks}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L216>)

Initializes memory allocation hooks for `cJSON` library.
- **Inputs**:
    - `hooks`: Pointer to a `cJSON_Hooks` structure that contains custom memory allocation functions.
- **Logic and Control Flow**:
    - Checks if the `hooks` pointer is NULL.
    - If NULL, resets the global memory allocation hooks to default functions: `malloc`, `free`, and `realloc`.
    - If not NULL, assigns the custom allocation function from `hooks` if provided.
    - Assigns the custom deallocation function from `hooks` if provided.
    - Sets the `reallocate` function to `realloc` only if both `malloc` and `free` are the default functions.
- **Output**: No return value; modifies global memory allocation hooks.


---
### cJSON\_New\_Item<!-- {{#callable:cJSON_New_Item}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L248>)

Allocates and initializes a new `cJSON` item.
- **Inputs**:
    - `hooks`: Pointer to an `internal_hooks` structure that contains memory allocation functions.
- **Logic and Control Flow**:
    - Calls the `allocate` function from `hooks` to allocate memory for a new `cJSON` item.
    - If the allocation is successful, initializes the allocated memory to zero using `memset`.
- **Output**: Returns a pointer to the newly created `cJSON` item, or `NULL` if the allocation fails.


---
### cJSON\_Delete<!-- {{#callable:cJSON_Delete}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L260>)

Deletes a `cJSON` structure and all its children recursively.
- **Inputs**:
    - `item`: A pointer to the `cJSON` structure to be deleted.
- **Logic and Control Flow**:
    - Initializes a pointer `next` to keep track of the next item.
    - Enters a loop that continues until `item` is NULL.
    - Sets `next` to `item->next` to preserve the next item.
    - Checks if `item` is not a reference and has children; if so, calls `cJSON_Delete` on the child.
    - Checks if `item` is not a reference and has a string value; if so, deallocates `item->valuestring`.
    - Checks if `item` is not a constant string and has a string key; if so, deallocates `item->string`.
    - Deallocates `item` itself.
    - Updates `item` to `next` to continue the loop.
- **Output**: This function does not return a value. It frees all memory associated with the `cJSON` structure and its children.


---
### get\_decimal\_point<!-- {{#callable:get_decimal_point}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L284>)

Gets the decimal point character based on the current locale settings.
- **Inputs**: None
- **Logic and Control Flow**:
    - Checks if `ENABLE_LOCALES` is defined.
    - If defined, retrieves the current locale's decimal point character using `localeconv()`.
    - Returns the first character of the decimal point string.
    - If not defined, returns the default decimal point character '.'.
- **Output**: Returns an `unsigned char` representing the decimal point character.


---
### parse\_number<!-- {{#callable:parse_number}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L312>)

Parses a number from a JSON input buffer and populates a `cJSON` item with the parsed value.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure where the parsed number will be stored.
    - `input_buffer`: A pointer to a `parse_buffer` structure that contains the JSON input data to be parsed.
- **Logic and Control Flow**:
    - Checks if the `input_buffer` or its content is NULL; if so, returns false.
    - Copies valid characters from the input buffer into a temporary string, replacing '.' with the locale-specific decimal point.
    - Uses `strtod` to convert the temporary string to a double and checks for parsing errors.
    - Assigns the parsed double to `item->valuedouble` and sets `item->valueint` and `item->valueulong` based on the parsed value, applying saturation for overflow.
    - Updates the offset in the `input_buffer` to reflect the number of characters read.
- **Output**: Returns true if the number was successfully parsed and stored; otherwise, returns false.
- **Functions Called**:
    - [`get_decimal_point`](<#get_decimal_point>)


---
### cJSON\_SetNumberHelper<!-- {{#callable:cJSON_SetNumberHelper}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L391>)

Sets the integer and double values of a `cJSON` object based on the provided number.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object that will be modified.
    - `number`: A double value to set in the `cJSON` object.
- **Logic and Control Flow**:
    - Checks if the input number is greater than or equal to `INT_MAX` and sets `object->valueint` to `INT_MAX` if true.
    - Checks if the input number is less than or equal to `INT_MIN` and sets `object->valueint` to `INT_MIN` if true.
    - If the number is within the range of `INT_MIN` and `INT_MAX`, it casts the number to an integer and assigns it to `object->valueint`.
    - Sets `object->valuedouble` to the input number and returns this value.
- **Output**: Returns the double value that was set in `object->valuedouble`.


---
### cJSON\_SetValuestring<!-- {{#callable:cJSON_SetValuestring}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L409>)

Sets the `valuestring` of a `cJSON` object if it is of type `cJSON_String` and not a reference.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object that is to be modified.
    - `valuestring`: A pointer to a string that will be set as the new value for the `valuestring` field of the `cJSON` object.
- **Logic and Control Flow**:
    - Checks if the `type` of `object` is not `cJSON_String` or if it is a reference; if so, returns `NULL`.
    - If the length of `valuestring` is less than or equal to the length of the current `valuestring`, it copies `valuestring` into `object->valuestring` and returns it.
    - If `valuestring` is longer, it duplicates `valuestring` using [`cJSON_strdup`](<#cjson_strdup>).
    - If the duplication fails, it returns `NULL`.
    - If `object->valuestring` is not `NULL`, it frees the existing string.
    - Sets `object->valuestring` to the new copy and returns it.
- **Output**: Returns a pointer to the new `valuestring` if successful, or `NULL` if the operation fails.
- **Functions Called**:
    - [`cJSON_strdup`](<#cjson_strdup>)
    - [`cJSON_free`](<#cjson_free>)


---
### ensure<!-- {{#callable:ensure}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L448>)

Reallocates the buffer in a `printbuffer` structure to ensure it can accommodate the required size.
- **Inputs**:
    - `p`: A pointer to a `printbuffer` structure that contains the current buffer and its properties.
    - `needed`: The additional size needed for the buffer.
- **Logic and Control Flow**:
    - Checks if the `printbuffer` pointer `p` or its `buffer` is NULL, returning NULL if true.
    - Validates that the `offset` is within the bounds of the current `length` of the buffer.
    - Ensures that the `needed` size does not exceed `INT_MAX`.
    - Calculates the total size required by adding `offset` and `needed`.
    - If the required size is less than or equal to the current buffer length, returns a pointer to the current buffer at `offset`.
    - If `noalloc` is true, returns NULL without reallocating.
    - Calculates the new size for the buffer, doubling it or setting it to `INT_MAX` if necessary.
    - Attempts to reallocate the buffer using the provided reallocation hook, or allocates a new buffer if not available.
    - Copies the existing data from the old buffer to the new buffer if a new allocation is made.
    - Updates the `length` and `buffer` fields of the `printbuffer` structure.
- **Output**: Returns a pointer to the new buffer location at the current `offset`, or NULL if allocation fails.


---
### update\_offset<!-- {{#callable:update_offset}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L534>)

Updates the offset in a `printbuffer` structure based on the length of the string at the current offset.
- **Inputs**:
    - `buffer`: A pointer to a `printbuffer` structure that contains the current offset and buffer.
- **Logic and Control Flow**:
    - Checks if the `buffer` or its internal `buffer` is NULL; if so, the function returns immediately.
    - Calculates the pointer to the current position in the buffer using the `offset`.
    - Increments the `offset` by the length of the string starting from the current position.
- **Output**: The function does not return a value; it modifies the `offset` field of the `printbuffer` structure.


---
### compare\_double<!-- {{#callable:compare_double}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L547>)

Compares two `double` values for equality within a tolerance defined by machine epsilon.
- **Inputs**:
    - `a`: The first `double` value to compare.
    - `b`: The second `double` value to compare.
- **Logic and Control Flow**:
    - Calculates the maximum absolute value between `a` and `b` using `fabs`.
    - Checks if the absolute difference between `a` and `b` is less than or equal to the product of the maximum value and `DBL_EPSILON`.
- **Output**: Returns `true` if the values are considered equal within the defined tolerance, otherwise returns `false`.


---
### print\_number<!-- {{#callable:print_number}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L554>)

Renders a number from a `cJSON` item into a string format suitable for output.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that contains the number to be printed.
    - `output_buffer`: A pointer to a `printbuffer` structure where the rendered number will be stored.
- **Logic and Control Flow**:
    - Checks if the `output_buffer` is NULL and returns false if it is.
    - Checks if the number is NaN or Infinity and formats it as 'null' if true.
    - If the number is an integer, it formats it as an integer string.
    - If the number is a double, it attempts to format it with 15 decimal places.
    - If the formatted string cannot recover the original number, it tries with 17 decimal places.
    - Checks for buffer overrun or formatting errors and returns false if any occur.
    - Ensures there is enough space in the `output_buffer` for the formatted number.
    - Copies the formatted number to the `output_buffer`, replacing locale-specific decimal points with '.'
    - Updates the offset in the `output_buffer` to reflect the new content.
- **Output**: Returns true if the number was successfully printed to the output buffer, otherwise returns false.
- **Functions Called**:
    - [`get_decimal_point`](<#get_decimal_point>)
    - [`compare_double`](<#compare_double>)
    - [`ensure`](<#ensure>)


---
### parse\_hex4<!-- {{#callable:parse_hex4}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L624>)

Parses a 4-digit hexadecimal number from the input string.
- **Inputs**:
    - `input`: A pointer to a constant array of `unsigned char` containing the hexadecimal digits.
- **Logic and Control Flow**:
    - Initializes an unsigned integer `h` to 0 and a size_t variable `i` to 0.
    - Iterates over the first four characters of the input array.
    - Checks if each character is a valid hexadecimal digit (0-9, A-F, a-f).
    - If valid, converts the character to its integer value and adds it to `h`.
    - If the character is not valid, returns 0.
    - Shifts `h` left by 4 bits for the next digit, except after the last digit.
- **Output**: Returns the parsed hexadecimal number as an unsigned integer, or 0 if the input is invalid.


---
### utf16\_literal\_to\_utf8<!-- {{#callable:utf16_literal_to_utf8}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L661>)

Converts a UTF-16 literal to UTF-8.
- **Inputs**:
    - `input_pointer`: Pointer to the start of the UTF-16 literal input.
    - `input_end`: Pointer to the end of the input buffer.
    - `output_pointer`: Pointer to the location where the UTF-8 output will be stored.
- **Logic and Control Flow**:
    - Checks if the input length is less than 6 bytes; if so, it jumps to the fail label.
    - Parses the first UTF-16 sequence and checks if it is a valid code point.
    - Handles surrogate pairs if the first code point indicates a high surrogate.
    - Calculates the Unicode code point from the surrogate pair if applicable.
    - Determines the UTF-8 length based on the Unicode code point value.
    - Encodes the code point into UTF-8 format and stores it in the output buffer.
    - Returns the length of the UTF-16 sequence processed or 0 on failure.
- **Output**: Returns the length of the UTF-16 sequence processed, or 0 if there was an error.
- **Functions Called**:
    - [`parse_hex4`](<#parse_hex4>)


---
### parse\_string<!-- {{#callable:parse_string}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L782>)

Parses a JSON string from the input buffer and populates a `cJSON` item with the unescaped string value.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure where the parsed string will be stored.
    - `input_buffer`: A pointer to a `parse_buffer` structure that contains the input JSON string and its length.
- **Logic and Control Flow**:
    - Checks if the first character in the input buffer is a double quote ('"'). If not, it jumps to the fail label.
    - Calculates the size of the output string by iterating through the input buffer until the closing double quote is found, accounting for escape sequences.
    - Allocates memory for the output string based on the calculated size.
    - Loops through the input string, copying characters to the output while handling escape sequences appropriately.
    - Handles UTF-16 escape sequences by converting them to UTF-8.
    - Sets the type of the `item` to `cJSON_String` and assigns the output string to `item->valuestring`.
    - Updates the offset in the input buffer to point to the next character after the closing double quote.
    - Returns true if parsing is successful; otherwise, it jumps to the fail label.
- **Output**: Returns true if the string is successfully parsed; otherwise, it returns false.
- **Functions Called**:
    - [`utf16_literal_to_utf8`](<#utf16_literal_to_utf8>)


---
### print\_string\_ptr<!-- {{#callable:print_string_ptr}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L911>)

Renders a string as a JSON-compatible string with proper escaping.
- **Inputs**:
    - `input`: A pointer to the input string that needs to be rendered.
    - `output_buffer`: A pointer to the `printbuffer` structure where the output will be stored.
- **Logic and Control Flow**:
    - Checks if the `output_buffer` is NULL and returns false if it is.
    - Handles the case of an empty input string by writing an empty JSON string to the output buffer.
    - Counts the number of characters that need to be escaped in the input string.
    - Allocates enough space in the output buffer to accommodate the escaped string.
    - Copies the input string to the output buffer, escaping characters as necessary.
    - Handles normal characters and escape sequences appropriately.
- **Output**: Returns true if the string was successfully rendered; otherwise, returns false.
- **Functions Called**:
    - [`ensure`](<#ensure>)


---
### print\_string<!-- {{#callable:print_string}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1033>)

Processes a `cJSON` string item and outputs it to a `printbuffer`.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that contains the string to be printed.
    - `p`: A pointer to a `printbuffer` structure where the output will be stored.
- **Logic and Control Flow**:
    - Calls [`print_string_ptr`](<#print_string_ptr>) with the string value from the `item` and the `printbuffer`.
    - Returns the result of [`print_string_ptr`](<#print_string_ptr>).
- **Output**: Returns a boolean indicating success or failure of the printing operation.
- **Functions Called**:
    - [`print_string_ptr`](<#print_string_ptr>)


---
### buffer\_skip\_whitespace<!-- {{#callable:buffer_skip_whitespace}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1047>)

Skips whitespace characters in a `parse_buffer` and updates its offset.
- **Inputs**:
    - `buffer`: A pointer to a `parse_buffer` structure that contains the content to be processed.
- **Logic and Control Flow**:
    - Checks if the `buffer` or its content is NULL; if so, returns NULL.
    - Checks if the first index of the `buffer` can be accessed; if not, returns the `buffer` as is.
    - Enters a loop that increments the `offset` of the `buffer` while the current character is a whitespace (ASCII value <= 32).
    - If the `offset` reaches the length of the `buffer`, decrements the `offset` by one.
- **Output**: Returns the updated `parse_buffer` after skipping whitespace.


---
### skip\_utf8\_bom<!-- {{#callable:skip_utf8_bom}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1073>)

Skips the UTF-8 BOM if present at the start of the buffer.
- **Inputs**:
    - `buffer`: Pointer to a `parse_buffer` structure that contains the content to be checked.
- **Logic and Control Flow**:
    - Check if `buffer` is NULL or if its `content` is NULL or if the `offset` is not zero; if any condition is true, return NULL.
    - Check if the buffer can access at least 4 bytes and if the first three bytes match the UTF-8 BOM sequence `FBBBF`; if true, increment the `offset` by 3.
- **Output**: Returns the updated `parse_buffer` pointer, or NULL if the input conditions are not met.


---
### cJSON\_ParseWithOpts<!-- {{#callable:cJSON_ParseWithOpts}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1088>)

Parses a JSON string with options for null termination.
- **Inputs**:
    - `value`: A pointer to the JSON string to be parsed.
    - `return_parse_end`: A pointer to a pointer that will receive the address of the character following the last parsed character.
    - `require_null_terminated`: A boolean indicating if the JSON string must be null-terminated.
- **Logic and Control Flow**:
    - Checks if the input string `value` is NULL; if so, returns NULL.
    - Calculates the length of the input string and adds space for a null terminator if required.
    - Calls [`cJSON_ParseWithLengthOpts`](<#cjson_parsewithlengthopts>) to perform the actual parsing with the calculated length.
- **Output**: Returns a pointer to a `cJSON` object representing the parsed JSON data, or NULL if parsing fails.
- **Functions Called**:
    - [`cJSON_ParseWithLengthOpts`](<#cjson_parsewithlengthopts>)


---
### cJSON\_ParseWithLengthOpts<!-- {{#callable:cJSON_ParseWithLengthOpts}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1104>)

Parses a JSON string with specified length and options, returning a `cJSON` object.
- **Inputs**:
    - `value`: A pointer to the JSON string to be parsed.
    - `buffer_length`: The length of the JSON string.
    - `return_parse_end`: A pointer to a pointer that will receive the address of the character following the last parsed character.
    - `require_null_terminated`: A boolean indicating if the JSON string must be null-terminated.
- **Logic and Control Flow**:
    - Initializes a `parse_buffer` structure to hold the JSON string and its length.
    - Resets the global error state.
    - Checks if the input string is NULL or if the buffer length is zero, and jumps to the fail label if true.
    - Allocates a new `cJSON` item to hold the parsed data.
    - Calls [`parse_value`](<#parse_value>) to parse the JSON content, skipping whitespace and BOM.
    - If `require_null_terminated` is true, checks for a null terminator after parsing.
    - If `return_parse_end` is not NULL, sets it to point to the end of the parsed content.
    - Returns the parsed `cJSON` item if successful, otherwise jumps to the fail label.
    - In the fail label, cleans up allocated memory and sets the global error state.
- **Output**: Returns a pointer to a `cJSON` object representing the parsed JSON data, or NULL on failure.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`parse_value`](<#parse_value>)
    - [`buffer_skip_whitespace`](<#buffer_skip_whitespace>)
    - [`skip_utf8_bom`](<#skip_utf8_bom>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_Parse<!-- {{#callable:cJSON_Parse}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1184>)

Parses a JSON string into a `cJSON` object.
- **Inputs**:
    - `value`: A pointer to a null-terminated string containing the JSON data to parse.
- **Logic and Control Flow**:
    - Calls [`cJSON_ParseWithOpts`](<#cjson_parsewithopts>) with the input string and default options.
    - Returns the result of the [`cJSON_ParseWithOpts`](<#cjson_parsewithopts>) function.
- **Output**: Returns a pointer to a `cJSON` object representing the parsed JSON data, or NULL if parsing fails.
- **Functions Called**:
    - [`cJSON_ParseWithOpts`](<#cjson_parsewithopts>)


---
### cJSON\_ParseWithLength<!-- {{#callable:cJSON_ParseWithLength}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1189>)

Parses a JSON string with a specified buffer length.
- **Inputs**:
    - `value`: A pointer to the JSON string to be parsed.
    - `buffer_length`: The length of the JSON string to be parsed.
- **Logic and Control Flow**:
    - Calls [`cJSON_ParseWithLengthOpts`](<#cjson_parsewithlengthopts>) with the provided `value`, `buffer_length`, and default options.
    - Returns the result of the [`cJSON_ParseWithLengthOpts`](<#cjson_parsewithlengthopts>) function.
- **Output**: Returns a pointer to a `cJSON` object representing the parsed JSON data.
- **Functions Called**:
    - [`cJSON_ParseWithLengthOpts`](<#cjson_parsewithlengthopts>)


---
### print<!-- {{#callable:print}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1196>)

Renders a `cJSON` item to a string representation.
- **Inputs**:
    - `item`: A pointer to the `cJSON` item to be printed.
    - `format`: A boolean indicating whether to format the output.
    - `hooks`: A pointer to a structure containing memory allocation functions.
- **Logic and Control Flow**:
    - Initializes a static buffer for printing.
    - Allocates memory for the buffer using the provided allocation function.
    - Checks if the buffer allocation was successful; if not, it jumps to the fail label.
    - Calls [`print_value`](<#print_value>) to render the `cJSON` item into the buffer.
    - Updates the buffer offset after printing the value.
    - Checks if reallocation is available; if so, reallocates the buffer to fit the printed string.
    - If reallocation is not available, allocates a new buffer and copies the printed string into it.
    - Handles memory deallocation in case of failure.
- **Output**: Returns a pointer to the printed string representation of the `cJSON` item, or NULL on failure.
- **Functions Called**:
    - [`print_value`](<#print_value>)
    - [`update_offset`](<#update_offset>)


---
### cJSON\_Print<!-- {{#callable:cJSON_Print}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1261>)

Renders a `cJSON` item to a JSON formatted string.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that will be rendered to a string.
- **Logic and Control Flow**:
    - Calls the [`print`](<#print>) function with the `item`, a boolean value `true` for formatting, and a pointer to `global_hooks`.
    - The [`print`](<#print>) function handles the actual rendering of the `cJSON` item to a string.
- **Output**: Returns a pointer to a string containing the JSON representation of the `cJSON` item.
- **Functions Called**:
    - [`print`](<#print>)


---
### cJSON\_PrintUnformatted<!-- {{#callable:cJSON_PrintUnformatted}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1266>)

Renders a `cJSON` item to a string without formatting.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to be printed.
- **Logic and Control Flow**:
    - Calls the [`print`](<#print>) function with the `item`, a format flag set to false, and global hooks.
    - The [`print`](<#print>) function handles the actual rendering of the `cJSON` item.
- **Output**: Returns a pointer to a string representation of the `cJSON` item.
- **Functions Called**:
    - [`print`](<#print>)


---
### cJSON\_PrintBuffered<!-- {{#callable:cJSON_PrintBuffered}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1271>)

Renders a `cJSON` item to a string with a specified buffer size.
- **Inputs**:
    - `item`: A pointer to the `cJSON` item to be printed.
    - `prebuffer`: An integer specifying the size of the preallocated buffer.
    - `fmt`: A boolean indicating whether to format the output.
- **Logic and Control Flow**:
    - Checks if `prebuffer` is negative and returns `NULL` if true.
    - Allocates a buffer of size `prebuffer` using `global_hooks.allocate`.
    - Checks if the buffer allocation was successful; if not, returns `NULL`.
    - Initializes the `printbuffer` structure with the allocated buffer and other parameters.
    - Calls [`print_value`](<#print_value>) to render the `cJSON` item into the buffer.
    - If [`print_value`](<#print_value>) fails, deallocates the buffer and returns `NULL`.
    - Returns the buffer containing the rendered string.
- **Output**: Returns a pointer to the rendered string on success, or `NULL` on failure.
- **Functions Called**:
    - [`print_value`](<#print_value>)


---
### cJSON\_PrintPreallocated<!-- {{#callable:cJSON_PrintPreallocated}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1301>)

Processes a `cJSON` item and prints it into a preallocated buffer.
- **Inputs**:
    - `item`: A pointer to the `cJSON` item to be printed.
    - `buffer`: A pointer to a preallocated character buffer where the output will be stored.
    - `length`: An integer representing the size of the preallocated buffer.
    - `format`: A boolean indicating whether to format the output.
- **Logic and Control Flow**:
    - Initializes a `printbuffer` structure to hold the output details.
    - Checks if the provided `length` is negative or if `buffer` is NULL, returning false if so.
    - Sets the properties of the `printbuffer` structure using the provided arguments.
    - Calls the [`print_value`](<#print_value>) function to perform the actual printing of the `cJSON` item into the buffer.
- **Output**: Returns true if the printing is successful; otherwise, returns false.
- **Functions Called**:
    - [`print_value`](<#print_value>)


---
### parse\_value<!-- {{#callable:parse_value}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1321>)

Parses a JSON value from the input buffer and populates the provided `cJSON` item.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure where the parsed value will be stored.
    - `input_buffer`: A pointer to a `parse_buffer` structure that contains the JSON input data to be parsed.
- **Logic and Control Flow**:
    - Checks if the `input_buffer` or its content is NULL; if so, returns false.
    - Attempts to parse the string 'null' and updates the `item` type to `cJSON_NULL` if successful.
    - Attempts to parse the string 'false' and updates the `item` type to `cJSON_False` if successful.
    - Attempts to parse the string 'true' and updates the `item` type to `cJSON_True` if successful.
    - Checks if the first character is a double quote to parse a string value.
    - Checks if the first character is a digit or a negative sign to parse a number.
    - Checks if the first character is a left bracket to parse an array.
    - Checks if the first character is a left brace to parse an object.
    - If none of the conditions are met, returns false.
- **Output**: Returns true if a value was successfully parsed; otherwise, returns false.
- **Functions Called**:
    - [`parse_string`](<#parse_string>)
    - [`parse_number`](<#parse_number>)
    - [`parse_array`](<#parse_array>)
    - [`parse_object`](<#parse_object>)


---
### print\_value<!-- {{#callable:print_value}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1376>)

Renders a `cJSON` item to a string representation.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that represents the value to be printed.
    - `output_buffer`: A pointer to a `printbuffer` structure that holds the output string.
- **Logic and Control Flow**:
    - Checks if `item` or `output_buffer` is NULL; if so, returns false.
    - Uses a switch statement to determine the type of `item`.
    - Handles each type (`cJSON_NULL`, `cJSON_False`, `cJSON_True`, `cJSON_Number`, `cJSON_Raw`, `cJSON_String`, `cJSON_Array`, `cJSON_Object`) by calling the appropriate printing function or copying the string directly.
    - For `cJSON_Raw`, it checks if `valuestring` is NULL before copying.
    - Returns false for unsupported types.
- **Output**: Returns true if the printing is successful; otherwise, returns false.
- **Functions Called**:
    - [`ensure`](<#ensure>)
    - [`print_number`](<#print_number>)
    - [`print_string`](<#print_string>)
    - [`print_array`](<#print_array>)
    - [`print_object`](<#print_object>)


---
### parse\_array<!-- {{#callable:parse_array}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1450>)

Parses a JSON array from the input buffer and populates the provided `cJSON` item.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that will hold the parsed array.
    - `input_buffer`: A pointer to a `parse_buffer` structure that contains the JSON input data and its parsing state.
- **Logic and Control Flow**:
    - Checks if the current depth exceeds the nesting limit and returns false if it does.
    - Increments the depth of the input buffer.
    - Validates that the first character in the buffer is '[' to confirm the start of an array.
    - Handles the case of an empty array by checking for a closing bracket ']' immediately after skipping whitespace.
    - Enters a loop to parse each element of the array, allocating new `cJSON` items and linking them in a list.
    - Calls [`parse_value`](<#parse_value>) to parse each element and checks for errors during parsing.
    - Handles the end of the array by checking for a closing bracket ']' and decrements the depth before returning.
- **Output**: Returns true if the array is successfully parsed; otherwise, it returns false and cleans up any allocated items.
- **Functions Called**:
    - [`buffer_skip_whitespace`](<#buffer_skip_whitespace>)
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`parse_value`](<#parse_value>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### print\_array<!-- {{#callable:print_array}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1548>)

Renders a JSON array to a string format.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure representing the array to be printed.
    - `output_buffer`: A pointer to a `printbuffer` structure where the output string will be stored.
- **Logic and Control Flow**:
    - Checks if the `output_buffer` is NULL and returns false if it is.
    - Allocates space for the opening square bracket '[' in the output buffer.
    - Increments the depth of the output buffer.
    - Iterates through each element in the array using a while loop.
    - Calls [`print_value`](<#print_value>) for each element to render it to the output buffer.
    - Updates the output buffer offset after each element.
    - If there are more elements, adds a comma and possibly a space to separate them.
    - After processing all elements, allocates space for the closing square bracket ']' and updates the output buffer.
- **Output**: Returns true if the array is successfully rendered; otherwise, returns false.
- **Functions Called**:
    - [`ensure`](<#ensure>)
    - [`print_value`](<#print_value>)
    - [`update_offset`](<#update_offset>)


---
### parse\_object<!-- {{#callable:parse_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1610>)

Parses a JSON object from the input buffer and populates the provided `cJSON` item.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure that will hold the parsed object.
    - `input_buffer`: A pointer to a `parse_buffer` structure containing the JSON input data and its parsing state.
- **Logic and Control Flow**:
    - Checks if the current depth exceeds the nesting limit and returns false if it does.
    - Increments the depth of the input buffer.
    - Validates that the first character in the buffer is '{' to confirm it is an object.
    - Handles the case of an empty object by checking for '}'.
    - Enters a loop to parse key-value pairs until the end of the object is reached.
    - Allocates memory for new items and attaches them to a linked list.
    - Parses the key as a string and the value using the [`parse_value`](<#parse_value>) function.
    - Checks for proper formatting and structure throughout the parsing process.
    - Returns true if parsing is successful and populates the `item` with the parsed object.
- **Output**: Returns true if the object is successfully parsed; otherwise, it returns false.
- **Functions Called**:
    - [`buffer_skip_whitespace`](<#buffer_skip_whitespace>)
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`parse_string`](<#parse_string>)
    - [`parse_value`](<#parse_value>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### print\_object<!-- {{#callable:print_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1723>)

Renders a `cJSON` object to a formatted string representation.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to be printed.
    - `output_buffer`: A pointer to a `printbuffer` structure that holds the output string.
- **Logic and Control Flow**:
    - Checks if the `output_buffer` is NULL and returns false if it is.
    - Initializes the output with an opening brace '{' and increments the depth.
    - Iterates through each child item of the `cJSON` object.
    - Prints the key of each child item followed by its value.
    - Handles formatting based on the `output_buffer` settings.
    - Adds commas between items if there are more items to print.
    - Finalizes the output with a closing brace '}'.
- **Output**: Returns true if the printing is successful; otherwise, returns false.
- **Functions Called**:
    - [`ensure`](<#ensure>)
    - [`print_string_ptr`](<#print_string_ptr>)
    - [`update_offset`](<#update_offset>)
    - [`print_value`](<#print_value>)


---
### cJSON\_GetArraySize<!-- {{#callable:cJSON_GetArraySize}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1837>)

Returns the number of elements in a `cJSON` array.
- **Inputs**:
    - `array`: A pointer to a `cJSON` object representing an array.
- **Logic and Control Flow**:
    - Checks if the `array` pointer is NULL; if so, returns 0.
    - Initializes a pointer `child` to the first child of the array.
    - Iterates through the linked list of child elements, incrementing a counter `size` for each child.
    - Returns the count of child elements as an integer.
- **Output**: An integer representing the number of elements in the array.


---
### get\_array\_item<!-- {{#callable:get_array_item}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1860>)

Retrieves an item from a JSON array at a specified index.
- **Inputs**:
    - `array`: A pointer to a `cJSON` structure representing the JSON array.
    - `index`: A size_t value representing the index of the item to retrieve.
- **Logic and Control Flow**:
    - Checks if the `array` pointer is NULL; if so, returns NULL.
    - Initializes `current_child` to the first child of the `array`.
    - Iterates through the children of the array, decrementing `index` until it reaches zero or there are no more children.
    - Returns the current child if found, otherwise returns NULL.
- **Output**: Returns a pointer to the `cJSON` item at the specified index, or NULL if the index is out of bounds or the array is NULL.


---
### cJSON\_GetArrayItem<!-- {{#callable:cJSON_GetArrayItem}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1879>)

Returns the item at the specified index from a JSON array.
- **Inputs**:
    - `array`: A pointer to a `cJSON` object representing the JSON array.
    - `index`: An integer representing the index of the item to retrieve from the array.
- **Logic and Control Flow**:
    - Checks if the `index` is less than 0.
    - If `index` is negative, returns `NULL`.
    - Calls [`get_array_item`](<#get_array_item>) with the `array` and `index` cast to `size_t`.
- **Output**: Returns a pointer to the `cJSON` item at the specified index, or `NULL` if the index is negative.
- **Functions Called**:
    - [`get_array_item`](<#get_array_item>)


---
### get\_object\_item<!-- {{#callable:get_object_item}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1889>)

Retrieves an item from a JSON object by its name.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object from which to retrieve the item.
    - `name`: A string representing the name of the item to retrieve.
    - `case_sensitive`: A boolean indicating whether the name comparison should be case sensitive.
- **Logic and Control Flow**:
    - Checks if `object` or `name` is NULL and returns NULL if true.
    - Initializes `current_element` to the first child of `object`.
    - If `case_sensitive` is true, iterates through the children of `object` comparing `name` with each child's string using `strcmp`.
    - If `case_sensitive` is false, iterates using [`case_insensitive_strcmp`](<#case_insensitive_strcmp>) for comparison.
    - Returns `NULL` if no matching child is found or if the child's string is NULL.
    - Returns the matching child if found.
- **Output**: Returns a pointer to the `cJSON` item if found, otherwise returns NULL.
- **Functions Called**:
    - [`case_insensitive_strcmp`](<#case_insensitive_strcmp>)


---
### cJSON\_GetObjectItem<!-- {{#callable:cJSON_GetObjectItem}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1921>)

Retrieves an item from a JSON object by its key.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object from which to retrieve the item.
    - `string`: A pointer to a string representing the key of the item to retrieve.
- **Logic and Control Flow**:
    - Calls the [`get_object_item`](<#get_object_item>) function with the provided `object`, `string`, and a case sensitivity flag set to false.
    - The [`get_object_item`](<#get_object_item>) function searches for the item in the object and returns it if found.
- **Output**: Returns a pointer to the `cJSON` item associated with the specified key, or NULL if the key does not exist.
- **Functions Called**:
    - [`get_object_item`](<#get_object_item>)


---
### cJSON\_GetObjectItemCaseSensitive<!-- {{#callable:cJSON_GetObjectItemCaseSensitive}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1926>)

Retrieves an item from a JSON object using a case-sensitive key.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object from which to retrieve the item.
    - `string`: A pointer to a string representing the key of the item to retrieve.
- **Logic and Control Flow**:
    - Calls the [`get_object_item`](<#get_object_item>) function with the `object`, `string`, and a boolean value `true` for case sensitivity.
    - The [`get_object_item`](<#get_object_item>) function searches for the item in the object based on the provided key.
- **Output**: Returns a pointer to the `cJSON` item if found; otherwise, returns NULL.
- **Functions Called**:
    - [`get_object_item`](<#get_object_item>)


---
### cJSON\_HasObjectItem<!-- {{#callable:cJSON_HasObjectItem}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1931>)

Checks if an object has a specific item.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object to check for the item.
    - `string`: A pointer to a string representing the name of the item to check.
- **Logic and Control Flow**:
    - Calls [`cJSON_GetObjectItem`](<#cjson_getobjectitem>) with `object` and `string` to retrieve the item.
    - Returns 1 (true) if the item exists, otherwise returns 0 (false).
- **Output**: Returns a boolean value indicating whether the specified item exists in the object.
- **Functions Called**:
    - [`cJSON_GetObjectItem`](<#cjson_getobjectitem>)


---
### suffix\_object<!-- {{#callable:suffix_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1937>)

Links two `cJSON` objects in a doubly linked list.
- **Inputs**:
    - `prev`: A pointer to the previous `cJSON` object.
    - `item`: A pointer to the current `cJSON` object to be linked.
- **Logic and Control Flow**:
    - Sets the `next` pointer of the `prev` object to point to the `item` object.
    - Sets the `prev` pointer of the `item` object to point back to the `prev` object.
- **Output**: This function does not return a value.


---
### create\_reference<!-- {{#callable:create_reference}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1944>)

Creates a new `cJSON` reference item based on an existing item.
- **Inputs**:
    - `item`: A pointer to the original `cJSON` item to create a reference from.
    - `hooks`: A pointer to `internal_hooks` structure for memory management.
- **Logic and Control Flow**:
    - Checks if the `item` is NULL; if so, returns NULL.
    - Allocates a new `cJSON` item using [`cJSON_New_Item`](<#cjson_new_item>).
    - If allocation fails, returns NULL.
    - Copies the contents of `item` to the new reference item using `memcpy`.
    - Sets the `string` field of the new item to NULL.
    - Marks the new item as a reference by modifying its `type` field.
    - Initializes the `next` and `prev` pointers of the new item to NULL.
    - Returns the new reference item.
- **Output**: Returns a pointer to the newly created `cJSON` reference item, or NULL if the input item is NULL or memory allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### add\_item\_to\_array<!-- {{#callable:add_item_to_array}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1965>)

Adds an item to a `cJSON` array.
- **Inputs**:
    - `array`: A pointer to a `cJSON` object representing the array to which the item will be added.
    - `item`: A pointer to a `cJSON` object representing the item to be added to the array.
- **Logic and Control Flow**:
    - Checks if `item` or `array` is NULL or if `item` is the same as `array`, returning false if any condition is true.
    - If the array is empty, sets the `child` of the array to `item`, making `item` the first element.
    - If the array is not empty, appends `item` to the end of the array using the `prev` pointer of the last child.
- **Output**: Returns true if the item was successfully added to the array; otherwise, returns false.
- **Functions Called**:
    - [`suffix_object`](<#suffix_object>)


---
### cJSON\_AddItemToArray<!-- {{#callable:cJSON_AddItemToArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1999>)

Adds an item to a `cJSON` array.
- **Inputs**:
    - `array`: A pointer to a `cJSON` object representing the array to which the item will be added.
    - `item`: A pointer to a `cJSON` object representing the item to be added to the array.
- **Logic and Control Flow**:
    - Calls the [`add_item_to_array`](<#add_item_to_array>) function with the provided `array` and `item`.
    - Returns the result of the [`add_item_to_array`](<#add_item_to_array>) function.
- **Output**: Returns a boolean value indicating success or failure of adding the item to the array.
- **Functions Called**:
    - [`add_item_to_array`](<#add_item_to_array>)


---
### cast\_away\_const<!-- {{#callable:cast_away_const}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2011>)

Casts away the `const` qualifier from a pointer.
- **Inputs**:
    - `string`: A pointer to a constant data type.
- **Logic and Control Flow**:
    - The function takes a pointer of type `const void*` as input.
    - It casts the pointer to a `void*` type and returns it.
- **Output**: Returns a pointer of type `void*` that points to the same memory location as the input pointer.


---
### add\_item\_to\_object<!-- {{#callable:add_item_to_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2020>)

Adds an item to a `cJSON` object with a specified key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the item will be added.
    - `string`: A string representing the key for the item in the object.
    - `item`: A pointer to the `cJSON` item to be added.
    - `hooks`: A pointer to `internal_hooks` for memory management.
    - `constant_key`: A boolean indicating if the key is constant.
- **Logic and Control Flow**:
    - Checks if any of the input parameters are NULL or if the `object` is the same as `item`, returning false if so.
    - If `constant_key` is true, it casts away the constness of `string` and sets the item type to include `cJSON_StringIsConst`.
    - If `constant_key` is false, it duplicates the `string` and sets the item type without `cJSON_StringIsConst`.
    - If the item is not constant and has a string, it deallocates the existing string.
    - Sets the item's string and type, then calls [`add_item_to_array`](<#add_item_to_array>) to add the item to the object.
- **Output**: Returns true if the item was successfully added, otherwise returns false.
- **Functions Called**:
    - [`cast_away_const`](<#cast_away_const>)
    - [`cJSON_strdup`](<#cjson_strdup>)
    - [`add_item_to_array`](<#add_item_to_array>)


---
### cJSON\_AddItemToObject<!-- {{#callable:cJSON_AddItemToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2057>)

Adds an item to a `cJSON` object with a specified key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the item will be added.
    - `string`: A string representing the key under which the item will be stored.
    - `item`: A pointer to the `cJSON` item that will be added to the object.
- **Logic and Control Flow**:
    - Checks if the `object`, `string`, or `item` is NULL; if so, returns false.
    - Calls [`add_item_to_object`](<#add_item_to_object>) to add the item to the object with the specified key.
    - Returns the result of the [`add_item_to_object`](<#add_item_to_object>) function.
- **Output**: Returns true if the item was successfully added; otherwise, returns false.
- **Functions Called**:
    - [`add_item_to_object`](<#add_item_to_object>)


---
### cJSON\_AddItemToObjectCS<!-- {{#callable:cJSON_AddItemToObjectCS}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2063>)

Adds an item to a `cJSON` object with a constant string key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the item will be added.
    - `string`: A constant string key for the item being added.
    - `item`: A pointer to the `cJSON` item to be added to the object.
- **Logic and Control Flow**:
    - Checks if the `object`, `string`, or `item` is NULL or if the `object` is the same as `item`.
    - If the `constant_key` flag is true, the `string` is cast to a non-const type.
    - If `constant_key` is false, a duplicate of the `string` is created.
    - If the `item` is not a constant string and has a string, it is deallocated.
    - The `item`'s string and type are set based on the key and type.
    - The item is added to the object using the `add_item_to_array` function.
- **Output**: Returns true if the item was added successfully, otherwise returns false.
- **Functions Called**:
    - [`add_item_to_object`](<#add_item_to_object>)


---
### cJSON\_AddItemReferenceToArray<!-- {{#callable:cJSON_AddItemReferenceToArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2068>)

Adds a reference to an item in a specified array.
- **Inputs**:
    - `array`: A pointer to a `cJSON` object representing the array to which the item will be added.
    - `item`: A pointer to a `cJSON` object representing the item to be added as a reference.
- **Logic and Control Flow**:
    - Checks if the `array` pointer is NULL; if it is, returns false.
    - Calls [`create_reference`](<#create_reference>) to create a reference to the `item`.
    - Calls [`add_item_to_array`](<#add_item_to_array>) to add the created reference to the specified `array`.
- **Output**: Returns true if the item was successfully added as a reference; otherwise, returns false.
- **Functions Called**:
    - [`add_item_to_array`](<#add_item_to_array>)
    - [`create_reference`](<#create_reference>)


---
### cJSON\_AddItemReferenceToObject<!-- {{#callable:cJSON_AddItemReferenceToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2078>)

Adds a reference to an item in a cJSON object using a specified string key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object where the item will be added.
    - `string`: A string key used to reference the item in the object.
    - `item`: A pointer to the `cJSON` item that will be added as a reference.
- **Logic and Control Flow**:
    - Checks if `object` or `string` is NULL; if so, returns false.
    - Calls [`add_item_to_object`](<#add_item_to_object>) with the object, string, and a reference created from the item.
- **Output**: Returns true if the item was successfully added; otherwise, returns false.
- **Functions Called**:
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`create_reference`](<#create_reference>)


---
### cJSON\_AddNullToObject<!-- {{#callable:cJSON_AddNullToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2088>)

Adds a `null` item to a `cJSON` object with a specified name.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object where the null item will be added.
    - `name`: A string representing the name under which the null item will be stored in the object.
- **Logic and Control Flow**:
    - Creates a new `cJSON` null item using `cJSON_CreateNull()`.
    - Attempts to add the null item to the specified object using `add_item_to_object()`.
    - If the addition is successful, returns the null item.
    - If the addition fails, deletes the null item and returns `NULL`.
- **Output**: Returns a pointer to the newly created null item if successful, or `NULL` if the addition fails.
- **Functions Called**:
    - [`cJSON_CreateNull`](<#cjson_createnull>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddTrueToObject<!-- {{#callable:cJSON_AddTrueToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2100>)

Adds a `true` value to a specified key in a `cJSON` object.
- **Inputs**:
    - `object`: A pointer to a `cJSON` object where the `true` value will be added.
    - `name`: A string representing the key under which the `true` value will be stored.
- **Logic and Control Flow**:
    - Creates a new `cJSON` item representing the `true` value using `cJSON_CreateTrue()`.
    - Attempts to add the `true` item to the specified `object` using `add_item_to_object()`.
    - If the addition is successful, returns the `true_item`.
    - If the addition fails, deletes the `true_item` and returns `NULL`.
- **Output**: Returns a pointer to the newly created `true` item if successful, otherwise returns `NULL`.
- **Functions Called**:
    - [`cJSON_CreateTrue`](<#cjson_createtrue>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddFalseToObject<!-- {{#callable:cJSON_AddFalseToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2112>)

Adds a `false` item to a specified object in the cJSON structure.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object where the `false` item will be added.
    - `name`: A string representing the key under which the `false` item will be stored.
- **Logic and Control Flow**:
    - Creates a new `cJSON` item representing `false` using `cJSON_CreateFalse()`.
    - Attempts to add the `false` item to the specified object using `add_item_to_object()`.
    - If the addition is successful, returns the created `false` item.
    - If the addition fails, deletes the created `false` item and returns `NULL`.
- **Output**: Returns a pointer to the created `false` item if successful, otherwise returns `NULL`.
- **Functions Called**:
    - [`cJSON_CreateFalse`](<#cjson_createfalse>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddBoolToObject<!-- {{#callable:cJSON_AddBoolToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2124>)

Adds a boolean value to a `cJSON` object with a specified name.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the boolean will be added.
    - `name`: A string representing the name under which the boolean value will be stored.
    - `boolean`: The boolean value to be added to the object.
- **Logic and Control Flow**:
    - Creates a new `cJSON` item representing the boolean value using `cJSON_CreateBool(boolean)`.
    - Checks if the boolean item can be added to the object using [`add_item_to_object`](<#add_item_to_object>).
    - If the item is added successfully, returns the boolean item.
    - If the addition fails, deletes the boolean item and returns NULL.
- **Output**: Returns a pointer to the added boolean item if successful, or NULL if the addition fails.
- **Functions Called**:
    - [`cJSON_CreateBool`](<#cjson_createbool>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddNumberToObject<!-- {{#callable:cJSON_AddNumberToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2136>)

Adds a number to a `cJSON` object with a specified name.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the number will be added.
    - `name`: A string representing the name under which the number will be stored in the object.
    - `number`: The number to be added to the object.
- **Logic and Control Flow**:
    - Creates a new `cJSON` item for the number using [`cJSON_CreateNumber`](<#cjson_createnumber>).
    - Attempts to add the number item to the object using [`add_item_to_object`](<#add_item_to_object>).
    - If the addition is successful, returns the number item.
    - If the addition fails, deletes the number item and returns NULL.
- **Output**: Returns a pointer to the newly created number item if successful, or NULL if the addition fails.
- **Functions Called**:
    - [`cJSON_CreateNumber`](<#cjson_createnumber>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddStringToObject<!-- {{#callable:cJSON_AddStringToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2148>)

Adds a string item to a JSON object.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the string will be added.
    - `name`: A pointer to a constant string that represents the key for the new string item.
    - `string`: A pointer to a constant string that represents the value of the new string item.
- **Logic and Control Flow**:
    - Creates a new `cJSON` string item using [`cJSON_CreateString`](<#cjson_createstring>) with the provided `string`.
    - Checks if the item was successfully added to the `object` using [`add_item_to_object`](<#add_item_to_object>).
    - If the item is added successfully, returns the created string item.
    - If the addition fails, deletes the created string item and returns NULL.
- **Output**: Returns a pointer to the newly created string item if successful, or NULL if the addition fails.
- **Functions Called**:
    - [`cJSON_CreateString`](<#cjson_createstring>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddRawToObject<!-- {{#callable:cJSON_AddRawToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2160>)

Adds a raw JSON string to a specified object.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the raw string will be added.
    - `name`: A string representing the key under which the raw string will be stored in the object.
    - `raw`: A string containing the raw JSON data to be added.
- **Logic and Control Flow**:
    - Creates a new `cJSON` item from the raw string using [`cJSON_CreateRaw`](<#cjson_createraw>).
    - Attempts to add the created item to the specified object using [`add_item_to_object`](<#add_item_to_object>).
    - If the addition is successful, returns the created item.
    - If the addition fails, deletes the created item and returns NULL.
- **Output**: Returns a pointer to the added `cJSON` item if successful, otherwise returns NULL.
- **Functions Called**:
    - [`cJSON_CreateRaw`](<#cjson_createraw>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddObjectToObject<!-- {{#callable:cJSON_AddObjectToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2172>)

Adds a new object to an existing object with a specified name.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the new object will be added.
    - `name`: A string representing the name under which the new object will be stored.
- **Logic and Control Flow**:
    - Creates a new `cJSON` object using `cJSON_CreateObject()`.
    - Calls `add_item_to_object()` to add the new object to the specified parent object with the given name.
    - If the addition is successful, returns the newly created object.
    - If the addition fails, deletes the newly created object and returns NULL.
- **Output**: Returns a pointer to the newly added `cJSON` object if successful; otherwise, returns NULL.
- **Functions Called**:
    - [`cJSON_CreateObject`](<#cjson_createobject>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_AddArrayToObject<!-- {{#callable:cJSON_AddArrayToObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2184>)

Adds a new array to a `cJSON` object with a specified name.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object to which the array will be added.
    - `name`: A string representing the name of the new array in the object.
- **Logic and Control Flow**:
    - Creates a new `cJSON` array using `cJSON_CreateArray()`.
    - Calls `add_item_to_object()` to add the newly created array to the specified object with the given name.
    - If the addition is successful, returns the pointer to the new array.
    - If the addition fails, deletes the created array and returns NULL.
- **Output**: Returns a pointer to the newly created array if successful; otherwise, returns NULL.
- **Functions Called**:
    - [`cJSON_CreateArray`](<#cjson_createarray>)
    - [`add_item_to_object`](<#add_item_to_object>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_DetachItemViaPointer<!-- {{#callable:cJSON_DetachItemViaPointer}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2196>)

Detaches an item from its parent in a linked list structure.
- **Inputs**:
    - `parent`: A pointer to the `cJSON` object that is the parent of the item to be detached.
    - `item`: A pointer to the `cJSON` object that is to be detached from its parent.
- **Logic and Control Flow**:
    - Checks if either `parent` or `item` is NULL; if so, returns NULL.
    - If `item` is not the first child of `parent`, updates the `next` pointer of `item`'s previous sibling.
    - If `item` is not the last child, updates the `prev` pointer of `item`'s next sibling.
    - If `item` is the first child, updates `parent->child` to point to `item`'s next sibling.
    - If `item` is the last child, updates the `prev` pointer of the new last child.
    - Sets `item`'s `prev` and `next` pointers to NULL to detach it completely.
- **Output**: Returns a pointer to the detached `item`, or NULL if the operation fails.


---
### cJSON\_DetachItemFromArray<!-- {{#callable:cJSON_DetachItemFromArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2232>)

Detaches an item from a JSON array at a specified index.
- **Inputs**:
    - `array`: A pointer to the `cJSON` array from which an item will be detached.
    - `which`: An integer index specifying the position of the item to detach.
- **Logic and Control Flow**:
    - Checks if the index `which` is less than 0; if so, returns NULL.
    - Calls [`get_array_item`](<#get_array_item>) to retrieve the item at the specified index.
    - Calls [`cJSON_DetachItemViaPointer`](<#cjson_detachitemviapointer>) to detach the item from the array.
- **Output**: Returns a pointer to the detached `cJSON` item, or NULL if the index is invalid.
- **Functions Called**:
    - [`cJSON_DetachItemViaPointer`](<#cjson_detachitemviapointer>)
    - [`get_array_item`](<#get_array_item>)


---
### cJSON\_DeleteItemFromArray<!-- {{#callable:cJSON_DeleteItemFromArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2242>)

Deletes an item from a `cJSON` array at a specified index.
- **Inputs**:
    - `array`: A pointer to the `cJSON` array from which an item will be deleted.
    - `which`: An integer index specifying the position of the item to delete in the array.
- **Logic and Control Flow**:
    - Calls [`cJSON_DetachItemFromArray`](<#cjson_detachitemfromarray>) to detach the item at the specified index.
    - Passes the detached item to [`cJSON_Delete`](<#cjson_delete>) to free its memory.
- **Output**: This function does not return a value; it modifies the array by removing the specified item.
- **Functions Called**:
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`cJSON_DetachItemFromArray`](<#cjson_detachitemfromarray>)


---
### cJSON\_DetachItemFromObject<!-- {{#callable:cJSON_DetachItemFromObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2247>)

Detaches an item from a `cJSON` object using its string key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object from which the item will be detached.
    - `string`: A string representing the key of the item to detach.
- **Logic and Control Flow**:
    - Calls [`cJSON_GetObjectItem`](<#cjson_getobjectitem>) to retrieve the item associated with the provided key from the `object`.
    - Calls [`cJSON_DetachItemViaPointer`](<#cjson_detachitemviapointer>) to detach the retrieved item from the `object`.
- **Output**: Returns a pointer to the detached `cJSON` item, or NULL if the item does not exist.
- **Functions Called**:
    - [`cJSON_GetObjectItem`](<#cjson_getobjectitem>)
    - [`cJSON_DetachItemViaPointer`](<#cjson_detachitemviapointer>)


---
### cJSON\_DetachItemFromObjectCaseSensitive<!-- {{#callable:cJSON_DetachItemFromObjectCaseSensitive}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2254>)

Detaches an item from a `cJSON` object using a case-sensitive key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object from which the item will be detached.
    - `string`: A pointer to the string key used to identify the item to detach.
- **Logic and Control Flow**:
    - Calls [`cJSON_GetObjectItemCaseSensitive`](<#cjson_getobjectitemcasesensitive>) to find the item associated with the provided key in a case-sensitive manner.
    - Calls [`cJSON_DetachItemViaPointer`](<#cjson_detachitemviapointer>) to detach the found item from the object.
- **Output**: Returns a pointer to the detached `cJSON` item, or `NULL` if the item was not found.
- **Functions Called**:
    - [`cJSON_GetObjectItemCaseSensitive`](<#cjson_getobjectitemcasesensitive>)
    - [`cJSON_DetachItemViaPointer`](<#cjson_detachitemviapointer>)


---
### cJSON\_DeleteItemFromObject<!-- {{#callable:cJSON_DeleteItemFromObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2261>)

Deletes an item from a `cJSON` object using its key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object from which the item will be deleted.
    - `string`: A pointer to the string key of the item to be deleted.
- **Logic and Control Flow**:
    - Calls [`cJSON_DetachItemFromObject`](<#cjson_detachitemfromobject>) to detach the item associated with the given key from the object.
    - Passes the detached item to [`cJSON_Delete`](<#cjson_delete>) to free its memory.
- **Output**: This function does not return a value; it performs the deletion operation directly.
- **Functions Called**:
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`cJSON_DetachItemFromObject`](<#cjson_detachitemfromobject>)


---
### cJSON\_DeleteItemFromObjectCaseSensitive<!-- {{#callable:cJSON_DeleteItemFromObjectCaseSensitive}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2266>)

Deletes an item from a `cJSON` object using a case-sensitive key.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object from which the item will be deleted.
    - `string`: A pointer to the string key of the item to be deleted.
- **Logic and Control Flow**:
    - Calls [`cJSON_DetachItemFromObjectCaseSensitive`](<#cjson_detachitemfromobjectcasesensitive>) to detach the item from the object.
    - Passes the detached item to [`cJSON_Delete`](<#cjson_delete>) to free its memory.
- **Output**: This function does not return a value; it performs the deletion operation directly.
- **Functions Called**:
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`cJSON_DetachItemFromObjectCaseSensitive`](<#cjson_detachitemfromobjectcasesensitive>)


---
### cJSON\_InsertItemInArray<!-- {{#callable:cJSON_InsertItemInArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2272>)

Inserts a new item into a specified position in a JSON array.
- **Inputs**:
    - `array`: A pointer to the `cJSON` array where the new item will be inserted.
    - `which`: An integer representing the index position in the array where the new item will be inserted.
    - `newitem`: A pointer to the `cJSON` item that will be inserted into the array.
- **Logic and Control Flow**:
    - Checks if the index `which` is less than 0; if so, returns false.
    - Retrieves the item currently at the specified index using [`get_array_item`](<#get_array_item>).
    - If the item at the specified index is NULL, adds the new item to the end of the array using [`add_item_to_array`](<#add_item_to_array>).
    - If the item exists, updates the pointers of the new item and the existing item to insert the new item before the existing item.
    - If the existing item is the first child of the array, updates the array's child pointer to the new item.
- **Output**: Returns true if the insertion is successful; otherwise, returns false.
- **Functions Called**:
    - [`get_array_item`](<#get_array_item>)
    - [`add_item_to_array`](<#add_item_to_array>)


---
### cJSON\_ReplaceItemViaPointer<!-- {{#callable:cJSON_ReplaceItemViaPointer}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2301>)

Replaces an item in a `cJSON` structure with a new item.
- **Inputs**:
    - `parent`: A pointer to the `cJSON` structure that contains the item to be replaced.
    - `item`: A pointer to the `cJSON` item that will be replaced.
    - `replacement`: A pointer to the `cJSON` item that will replace the existing item.
- **Logic and Control Flow**:
    - Checks if any of the input pointers are NULL; if so, returns false.
    - If the `replacement` is the same as `item`, returns true.
    - Updates the `next` and `prev` pointers of the `replacement` item.
    - If the `item` is the first child of `parent`, updates the `child` pointer of `parent` to point to `replacement`.
    - If the `item` is not the first child, adjusts the `next` and `prev` pointers accordingly.
    - Clears the pointers of the `item` and deletes it.
- **Output**: Returns true if the replacement was successful; otherwise, returns false.
- **Functions Called**:
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_ReplaceItemInArray<!-- {{#callable:cJSON_ReplaceItemInArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2350>)

Replaces an item in a `cJSON` array with a new item.
- **Inputs**:
    - `array`: A pointer to the `cJSON` array where the item will be replaced.
    - `which`: An integer index indicating the position of the item to replace.
    - `newitem`: A pointer to the new `cJSON` item that will replace the existing item.
- **Logic and Control Flow**:
    - Checks if the index `which` is less than 0; if so, returns false.
    - Calls [`cJSON_ReplaceItemViaPointer`](<#cjson_replaceitemviapointer>) to replace the item at the specified index with `newitem`.
- **Output**: Returns true if the replacement is successful; otherwise, returns false.
- **Functions Called**:
    - [`cJSON_ReplaceItemViaPointer`](<#cjson_replaceitemviapointer>)
    - [`get_array_item`](<#get_array_item>)


---
### replace\_item\_in\_object<!-- {{#callable:replace_item_in_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2360>)

Replaces an item in a `cJSON` object with a new item.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object that contains the item to be replaced.
    - `string`: A string representing the key of the item to be replaced.
    - `replacement`: A pointer to the `cJSON` item that will replace the existing item.
    - `case_sensitive`: A boolean indicating whether the key comparison should be case sensitive.
- **Logic and Control Flow**:
    - Checks if `replacement` or `string` is NULL; if so, returns false.
    - If `replacement` is not a constant string and has a non-NULL string, frees the existing string.
    - Duplicates the `string` and assigns it to `replacement->string`.
    - If the duplication fails, returns false.
    - Clears the constant string flag from `replacement->type`.
    - Calls [`cJSON_ReplaceItemViaPointer`](<#cjson_replaceitemviapointer>) to replace the item in the object.
- **Output**: Returns true if the item was successfully replaced; otherwise, returns false.
- **Functions Called**:
    - [`cJSON_free`](<#cjson_free>)
    - [`cJSON_strdup`](<#cjson_strdup>)
    - [`cJSON_ReplaceItemViaPointer`](<#cjson_replaceitemviapointer>)
    - [`get_object_item`](<#get_object_item>)


---
### cJSON\_ReplaceItemInObject<!-- {{#callable:cJSON_ReplaceItemInObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2383>)

Replaces an item in a `cJSON` object with a new item.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object that contains the item to be replaced.
    - `string`: A string representing the key of the item to be replaced in the object.
    - `newitem`: A pointer to the new `cJSON` item that will replace the existing item.
- **Logic and Control Flow**:
    - Calls the [`replace_item_in_object`](<#replace_item_in_object>) function with the provided parameters and a case sensitivity flag set to false.
- **Output**: Returns a boolean value indicating whether the replacement was successful.
- **Functions Called**:
    - [`replace_item_in_object`](<#replace_item_in_object>)


---
### cJSON\_ReplaceItemInObjectCaseSensitive<!-- {{#callable:cJSON_ReplaceItemInObjectCaseSensitive}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2388>)

Replaces an item in a JSON object with a new item, considering case sensitivity.
- **Inputs**:
    - `object`: A pointer to the `cJSON` object that contains the item to be replaced.
    - `string`: A pointer to a string that specifies the key of the item to be replaced.
    - `newitem`: A pointer to the new `cJSON` item that will replace the existing item.
- **Logic and Control Flow**:
    - Checks if the `replacement` and `string` are not NULL.
    - Calls [`replace_item_in_object`](<#replace_item_in_object>) with the `object`, `string`, `replacement`, and a boolean value for case sensitivity set to true.
    - Returns the result of the [`replace_item_in_object`](<#replace_item_in_object>) function.
- **Output**: Returns a boolean value indicating whether the replacement was successful.
- **Functions Called**:
    - [`replace_item_in_object`](<#replace_item_in_object>)


---
### cJSON\_CreateNull<!-- {{#callable:cJSON_CreateNull}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2394>)

Creates a new `cJSON` item of type `cJSON_NULL`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - If the allocation is successful, sets the item's type to `cJSON_NULL`.
- **Output**: Returns a pointer to the newly created `cJSON` item, or `NULL` if the allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateTrue<!-- {{#callable:cJSON_CreateTrue}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2405>)

Creates a new `cJSON` item of type `cJSON_True`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - If the item is successfully created, sets its type to `cJSON_True`.
- **Output**: Returns a pointer to the newly created `cJSON` item, or NULL if the allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateFalse<!-- {{#callable:cJSON_CreateFalse}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2416>)

Creates a new `cJSON` item of type `cJSON_False`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - If the item is successfully created, sets its type to `cJSON_False`.
- **Output**: Returns a pointer to the newly created `cJSON` item, or NULL if the allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateBool<!-- {{#callable:cJSON_CreateBool}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2427>)

Creates a new `cJSON` item representing a boolean value.
- **Inputs**:
    - `boolean`: A boolean value of type `cJSON_bool` that determines the type of the created item.
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - Checks if the item was successfully created.
    - Sets the `type` of the item to `cJSON_True` if the input boolean is true, otherwise sets it to `cJSON_False`.
    - Returns the created item.
- **Output**: Returns a pointer to the newly created `cJSON` item, or NULL if the item could not be created.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateNumber<!-- {{#callable:cJSON_CreateNumber}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2438>)

Creates a new `cJSON` item representing a number.
- **Inputs**:
    - `num`: A `double` value representing the number to be created.
- **Logic and Control Flow**:
    - Allocates a new `cJSON` item using [`cJSON_New_Item`](<#cjson_new_item>).
    - Checks if the item was successfully created.
    - Sets the type of the item to `cJSON_Number`.
    - Assigns the `double` value to `valuedouble`.
    - Checks for overflow and assigns the integer value to `valueint` accordingly.
- **Output**: Returns a pointer to the newly created `cJSON` item, or `NULL` if the item could not be created.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateString<!-- {{#callable:cJSON_CreateString}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2464>)

Creates a new `cJSON` item of type string from the provided C string.
- **Inputs**:
    - `string`: A pointer to a null-terminated C string that will be used as the value of the new `cJSON` string item.
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - If the allocation is successful, sets the type of the item to `cJSON_String`.
    - Uses [`cJSON_strdup`](<#cjson_strdup>) to duplicate the input string and assign it to the `valuestring` field of the item.
    - If string duplication fails, deletes the item and returns NULL.
    - Returns the created `cJSON` item.
- **Output**: Returns a pointer to the newly created `cJSON` string item, or NULL if the creation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`cJSON_strdup`](<#cjson_strdup>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_CreateStringReference<!-- {{#callable:cJSON_CreateStringReference}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2481>)

Creates a `cJSON` item that references a string without copying it.
- **Inputs**:
    - `string`: A pointer to a constant character string that will be referenced.
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - Checks if the item allocation was successful.
    - Sets the type of the item to `cJSON_String` and marks it as a reference.
    - Assigns the `valuestring` of the item to the input string after casting away its const qualifier.
    - Returns the created item.
- **Output**: Returns a pointer to the newly created `cJSON` item, or NULL if the allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`cast_away_const`](<#cast_away_const>)


---
### cJSON\_CreateObjectReference<!-- {{#callable:cJSON_CreateObjectReference}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2493>)

Creates a reference to a `cJSON` object.
- **Inputs**:
    - `child`: A pointer to a constant `cJSON` object that will be referenced.
- **Logic and Control Flow**:
    - Allocates a new `cJSON` item using [`cJSON_New_Item`](<#cjson_new_item>).
    - If allocation is successful, sets the type of the item to `cJSON_Object | cJSON_IsReference`.
    - Assigns the `child` parameter to the `child` field of the new item after casting away its const qualifier.
    - Returns the newly created item.
- **Output**: Returns a pointer to the newly created `cJSON` object reference, or `NULL` if allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`cast_away_const`](<#cast_away_const>)


---
### cJSON\_CreateArrayReference<!-- {{#callable:cJSON_CreateArrayReference}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2504>)

Creates a new `cJSON` array reference from an existing `cJSON` array.
- **Inputs**:
    - `child`: A pointer to a constant `cJSON` object that represents the array to be referenced.
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate a new `cJSON` item.
    - If allocation is successful, sets the type of the item to `cJSON_Array | cJSON_IsReference`.
    - Assigns the `child` parameter to the `child` field of the new item after casting away its const qualifier.
    - Returns the newly created item.
- **Output**: Returns a pointer to the newly created `cJSON` array reference, or NULL if allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`cast_away_const`](<#cast_away_const>)


---
### cJSON\_CreateRaw<!-- {{#callable:cJSON_CreateRaw}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2514>)

Creates a `cJSON` item of type `cJSON_Raw` from a raw string.
- **Inputs**:
    - `raw`: A pointer to a null-terminated string that represents the raw JSON data.
- **Logic and Control Flow**:
    - Allocates a new `cJSON` item using [`cJSON_New_Item`](<#cjson_new_item>).
    - If allocation is successful, sets the item's type to `cJSON_Raw`.
    - Duplicates the input string `raw` using [`cJSON_strdup`](<#cjson_strdup>) and assigns it to the item's `valuestring`.
    - If string duplication fails, deletes the item and returns NULL.
    - Returns the created `cJSON` item.
- **Output**: Returns a pointer to the newly created `cJSON` item, or NULL if allocation or duplication fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`cJSON_strdup`](<#cjson_strdup>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### cJSON\_CreateArray<!-- {{#callable:cJSON_CreateArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2531>)

Creates a new `cJSON` array item.
- **Inputs**:
    - `void`: No input arguments.
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate memory for a new `cJSON` item.
    - If the allocation is successful, sets the item's type to `cJSON_Array`.
    - Returns the newly created item.
- **Output**: Returns a pointer to the newly created `cJSON` array item, or `NULL` if the allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateObject<!-- {{#callable:cJSON_CreateObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2542>)

Creates a new `cJSON` object.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls [`cJSON_New_Item`](<#cjson_new_item>) to allocate memory for a new `cJSON` item.
    - If the allocation is successful, sets the item's type to `cJSON_Object`.
- **Output**: Returns a pointer to the newly created `cJSON` object, or `NULL` if the allocation fails.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)


---
### cJSON\_CreateIntArray<!-- {{#callable:cJSON_CreateIntArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2554>)

Creates a `cJSON` array from an array of integers.
- **Inputs**:
    - `numbers`: Pointer to an array of integers.
    - `count`: The number of integers in the array.
- **Logic and Control Flow**:
    - Checks if `count` is negative or if `numbers` is NULL; returns NULL if true.
    - Creates a new `cJSON` array using `cJSON_CreateArray()`.
    - Iterates over the `numbers` array up to `count`.
    - For each integer, creates a `cJSON` number using `cJSON_CreateNumber()`.
    - Links the created numbers into the `cJSON` array.
    - Handles memory cleanup by deleting the array if any number creation fails.
- **Output**: Returns a pointer to the created `cJSON` array, or NULL if an error occurs.
- **Functions Called**:
    - [`cJSON_CreateArray`](<#cjson_createarray>)
    - [`cJSON_CreateNumber`](<#cjson_createnumber>)
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`suffix_object`](<#suffix_object>)


---
### cJSON\_CreateFloatArray<!-- {{#callable:cJSON_CreateFloatArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2594>)

Creates a `cJSON` array from an array of `float` numbers.
- **Inputs**:
    - `numbers`: Pointer to an array of `float` numbers.
    - `count`: The number of elements in the `numbers` array.
- **Logic and Control Flow**:
    - Checks if `count` is negative or if `numbers` is `NULL`, returning `NULL` if true.
    - Creates a new `cJSON` array using `cJSON_CreateArray()`.
    - Iterates over the `numbers` array, creating a `cJSON` number for each element.
    - Links each created number to the previous one in the array.
    - If any number creation fails, deletes the array and returns `NULL`.
    - Sets the `prev` pointer of the first child to the last created number.
- **Output**: Returns a pointer to the created `cJSON` array, or `NULL` if an error occurs.
- **Functions Called**:
    - [`cJSON_CreateArray`](<#cjson_createarray>)
    - [`cJSON_CreateNumber`](<#cjson_createnumber>)
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`suffix_object`](<#suffix_object>)


---
### cJSON\_CreateDoubleArray<!-- {{#callable:cJSON_CreateDoubleArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2634>)

Creates a `cJSON` array from an array of `double` values.
- **Inputs**:
    - `numbers`: Pointer to an array of `double` values.
    - `count`: The number of elements in the `numbers` array.
- **Logic and Control Flow**:
    - Checks if `count` is negative or if `numbers` is `NULL`, returning `NULL` if true.
    - Creates a new `cJSON` array using `cJSON_CreateArray()`.
    - Iterates over the `numbers` array, creating a `cJSON` number for each element.
    - Links each newly created number to the previous one in the array.
    - If any number creation fails, deletes the array and returns `NULL`.
    - Sets the `prev` pointer of the first child to the last created number.
- **Output**: Returns a pointer to the newly created `cJSON` array, or `NULL` if an error occurs.
- **Functions Called**:
    - [`cJSON_CreateArray`](<#cjson_createarray>)
    - [`cJSON_CreateNumber`](<#cjson_createnumber>)
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`suffix_object`](<#suffix_object>)


---
### cJSON\_CreateStringArray<!-- {{#callable:cJSON_CreateStringArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2674>)

Creates a `cJSON` array from an array of strings.
- **Inputs**:
    - `strings`: A pointer to an array of string pointers.
    - `count`: The number of strings in the array.
- **Logic and Control Flow**:
    - Checks if `count` is negative or if `strings` is NULL; returns NULL if true.
    - Creates a new `cJSON` array using `cJSON_CreateArray()`.
    - Iterates over the `strings` array up to `count`.
    - For each string, creates a `cJSON` string item using `cJSON_CreateString()`.
    - If the creation of a string item fails, deletes the array and returns NULL.
    - Links the created string items into the array.
    - Sets the previous pointer of the first child to the last created string item.
- **Output**: Returns a pointer to the newly created `cJSON` array, or NULL on failure.
- **Functions Called**:
    - [`cJSON_CreateArray`](<#cjson_createarray>)
    - [`cJSON_CreateString`](<#cjson_createstring>)
    - [`cJSON_Delete`](<#cjson_delete>)
    - [`suffix_object`](<#suffix_object>)


---
### cJSON\_Duplicate<!-- {{#callable:cJSON_Duplicate}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2715>)

Duplicates a `cJSON` item, optionally copying its children.
- **Inputs**:
    - `item`: Pointer to the `cJSON` item to duplicate.
    - `recurse`: Boolean flag indicating whether to duplicate child items.
- **Logic and Control Flow**:
    - Check if `item` is NULL; if so, jump to fail.
    - Allocate a new `cJSON` item using [`cJSON_New_Item`](<#cjson_new_item>).
    - Copy the type and value fields from `item` to `newitem`.
    - If `item` has a string value, duplicate it.
    - If `item` has a child and `recurse` is true, iterate through the child items.
    - For each child, recursively call `cJSON_Duplicate` to duplicate it.
    - Link the duplicated children to `newitem`.
- **Output**: Returns a pointer to the new duplicated `cJSON` item, or NULL on failure.
- **Functions Called**:
    - [`cJSON_New_Item`](<#cjson_new_item>)
    - [`cJSON_strdup`](<#cjson_strdup>)
    - [`cJSON_Delete`](<#cjson_delete>)


---
### skip\_oneline\_comment<!-- {{#callable:skip_oneline_comment}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2799>)

Skips a single line comment in the input string.
- **Inputs**:
    - `input`: A pointer to a pointer of a string that contains the input text.
- **Logic and Control Flow**:
    - Increments the input pointer by the length of the string '//'.
    - Iterates through the input string until a null character is found.
    - If a newline character is encountered, increments the input pointer by the length of the string '\n' and exits the function.
- **Output**: The function modifies the input pointer to skip over the comment.


---
### skip\_multiline\_comment<!-- {{#callable:skip_multiline_comment}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2812>)

Skips a multiline comment in the input string.
- **Inputs**:
    - `input`: A pointer to a pointer of a string that contains the input text.
- **Logic and Control Flow**:
    - Increments the input pointer by the length of the string '/*'.
    - Iterates through the input string until the end is reached.
    - Checks for the closing comment sequence '*/'.
    - If found, increments the input pointer by the length of the string '*/' and returns.
- **Output**: The function modifies the input pointer to skip over the multiline comment.


---
### minify\_string<!-- {{#callable:minify_string}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2826>)

Minifies a JSON string by removing unnecessary whitespace and comments.
- **Inputs**:
    - `input`: A pointer to a pointer of the input JSON string.
    - `output`: A pointer to a pointer where the minified JSON string will be stored.
- **Logic and Control Flow**:
    - Sets the first character of the `output` to the first character of the `input`.
    - Increments the `input` and `output` pointers to skip the initial quote character.
    - Iterates through the `input` string until the null terminator is reached.
    - Copies characters from `input` to `output` while checking for specific conditions.
    - If a quote character is encountered, it copies it to `output` and skips the next character.
    - If a backslash followed by a quote is found, it copies the quote to `output` and skips the backslash.
- **Output**: The function does not return a value; it modifies the `output` pointer to contain the minified JSON string.


---
### cJSON\_Minify<!-- {{#callable:cJSON_Minify}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2848>)

Minifies a JSON string by removing whitespace and comments.
- **Inputs**:
    - `json`: A pointer to a null-terminated string containing the JSON data to be minified.
- **Logic and Control Flow**:
    - Checks if the input `json` is NULL and returns if it is.
    - Iterates through each character in the `json` string until the null terminator is reached.
    - Handles whitespace characters by skipping them.
    - Handles single-line comments by calling [`skip_oneline_comment`](<#skip_oneline_comment>).
    - Handles multi-line comments by calling [`skip_multiline_comment`](<#skip_multiline_comment>).
    - Processes string literals by calling [`minify_string`](<#minify_string>).
    - Copies non-whitespace, non-comment characters to the output position.
- **Output**: The function modifies the input string in place, resulting in a minified JSON string.
- **Functions Called**:
    - [`skip_oneline_comment`](<#skip_oneline_comment>)
    - [`skip_multiline_comment`](<#skip_multiline_comment>)
    - [`minify_string`](<#minify_string>)


---
### cJSON\_IsInvalid<!-- {{#callable:cJSON_IsInvalid}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2896>)

Checks if a `cJSON` item is of type invalid.
- **Inputs**:
    - `item`: A pointer to a `cJSON` item to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is `cJSON_Invalid`.
- **Output**: Returns true if the item is invalid, otherwise returns false.


---
### cJSON\_IsFalse<!-- {{#callable:cJSON_IsFalse}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2906>)

Checks if a `cJSON` item represents a false value.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Checks if the type of `item` is equal to `cJSON_False` using a bitwise AND operation.
- **Output**: Returns true if `item` is of type `cJSON_False`, otherwise returns false.


---
### cJSON\_IsTrue<!-- {{#callable:cJSON_IsTrue}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2916>)

Checks if a `cJSON` item is of type true.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is equal to `cJSON_True`.
- **Output**: Returns true if `item` is of type true, otherwise returns false.


---
### cJSON\_IsBool<!-- {{#callable:cJSON_IsBool}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2927>)

Checks if the given `cJSON` item is a boolean type.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Checks if the type of `item` is either `cJSON_True` or `cJSON_False` by using a bitwise AND operation.
- **Output**: Returns true if `item` is a boolean type, otherwise returns false.


---
### cJSON\_IsNull<!-- {{#callable:cJSON_IsNull}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2936>)

Checks if a `cJSON` item is of type null.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is `cJSON_NULL`, otherwise returns false.
- **Output**: Returns a boolean value indicating whether the `item` is null.


---
### cJSON\_IsNumber<!-- {{#callable:cJSON_IsNumber}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2946>)

Checks if the given `cJSON` item is of type number.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is `cJSON_Number`, otherwise returns false.
- **Output**: Returns a boolean value indicating whether the `item` is a number.


---
### cJSON\_IsString<!-- {{#callable:cJSON_IsString}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2956>)

Checks if a `cJSON` item is of type string.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - If `item` is NULL, return false.
    - Return true if the type of `item` is `cJSON_String`, otherwise return false.
- **Output**: Returns `true` if `item` is a string, otherwise returns `false`.


---
### cJSON\_IsArray<!-- {{#callable:cJSON_IsArray}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2966>)

Checks if the given `cJSON` item is an array.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is `cJSON_Array`, otherwise returns false.
- **Output**: Returns true if `item` is an array, otherwise returns false.


---
### cJSON\_IsObject<!-- {{#callable:cJSON_IsObject}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2976>)

Checks if the given `cJSON` item is of type object.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is `cJSON_Object`, otherwise returns false.
- **Output**: Returns a boolean value indicating whether the `item` is an object.


---
### cJSON\_IsRaw<!-- {{#callable:cJSON_IsRaw}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2986>)

Checks if a `cJSON` item is of type `cJSON_Raw`.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object to check.
- **Logic and Control Flow**:
    - Checks if `item` is NULL; if so, returns false.
    - Returns true if the type of `item` is `cJSON_Raw`, otherwise returns false.
- **Output**: Returns a boolean value indicating whether the `item` is of type `cJSON_Raw`.


---
### cJSON\_Compare<!-- {{#callable:cJSON_Compare}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L2996>)

Compares two `cJSON` objects for equality, considering their types and values.
- **Inputs**:
    - `a`: Pointer to the first `cJSON` object to compare.
    - `b`: Pointer to the second `cJSON` object to compare.
    - `case_sensitive`: Boolean indicating whether string comparisons should be case sensitive.
- **Logic and Control Flow**:
    - Checks if either `a` or `b` is NULL or if their types do not match, returning false if so.
    - Validates the type of `a` and `b` to ensure they are one of the supported types.
    - Returns true if `a` and `b` are the same object.
    - Handles comparisons based on the type of `a` and `b`, including special cases for booleans, nulls, numbers, strings, arrays, and objects.
    - For arrays and objects, iterates through their elements to compare each corresponding item recursively.
- **Output**: Returns true if the two `cJSON` objects are equal, otherwise returns false.
- **Functions Called**:
    - [`compare_double`](<#compare_double>)
    - [`get_object_item`](<#get_object_item>)


---
### cJSON\_ArrayForEach<!-- {{#callable:cJSON_Compare::cJSON_ArrayForEach}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L3099>)

Iterates over each element in a JSON array and compares it with corresponding elements in another JSON object.
- **Inputs**:
    - `b_element`: An element from the JSON array being iterated.
    - `b`: The JSON array to iterate over.
    - `a`: The JSON object to compare against.
    - `case_sensitive`: A boolean indicating whether the comparison should be case sensitive.
- **Logic and Control Flow**:
    - For each element in the array `b`, retrieve the corresponding item from object `a` using [`get_object_item`](<#get_object_item>).
    - If the retrieved item is NULL, return false.
    - Compare the current element from `b` with the corresponding element from `a` using `cJSON_Compare`.
    - If the comparison fails, return false.
- **Output**: Returns true if all elements in the array `b` match the corresponding elements in object `a`, otherwise returns false.
- **Functions Called**:
    - [`get_object_item`](<#get_object_item>)


---
### cJSON\_malloc<!-- {{#callable:cJSON_malloc}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L3121>)

Allocates memory of a specified size using a global allocation hook.
- **Inputs**:
    - `size`: The size in bytes of the memory to allocate.
- **Logic and Control Flow**:
    - Calls the `allocate` function from the `global_hooks` structure with the specified `size`.
    - Returns the pointer to the allocated memory.
- **Output**: Returns a pointer to the allocated memory block, or NULL if the allocation fails.


---
### cJSON\_free<!-- {{#callable:cJSON_free}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L3126>)

Deallocates memory for a given object using the global deallocation hook.
- **Inputs**:
    - `object`: Pointer to the memory that needs to be deallocated.
- **Logic and Control Flow**:
    - Calls the `deallocate` function from the `global_hooks` structure with the provided `object` pointer.
- **Output**: This function does not return a value.


# Function Declarations (Public API)

---
### parse\_value<!-- {{#callable_declaration:parse_value}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1039>)

Parses a JSON value from the input buffer.
- **Description**: Use this function to parse a JSON value from a given input buffer and populate the provided `cJSON` item with the parsed data. The function can handle various JSON data types such as null, boolean, string, number, array, and object. Ensure that the `input_buffer` is not null and contains valid JSON content. The function returns false if the input is invalid or if it cannot parse a value.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure where the parsed JSON value will be stored. The caller must ensure this is a valid pointer.
    - `input_buffer`: A pointer to a `parse_buffer` structure containing the JSON data to parse. The `content` field must not be null, and the buffer must have sufficient data to read a valid JSON value.
- **Output**: Returns a `cJSON_bool` indicating success (true) or failure (false) of the parsing operation.
- **See Also**: [`parse_value`](<#parse_value>)  (Implementation)


---
### print\_value<!-- {{#callable_declaration:print_value}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1040>)

Renders a cJSON item to a print buffer.
- **Description**: Use this function to convert a cJSON item into its string representation and store it in a provided print buffer. This function requires both the cJSON item and the print buffer to be non-null. It handles different JSON data types, including null, boolean, number, string, array, and object. If the item type is not recognized or if memory allocation fails, the function returns false. Ensure that the print buffer has sufficient space to accommodate the output.
- **Inputs**:
    - `item`: A pointer to a cJSON structure representing the JSON item to render. Must not be null.
    - `output_buffer`: A pointer to a printbuffer structure where the rendered JSON string will be stored. Must not be null.
- **Output**: Returns a cJSON_bool indicating success (true) or failure (false).
- **See Also**: [`print_value`](<#print_value>)  (Implementation)


---
### parse\_array<!-- {{#callable_declaration:parse_array}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1041>)

Parses a JSON array from the input buffer.
- **Description**: Use this function to parse a JSON array from a given input buffer and populate a `cJSON` item with the parsed data. The function expects the input buffer to start with a '[' character, indicating the beginning of a JSON array. It handles nested arrays up to a predefined limit and skips whitespace as needed. If the input buffer does not contain a valid JSON array or if memory allocation fails, the function returns false. Ensure that the input buffer is correctly initialized and that the `cJSON` item is ready to be populated before calling this function.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure that will be populated with the parsed array data. Must not be null.
    - `input_buffer`: A pointer to a `parse_buffer` structure containing the JSON data to parse. Must not be null and must be properly initialized with the JSON content and length.
- **Output**: Returns a `cJSON_bool` indicating success (true) or failure (false). On success, the `item` is populated with the parsed array data. On failure, the `item` is not modified.
- **See Also**: [`parse_array`](<#parse_array>)  (Implementation)


---
### print\_array<!-- {{#callable_declaration:print_array}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1042>)

Formats a JSON array into a string buffer.
- **Description**: Use this function to convert a JSON array into a string representation and store it in a provided buffer. It requires a valid `cJSON` object representing an array and a `printbuffer` to store the output. The function returns false if the buffer is null or if memory allocation fails during the process. Ensure the `printbuffer` is properly initialized before calling this function.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object that represents a JSON array. Must not be null and must point to a valid JSON array structure.
    - `output_buffer`: A pointer to a `printbuffer` structure where the formatted JSON array will be stored. Must not be null. The function will return false if memory allocation within this buffer fails.
- **Output**: Returns a `cJSON_bool` indicating success (true) or failure (false).
- **See Also**: [`print_array`](<#print_array>)  (Implementation)


---
### parse\_object<!-- {{#callable_declaration:parse_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1043>)

Parses a JSON object from a buffer.
- **Description**: Use this function to parse a JSON object from a given input buffer. It expects the buffer to start with a '{' character, indicating the beginning of a JSON object. The function will parse the object and populate the provided `cJSON` item with the parsed data. It handles nested objects up to a predefined depth limit. If the input buffer does not contain a valid JSON object or if an error occurs during parsing, the function returns false. Ensure that the input buffer is correctly initialized and contains valid JSON data before calling this function.
- **Inputs**:
    - `item`: A pointer to a `cJSON` structure where the parsed JSON object will be stored. Must not be null.
    - `input_buffer`: A pointer to a `parse_buffer` structure containing the JSON data to parse. Must not be null and must be properly initialized with the JSON content.
- **Output**: Returns a `cJSON_bool` indicating success (true) or failure (false) of the parsing operation.
- **See Also**: [`parse_object`](<#parse_object>)  (Implementation)


---
### print\_object<!-- {{#callable_declaration:print_object}} -->
[View Source â†’](<../../../../../src/ballet/json/cJSON.c#L1044>)

Formats a JSON object into a string buffer.
- **Description**: Use this function to convert a JSON object into a formatted string representation. It requires a valid `cJSON` object and a `printbuffer` to store the output. The function returns a boolean indicating success or failure. Ensure the `printbuffer` is initialized and has sufficient space for the output. The function handles formatted and unformatted output based on the `printbuffer` settings. It returns false if the `printbuffer` is null or if memory allocation fails during processing.
- **Inputs**:
    - `item`: A pointer to a `cJSON` object representing the JSON data to format. Must not be null.
    - `output_buffer`: A pointer to a `printbuffer` structure where the formatted JSON string will be stored. Must not be null and should be properly initialized.
- **Output**: Returns a `cJSON_bool` indicating success (true) or failure (false).
- **See Also**: [`print_object`](<#print_object>)  (Implementation)



---
Made with â¤ï¸ by [Driver](https://www.driver.ai/)