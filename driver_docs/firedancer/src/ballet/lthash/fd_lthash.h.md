<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

APIs for lattice-based incremental hashing using Blake3, with functions for hash operations and encoding.

# Purpose
The code defines a C header file for a lattice-based incremental hash system using the Blake3 cryptographic hash function. It provides a set of APIs for operations on hash values, which are represented by the `fd_lthash_value_t` type. This type is a union that can store hash data as either an array of bytes or an array of words, with specific alignment and size requirements suitable for AVX512 operations. The header file includes functions to finalize a hash (`fd_lthash_fini`), zero out a hash value ([`fd_lthash_zero`](<#fd_lthash_zero>)), check if a hash value is zero ([`fd_lthash_is_zero`](<#fd_lthash_is_zero>)), and perform addition and subtraction on hash values ([`fd_lthash_add`](<#fd_lthash_add>) and [`fd_lthash_sub`](<#fd_lthash_sub>)).

Additionally, the code provides macros for encoding hash values into a base58 format, specifically `FD_LTHASH_ENC_32_BUF` and `FD_LTHASH_ENC_32_ALLOCA`. These macros use Blake3 to hash the input data and then encode the result into a base58 string. The header file includes necessary dependencies, such as the Blake3 implementation, and defines constants for alignment and size. The code is intended to be included in other C files, providing a public API for hash operations in applications that require lattice-based cryptographic functions.
# Imports and Dependencies

---
- `../blake3/fd_blake3.h`


# Data Structures

---
### fd\_lthash\_value
- **Type**: `union`
- **Members**:
    - ``bytes``: An array of unsigned characters with a length defined by `FD_LTHASH_LEN_BYTES`.
    - ``words``: An array of unsigned short integers with a length defined by `FD_LTHASH_LEN_ELEMS`.
- **Description**: The `fd_lthash_value` union is a data structure that provides two different views of the same memory space: one as an array of bytes and the other as an array of words. It is aligned according to `FD_LTHASH_ALIGN` to ensure compatibility with AVX512 instructions. This union is used in lattice-based incremental hashing operations, allowing for efficient manipulation of hash values in both byte and word formats.


---
### fd\_lthash\_value\_t
- **Type**: ``union``
- **Members**:
    - ``bytes``: An array of unsigned characters with a length defined by `FD_LTHASH_LEN_BYTES`.
    - ``words``: An array of unsigned short integers with a length defined by `FD_LTHASH_LEN_ELEMS`.
- **Description**: A `union` that can store a hash value either as an array of bytes or as an array of words, aligned to `FD_LTHASH_ALIGN` for efficient processing with AVX512 instructions.


# Functions

---
### fd\_lthash\_zero<!-- {{#callable:fd_lthash_zero}} -->
[View Source →](<../../../../../src/ballet/lthash/fd_lthash.h#L28>)

Sets all bytes in a `fd_lthash_value_t` structure to zero.
- **Inputs**:
    - `r`: A pointer to a `fd_lthash_value_t` structure whose bytes will be set to zero.
- **Logic and Control Flow**:
    - Calls `fd_memset` to set all bytes in the `bytes` array of the `fd_lthash_value_t` structure to zero.
    - Uses `FD_LTHASH_LEN_BYTES` to determine the number of bytes to set to zero.
- **Output**: Returns the pointer to the `fd_lthash_value_t` structure with all bytes set to zero.


---
### fd\_lthash\_is\_zero<!-- {{#callable:fd_lthash_is_zero}} -->
[View Source →](<../../../../../src/ballet/lthash/fd_lthash.h#L33>)

Checks if all elements in the `words` array of a `fd_lthash_value_t` structure are zero.
- **Inputs**:
    - `r`: A pointer to a `fd_lthash_value_t` structure to check.
- **Logic and Control Flow**:
    - Iterates over each element in the `words` array of the `fd_lthash_value_t` structure.
    - Checks if the current element is not zero.
    - Returns 0 immediately if a non-zero element is found.
    - Returns 1 if all elements are zero.
- **Output**: Returns 1 if all elements in the `words` array are zero, otherwise returns 0.


---
### fd\_lthash\_add<!-- {{#callable:fd_lthash_add}} -->
[View Source →](<../../../../../src/ballet/lthash/fd_lthash.h#L44>)

Adds corresponding elements of two `fd_lthash_value_t` structures and stores the result in the first structure.
- **Inputs**:
    - `r`: A pointer to an `fd_lthash_value_t` structure where the result will be stored.
    - `a`: A pointer to a constant `fd_lthash_value_t` structure whose elements will be added to `r`.
- **Logic and Control Flow**:
    - Iterates over each element of the `words` array in the `fd_lthash_value_t` structure.
    - Adds the corresponding elements from the `a` structure to the `r` structure.
    - Casts the result of the addition to `ushort` and stores it back in the `r` structure.
- **Output**: Returns a pointer to the `fd_lthash_value_t` structure `r` containing the result of the addition.


---
### fd\_lthash\_sub<!-- {{#callable:fd_lthash_sub}} -->
[View Source →](<../../../../../src/ballet/lthash/fd_lthash.h#L53>)

Subtracts each element of the `a` array from the corresponding element of the `r` array and stores the result in `r`.
- **Inputs**:
    - `r`: A pointer to an `fd_lthash_value_t` structure where the result of the subtraction will be stored.
    - `a`: A pointer to a constant `fd_lthash_value_t` structure whose elements will be subtracted from the elements of `r`.
- **Logic and Control Flow**:
    - Iterates over each element of the `words` array in the `fd_lthash_value_t` structure.
    - Subtracts the element in `a->words[i]` from `r->words[i]`.
    - Casts the result to `ushort` and stores it back in `r->words[i]`.
    - Continues this process for all elements in the array.
    - Returns the pointer `r` after completing the subtraction for all elements.
- **Output**: A pointer to the `fd_lthash_value_t` structure `r` containing the result of the subtraction.



---
Made with ❤️ by [Driver](https://www.driver.ai/)