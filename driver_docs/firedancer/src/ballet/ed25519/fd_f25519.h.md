<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Public field API for the base field of curve25519, including arithmetic operations and constants.

# Purpose
The `fd_f25519.h` file provides a public API for operations on the base field of the Curve25519 elliptic curve, specifically for field elements modulo \(2^{255} - 19\). This header file defines the type `fd_f25519_t` for field elements and includes various functions for arithmetic operations such as addition, subtraction, multiplication, and squaring. It also includes functions for serialization and deserialization of field elements, as well as utility functions for checking equality, computing inverses, and performing conditional assignments. The file supports different backend implementations, such as reference and AVX512, to optimize performance based on the available hardware.

The file defines several constants representing specific field elements and provides both scalar and vectorized operations to handle multiple field elements simultaneously. The API includes functions for constant-time operations to ensure security when handling sensitive data. Additionally, the file includes functions for generating random field elements, although these are intended for testing purposes only and are not secure for cryptographic use. The header is structured to be included in other C files, providing a comprehensive set of tools for working with the Curve25519 field elements in cryptographic applications.
# Imports and Dependencies

---
- `../fd_ballet_base.h`
- `../../util/rng/fd_rng.h`
- `avx512/fd_f25519.h`
- `ref/fd_f25519.h`


# Global Variables

---
### fd\_f25519\_zero
- **Type**: ``fd_f25519_t``
- **Description**: Represents a constant field element with a value of zero in the base field of curve25519. It is defined as a static constant array of type `fd_f25519_t` with a single element.
- **Use**: Used as a constant reference for operations requiring a zero value in the field of curve25519.


---
### fd\_f25519\_one
- **Type**: ``fd_f25519_t``
- **Description**: Represents the constant value of one in the field of integers modulo 2^255 - 19, which is used in the arithmetic operations of the Curve25519 elliptic curve.
- **Use**: Used as a constant field element in arithmetic operations and functions that require the identity element of multiplication in the field.


---
### fd\_f25519\_minus\_one
- **Type**: ``fd_f25519_t``
- **Description**: Represents the constant value of -1 in the field of integers modulo 2^255 - 19, which is used in the Curve25519 elliptic curve operations. It is defined as a static constant array of type `fd_f25519_t` with a single element.
- **Use**: Used as a constant field element in arithmetic operations within the Curve25519 implementation.


---
### fd\_f25519\_two
- **Type**: ``fd_f25519_t``
- **Description**: Represents the constant value of two in the field of integers modulo 2^255 - 19, which is used in the context of the Curve25519 elliptic curve operations. It is defined as a static constant array of type `fd_f25519_t` with a single element.
- **Use**: Used as a constant field element in arithmetic operations within the Curve25519 implementation.


---
### fd\_f25519\_nine
- **Type**: ``fd_f25519_t` array`
- **Description**: Represents the constant value nine in the field of integers modulo 2^255 - 19, used in the context of the Curve25519 elliptic curve operations. It is defined as a static constant array of type `fd_f25519_t` with a single element.
- **Use**: Used as a constant field element in arithmetic operations related to the Curve25519 elliptic curve.


---
### fd\_f25519\_k
- **Type**: ``fd_f25519_t[1]``
- **Description**: A static constant array of type `fd_f25519_t` with a single element, representing a field constant in the base field of curve25519. The specific value of `fd_f25519_k` is defined in an external table file, which is architecture-dependent.
- **Use**: Used as a constant field element in arithmetic operations within the curve25519 field.


---
### fd\_f25519\_minus\_k
- **Type**: ``fd_f25519_t``
- **Description**: Represents a constant field element in the base field of curve25519, specifically the negative of a constant `k`. The field element is an integer modulo p = 2^255 - 19, which is used in elliptic curve computations.
- **Use**: Used as a constant in arithmetic operations within the curve25519 field.


---
### fd\_f25519\_d
- **Type**: ``fd_f25519_t``
- **Description**: A static constant array of type `fd_f25519_t` with a single element. It represents a field constant used in operations related to the base field of curve25519.
- **Use**: Used as a constant in mathematical operations involving field elements in the curve25519 implementation.


---
### fd\_f25519\_sqrtm1
- **Type**: ``fd_f25519_t``
- **Description**: Represents the square root of -1 in the field defined by the prime 2^255 - 19, which is used in the context of elliptic curve cryptography, specifically for operations on the curve25519.
- **Use**: Used as a constant in mathematical operations involving field elements in the curve25519.


---
### fd\_f25519\_invsqrt\_a\_minus\_d
- **Type**: ``fd_f25519_t``
- **Description**: A static constant array of type `fd_f25519_t` with a single element. It represents the inverse square root of the difference between constants 'a' and 'd' in the context of the Curve25519 field operations.
- **Use**: Used as a constant in field operations related to Curve25519, specifically for calculations involving inverse square roots.


---
### fd\_f25519\_one\_minus\_d\_sq
- **Type**: ``fd_f25519_t``
- **Description**: Represents a constant field element in the base field of curve25519, specifically the value of one minus the square of the constant 'd'. This is used in elliptic curve computations where 'd' is a parameter of the curve equation.
- **Use**: Used as a constant in elliptic curve operations to perform calculations involving the curve25519 field.


---
### fd\_f25519\_d\_minus\_one\_sq
- **Type**: ``fd_f25519_t``
- **Description**: Represents a constant field element in the base field of curve25519, specifically the square of the difference between the constant `d` and one. It is defined as a static constant array of type `fd_f25519_t` with a single element.
- **Use**: Used as a precomputed constant in mathematical operations involving the curve25519 field.


---
### fd\_f25519\_sqrt\_ad\_minus\_one
- **Type**: ``fd_f25519_t``
- **Description**: A static constant array of type `fd_f25519_t` with a single element. It represents a specific field constant used in the operations of the Curve25519 elliptic curve.
- **Use**: Used as a constant in mathematical operations involving field elements in the Curve25519 implementation.


# Functions

---
### fd\_f25519\_eq<!-- {{#callable:fd_f25519_eq}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L138>)

Checks if two field elements are equal by subtracting them and verifying if the result is zero.
- **Inputs**:
    - `a`: A pointer to the first `fd_f25519_t` field element to compare.
    - `b`: A pointer to the second `fd_f25519_t` field element to compare.
- **Logic and Control Flow**:
    - Declare a local variable `r` of type `fd_f25519_t` to store the result of the subtraction.
    - Call `fd_f25519_sub` to compute the difference between `a` and `b`, storing the result in `r`.
    - Call [`fd_f25519_is_zero`](<ref/fd_f25519.h.md#fd_f25519_is_zero>) with `r` to check if the result of the subtraction is zero.
    - Return the result of [`fd_f25519_is_zero`](<ref/fd_f25519.h.md#fd_f25519_is_zero>), which is 1 if `a` equals `b`, and 0 otherwise.
- **Output**: Returns 1 if the two field elements are equal, 0 otherwise.
- **Functions Called**:
    - [`fd_f25519_is_zero`](<ref/fd_f25519.h.md#fd_f25519_is_zero>)


---
### fd\_f25519\_is\_nonzero<!-- {{#callable:fd_f25519_is_nonzero}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L147>)

Determines if a given field element is non-zero.
- **Inputs**:
    - `a`: A pointer to a `fd_f25519_t` constant, representing the field element to check.
- **Logic and Control Flow**:
    - Calls the function [`fd_f25519_is_zero`](<ref/fd_f25519.h.md#fd_f25519_is_zero>) with the input `a` to check if the field element is zero.
    - Negates the result of [`fd_f25519_is_zero`](<ref/fd_f25519.h.md#fd_f25519_is_zero>) to determine if the field element is non-zero.
- **Output**: Returns 1 if the field element is non-zero, otherwise returns 0.
- **Functions Called**:
    - [`fd_f25519_is_zero`](<ref/fd_f25519.h.md#fd_f25519_is_zero>)


---
### fd\_f25519\_sgn<!-- {{#callable:fd_f25519_sgn}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L153>)

Determines the sign of a field element by checking the least significant bit of its byte representation.
- **Inputs**:
    - `a`: A pointer to a `fd_f25519_t` field element whose sign is to be determined.
- **Logic and Control Flow**:
    - Declare a 32-byte buffer `buf`.
    - Call [`fd_f25519_tobytes`](<ref/fd_f25519.h.md#fd_f25519_tobytes>) to serialize the field element `a` into `buf`.
    - Return the least significant bit of the first byte of `buf` by performing a bitwise AND with 1.
- **Output**: Returns an integer representing the sign of the field element, specifically the least significant bit of its byte representation.
- **Functions Called**:
    - [`fd_f25519_tobytes`](<ref/fd_f25519.h.md#fd_f25519_tobytes>)


---
### fd\_f25519\_inv\_sqrt<!-- {{#callable:fd_f25519_inv_sqrt}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L202>)

Calculates the inverse square root of a field element in the base field of curve25519.
- **Inputs**:
    - `r`: A pointer to an `fd_f25519_t` where the result will be stored.
    - `v`: A constant pointer to an `fd_f25519_t` representing the input field element for which the inverse square root is calculated.
- **Logic and Control Flow**:
    - Calls the [`fd_f25519_sqrt_ratio`](<fd_f25519.c.md#fd_f25519_sqrt_ratio>) function with `r`, `fd_f25519_one`, and `v` as arguments.
    - [`fd_f25519_sqrt_ratio`](<fd_f25519.c.md#fd_f25519_sqrt_ratio>) computes the inverse square root by calculating the square root of the ratio of `fd_f25519_one` to `v`.
- **Output**: Returns 0 on success and 1 on failure, indicating whether the inverse square root calculation was successful.
- **Functions Called**:
    - [`fd_f25519_sqrt_ratio`](<fd_f25519.c.md#fd_f25519_sqrt_ratio>)


# Function Declarations (Public API)

---
### fd\_f25519\_inv<!-- {{#callable_declaration:fd_f25519_inv}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L184>)

Computes the multiplicative inverse of a field element.
- **Description**: Use this function to find the multiplicative inverse of a given field element in the finite field defined by the modulus 2^255 - 19. This operation is essential in cryptographic algorithms that require division in the field. Ensure that the input element is non-zero, as the inverse of zero is undefined. The result is stored in the provided output parameter.
- **Inputs**:
    - `r`: A pointer to an `fd_f25519_t` where the result will be stored. Must not be null. Caller retains ownership.
    - `a`: A pointer to a constant `fd_f25519_t` representing the field element to invert. Must not be null and should not be zero, as the inverse of zero is undefined.
- **Output**: Returns a pointer to `r`, which contains the multiplicative inverse of the input field element `a`.
- **See Also**: [`fd_f25519_inv`](<fd_f25519.c.md#fd_f25519_inv>)  (Implementation)


---
### fd\_f25519\_pow22523<!-- {{#callable_declaration:fd_f25519_pow22523}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L189>)

Computes the power of a field element to 2^252-3.
- **Description**: Use this function to compute the power of a field element `a` to the exponent 2^252-3 in the finite field defined by the modulus 2^255-19. This operation is useful in cryptographic algorithms that require exponentiation in the Curve25519 field. The function requires a valid field element `a` as input and stores the result in `r`. Ensure that `r` is a valid pointer to a `fd_f25519_t` structure before calling this function. The function returns the result through the `r` parameter.
- **Inputs**:
    - `r`: A pointer to a `fd_f25519_t` structure where the result will be stored. Must not be null.
    - `a`: A pointer to a constant `fd_f25519_t` structure representing the base of the exponentiation. Must not be null.
- **Output**: Returns a pointer to the `fd_f25519_t` structure containing the result of the exponentiation.
- **See Also**: [`fd_f25519_pow22523`](<fd_f25519.c.md#fd_f25519_pow22523>)  (Implementation)


---
### fd\_f25519\_sqrt\_ratio<!-- {{#callable_declaration:fd_f25519_sqrt_ratio}} -->
[View Source →](<../../../../../src/ballet/ed25519/fd_f25519.h#L195>)

Computes the square root ratio of two field elements.
- **Description**: Use this function to compute the square root of the ratio of two field elements in the finite field defined by the modulus 2^255 - 19. The function calculates \( r = (u \cdot v^3) \cdot (u \cdot v^7)^{(p-5)/8} \) and stores the result in `r`. It returns 0 if the computation is successful and 1 if it fails. This function is useful in cryptographic operations where such calculations are needed. Ensure that the input pointers are valid and point to properly initialized `fd_f25519_t` elements.
- **Inputs**:
    - `r`: A pointer to an `fd_f25519_t` where the result will be stored. Must not be null. The caller retains ownership.
    - `u`: A pointer to a constant `fd_f25519_t` representing the numerator of the ratio. Must not be null. The caller retains ownership.
    - `v`: A pointer to a constant `fd_f25519_t` representing the denominator of the ratio. Must not be null. The caller retains ownership.
- **Output**: Returns 0 on success, indicating that the square root was computed correctly, and 1 on failure, indicating that the computation did not succeed.
- **See Also**: [`fd_f25519_sqrt_ratio`](<fd_f25519.c.md#fd_f25519_sqrt_ratio>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)