<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Generates mock X.509 certificates for QUIC peer-to-peer use with functions for creation and public key extraction.

# Purpose
The `fd_x509_mock.h` header file provides functionality to generate and manipulate mock X.509 certificates for use in QUIC peer-to-peer communication. It includes definitions and prototypes for creating a dummy X.509 certificate using an Ed25519 public key and for extracting the public key from such a certificate. The mock certificates are designed to appear valid to a `rustls` peer but are semantically invalid, with hardcoded attributes like the subject 'localhost'. The file defines `FD_X509_MOCK_CERT_SZ` as the size of the DER-encoded certificate and includes the `fd_util_base.h` utility header. The use of these mock certificates is intended as a temporary measure until the implementation of RFC 7250 raw public keys is completed network-wide.
# Imports and Dependencies

---
- `../../util/fd_util_base.h`


# Function Declarations (Public API)

---
### fd\_x509\_mock\_cert<!-- {{#callable_declaration:fd_x509_mock_cert}} -->
[View Source →](<../../../../../src/ballet/x509/fd_x509_mock.h#L19>)

Generates a dummy X.509 certificate with a given Ed25519 public key.
- **Description**: Use this function to create a mock X.509 certificate for testing or development purposes, particularly in environments where QUIC peer-to-peer connections are involved. The function requires a buffer to store the certificate and an Ed25519 public key to embed within the certificate. The generated certificate is semantically invalid and should not be used in production environments. Ensure the buffer provided is of the correct size to avoid memory issues.
- **Inputs**:
    - `buf`: A buffer to store the generated certificate. Must be at least `FD_X509_MOCK_CERT_SZ` bytes in size. Caller retains ownership and must ensure the buffer is valid and writable.
    - `public_key`: An Ed25519 public key to embed in the certificate. Must be exactly 32 bytes in size. Caller retains ownership and must ensure the key is valid.
- **Output**: None
- **See Also**: [`fd_x509_mock_cert`](<fd_x509_mock.c.md#fd_x509_mock_cert>)  (Implementation)


---
### fd\_x509\_mock\_pubkey<!-- {{#callable_declaration:fd_x509_mock_pubkey}} -->
[View Source →](<../../../../../src/ballet/x509/fd_x509_mock.h#L35>)

Extracts the Ed25519 public key from a dummy X.509 certificate.
- **Description**: Use this function to retrieve the Ed25519 public key from a dummy X.509 certificate that was generated by `fd_x509_mock_cert`. This function is useful when you need to access the public key embedded in a mock certificate for testing or validation purposes. It returns a pointer to the public key within the certificate if successful, or `NULL` if the parsing fails. Ensure that the certificate provided is valid and was generated by `fd_x509_mock_cert`.
- **Inputs**:
    - `cert`: A pointer to the byte array containing the dummy X.509 certificate. The certificate must have been generated by `fd_x509_mock_cert`. The caller retains ownership and must ensure the pointer is not null.
    - `cert_sz`: The size of the certificate in bytes. It should match the size of the certificate generated by `fd_x509_mock_cert`, which is `FD_X509_MOCK_CERT_SZ`.
- **Output**: Returns a pointer to the Ed25519 public key within the certificate on success, or `NULL` if parsing fails.
- **See Also**: [`fd_x509_mock_pubkey`](<fd_x509_mock.c.md#fd_x509_mock_pubkey>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)