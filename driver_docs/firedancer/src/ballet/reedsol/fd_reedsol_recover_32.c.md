<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Auto-generated C code for recovering 32 Reed-Solomon shreds with error checking and correction.

# Purpose
The code defines a function [`fd_reedsol_private_recover_var_32`](<#fd_reedsol_private_recover_var_32>), which is part of a Reed-Solomon error correction implementation. This function is responsible for recovering data from a set of shreds, which are fragments of data that include both original data and parity information. The function takes several parameters: the size of each shred, an array of pointers to the shreds, the count of data and parity shreds, and an array indicating which shreds are erased. The function uses these inputs to reconstruct the original data by performing operations on the shreds, including loading, multiplying, and transforming them using Fast Fourier Transform (FFT) and its inverse (IFFT).

The function is designed to handle up to 32 shreds at a time, using a loop to process each shred position. It checks for erased shreds and uses the parity information to regenerate missing data. The function also verifies the integrity of the reconstructed data by comparing it with the original shreds, if available. If any discrepancies are found, it returns an error code indicating corruption. The function relies on several macros and functions, such as `GF_MUL_VAR`, `FD_REEDSOL_GENERATE_IFFT`, and `FD_REEDSOL_GENERATE_FFT`, to perform operations in the Galois Field, which is typical in error correction algorithms. The function returns a success code if the data is successfully recovered without errors.
# Imports and Dependencies

---
- `fd_reedsol_ppt.h`
- `fd_reedsol_fderiv.h`


# Functions

---
### fd\_reedsol\_private\_recover\_var\_32<!-- {{#callable:fd_reedsol_private_recover_var_32}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_recover_32.c#L5>)

Recovers data from a set of shreds using Reed-Solomon error correction, handling up to 32 shreds at a time.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes.
    - `shred`: A pointer to an array of pointers, each pointing to a shred of data.
    - `data_shred_cnt`: The number of data shreds.
    - `parity_shred_cnt`: The number of parity shreds.
    - `erased`: An array indicating which shreds are erased (1 for erased, 0 for not erased).
- **Logic and Control Flow**:
    - Initialize arrays `_erased` and `pi` to track erased shreds and permutation indices.
    - Calculate the total number of shreds (`shred_cnt`) and initialize `loaded_cnt` to count loaded data shreds.
    - Iterate over the first 32 shreds to determine which shreds to load based on the `erased` array and update `_erased` and `loaded_cnt`.
    - If `loaded_cnt` is less than `data_shred_cnt`, return `FD_REEDSOL_ERR_PARTIAL`.
    - Generate permutation indices using [`fd_reedsol_private_gen_pi_32`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_32>).
    - Initialize `diff` to zero to track differences in regenerated shreds.
    - Iterate over each position in the shreds, loading data into vectors, filling erased vectors with zero, and multiplying by permutation indices.
    - Perform inverse FFT, derivative, and FFT operations on the vectors.
    - Multiply the vectors by permutation indices again, focusing on erased shreds.
    - Store regenerated values for erased shreds, compare generated values with existing ones for non-erased shreds, and reload values for used shreds.
    - Repeat the process for remaining shreds in blocks of 32, adjusting for the number of remaining shreds.
    - If any differences are detected in regenerated shreds, return `FD_REEDSOL_ERR_CORRUPT`.
    - Adjust `shred_pos` to process the next set of shreds.
    - Return `FD_REEDSOL_SUCCESS` if all operations complete without error.
- **Output**: Returns an integer status code: `FD_REEDSOL_SUCCESS` on successful recovery, `FD_REEDSOL_ERR_PARTIAL` if not enough data shreds are loaded, or `FD_REEDSOL_ERR_CORRUPT` if a corruption is detected.
- **Functions Called**:
    - [`fd_reedsol_private_gen_pi_32`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_32>)
    - [`gf_ldu`](<fd_reedsol_arith_none.h.md#gf_ldu>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)