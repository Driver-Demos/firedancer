<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Internal function declarations for Reed-Solomon encoding, recovery, and Galois Field arithmetic selection.

# Purpose
The code in this file is a C header file that provides internal function declarations and configurations for Reed-Solomon encoding and recovery operations. It is part of a larger library that deals with error correction and data recovery using Reed-Solomon codes. The file defines several private functions for encoding data into parity shreds and recovering data from potentially corrupted or missing shreds. These functions are specialized for different numbers of shreds, such as 16, 32, 64, 128, and 256, to accommodate various data sizes and configurations.

The file also includes logic to select the appropriate implementation of Galois Field arithmetic based on available hardware acceleration features, such as AVX and GFNI. This selection is controlled by the `FD_REEDSOL_ARITH_IMPL` macro, which determines which arithmetic implementation to use. Additionally, the file provides functions to generate specific mathematical constructs (Pi and 1/Pi') used in the encoding and recovery processes, as described in referenced academic papers. These functions are intended for internal use within the library and are not part of the public API. The header file ensures that the necessary arithmetic operations are optimized for performance by leveraging hardware capabilities when available.
# Imports and Dependencies

---
- `fd_reedsol.h`
- `fd_reedsol_arith_none.h`
- `fd_reedsol_arith_avx2.h`
- `fd_reedsol_arith_gfni.h`


# Function Declarations (Public API)

---
### fd\_reedsol\_private\_encode\_16<!-- {{#callable_declaration:fd_reedsol_private_encode_16}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L48>)

Generates parity shreds from data shreds using Reed-Solomon encoding.
- **Description**: Use this function to compute parity shreds from a given set of data shreds using Reed-Solomon encoding. This function requires that the number of data shreds does not exceed 16. It processes the data shreds and writes the resulting parity shreds into the provided parity shred buffers. Ensure that the parity shred buffers are large enough to hold the computed parity shreds. This function does not return a value and assumes that the input pointers are valid and non-null.
- **Inputs**:
    - `shred_sz`: Specifies the size of each shred in bytes. Must be a positive integer.
    - `data_shred`: An array of pointers to the data shreds. Each pointer must point to a buffer of at least 'shred_sz' bytes. The array must contain 'data_shred_cnt' elements.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 16.
    - `parity_shred`: An array of pointers to the parity shreds. Each pointer must point to a buffer of at least 'shred_sz' bytes. The array must contain 'parity_shred_cnt' elements.
    - `parity_shred_cnt`: The number of parity shreds to generate. Must be a non-negative integer.
- **Output**: None
- **See Also**: [`fd_reedsol_private_encode_16`](<fd_reedsol_encode_16.c.md#fd_reedsol_private_encode_16>)  (Implementation)


---
### fd\_reedsol\_private\_encode\_32<!-- {{#callable_declaration:fd_reedsol_private_encode_32}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L59>)

Generates parity shreds from data shreds using Reed-Solomon encoding.
- **Description**: Use this function to create parity shreds from a given set of data shreds for error correction purposes. It requires the number of data shreds to be less than or equal to 32. The function processes each shred position and updates the parity shreds accordingly. Ensure that the `data_shred` and `parity_shred` arrays are correctly allocated and that their counts are set appropriately. This function does not return a value and operates directly on the provided parity shred buffers.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive integer.
    - `data_shred`: A pointer to an array of pointers, each pointing to a data shred. The array must contain at least `data_shred_cnt` elements. Must not be null.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 32.
    - `parity_shred`: A pointer to an array of pointers, each pointing to a parity shred buffer. The array must contain at least `parity_shred_cnt` elements. Must not be null.
    - `parity_shred_cnt`: The number of parity shreds to generate. Must be a non-negative integer.
- **Output**: None
- **See Also**: [`fd_reedsol_private_encode_32`](<fd_reedsol_encode_32.c.md#fd_reedsol_private_encode_32>)  (Implementation)


---
### fd\_reedsol\_private\_encode\_64<!-- {{#callable_declaration:fd_reedsol_private_encode_64}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L66>)

Generates parity shreds from data shreds using Reed-Solomon encoding.
- **Description**: Use this function to generate parity shreds from a given set of data shreds using Reed-Solomon encoding. This function requires that the number of data shreds does not exceed 64. It processes the data shreds and writes the resulting parity shreds to the provided parity shred buffers. Ensure that the parity shred buffers are large enough to hold the required number of parity shreds. This function does not return a value and assumes that the input pointers are valid and non-null.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive integer.
    - `data_shred`: A pointer to an array of pointers, each pointing to a data shred. The array must contain at least 'data_shred_cnt' valid pointers.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 64.
    - `parity_shred`: A pointer to an array of pointers, each pointing to a buffer where a parity shred will be written. The array must contain at least 'parity_shred_cnt' valid pointers.
    - `parity_shred_cnt`: The number of parity shreds to generate. Must be a non-negative integer.
- **Output**: None
- **See Also**: [`fd_reedsol_private_encode_64`](<fd_reedsol_encode_64.c.md#fd_reedsol_private_encode_64>)  (Implementation)


---
### fd\_reedsol\_private\_encode\_128<!-- {{#callable_declaration:fd_reedsol_private_encode_128}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L73>)

Generates parity shreds from data shreds using Reed-Solomon encoding.
- **Description**: Use this function to generate parity shreds from a given set of data shreds using Reed-Solomon encoding. This function requires that the number of data shreds does not exceed 128. It processes the data shreds and writes the resulting parity shreds into the provided parity shred buffers. Ensure that the parity shred buffers are large enough to hold the required number of parity shreds. This function does not return a value and assumes that the input pointers are valid and non-null.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive integer.
    - `data_shred`: A pointer to an array of pointers, each pointing to a data shred. The array must contain at least 'data_shred_cnt' valid pointers. Must not be null.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 128.
    - `parity_shred`: A pointer to an array of pointers, each pointing to a buffer where a parity shred will be written. The array must contain at least 'parity_shred_cnt' valid pointers. Must not be null.
    - `parity_shred_cnt`: The number of parity shreds to generate. Must be a non-negative integer.
- **Output**: None
- **See Also**: [`fd_reedsol_private_encode_128`](<fd_reedsol_encode_128.c.md#fd_reedsol_private_encode_128>)  (Implementation)


---
### fd\_reedsol\_private\_recover\_var\_16<!-- {{#callable_declaration:fd_reedsol_private_recover_var_16}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L123>)

Recovers missing data from Reed-Solomon encoded shreds.
- **Description**: Use this function to verify and recover missing data from a set of Reed-Solomon encoded shreds. It requires at least `data_shred_cnt` un-erased shreds among the first 16 shreds. The function processes both data and parity shreds, with parity shreds following data shreds in the input array. The `erased` array indicates which shreds are missing or corrupted. The function modifies the `shred` array to restore missing data. Ensure that the sum of `data_shred_cnt` and `parity_shred_cnt` does not exceed 134, as shreds beyond this index are ignored. Call this function when you need to recover data from a partially corrupted set of shreds.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive integer.
    - `shred`: An array of pointers to shreds. Each pointer must point to a buffer of size `shred_sz`. The array must contain at least `data_shred_cnt + parity_shred_cnt` elements.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 16.
    - `parity_shred_cnt`: The number of parity shreds. The sum of `data_shred_cnt` and `parity_shred_cnt` must not exceed 134.
    - `erased`: An array indicating the status of each shred. Each element must be 0 if the corresponding shred is valid or 1 if it is missing or corrupted. The array must have at least `data_shred_cnt + parity_shred_cnt` elements.
- **Output**: Returns `FD_REEDSOL_SUCCESS` if recovery is successful, `FD_REEDSOL_ERR_CORRUPT` if the shreds are inconsistent, or `FD_REEDSOL_ERR_PARTIAL` if there is insufficient data to recover the shreds.
- **See Also**: [`fd_reedsol_private_recover_var_16`](<fd_reedsol_recover_16.c.md#fd_reedsol_private_recover_var_16>)  (Implementation)


---
### fd\_reedsol\_private\_recover\_var\_32<!-- {{#callable_declaration:fd_reedsol_private_recover_var_32}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L130>)

Recovers missing data from Reed-Solomon encoded shreds.
- **Description**: Use this function to verify and recover missing data from a set of Reed-Solomon encoded shreds. It requires at least `data_shred_cnt` un-erased shreds among the first 32 shreds. The function processes both data and parity shreds, with parity shreds following data shreds in the input array. The `erased` array indicates which shreds are missing or corrupted. The function modifies the `shred` array to restore missing data. It returns a status code indicating success, partial recovery, or data corruption. Ensure that the sum of `data_shred_cnt` and `parity_shred_cnt` does not exceed 134.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive integer.
    - `shred`: An array of pointers to shreds. Each pointer must point to a buffer of size `shred_sz`. The function modifies this array to restore missing data.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 32.
    - `parity_shred_cnt`: The number of parity shreds. The sum of `data_shred_cnt` and `parity_shred_cnt` must not exceed 134.
    - `erased`: An array indicating the status of each shred. A value of 0 means the shred is valid, and 1 means it is missing or corrupted. The array must have at least `data_shred_cnt + parity_shred_cnt` elements.
- **Output**: Returns `FD_REEDSOL_SUCCESS` if recovery is successful, `FD_REEDSOL_ERR_CORRUPT` if the shreds are inconsistent, or `FD_REEDSOL_ERR_PARTIAL` if there is insufficient data to recover.
- **See Also**: [`fd_reedsol_private_recover_var_32`](<fd_reedsol_recover_32.c.md#fd_reedsol_private_recover_var_32>)  (Implementation)


---
### fd\_reedsol\_private\_recover\_var\_64<!-- {{#callable_declaration:fd_reedsol_private_recover_var_64}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L137>)

Recovers missing data from Reed-Solomon encoded shreds.
- **Description**: Use this function to verify and recover missing data from a set of Reed-Solomon encoded shreds. It requires at least `data_shred_cnt` un-erased shreds among the first `data_shred_cnt + parity_shred_cnt` shreds. The function modifies the `shred` array to fill in the missing data for shreds marked as erased. Ensure that the `erased` array correctly indicates which shreds are missing. The function returns an error if there are not enough un-erased shreds to perform recovery or if the shreds are inconsistent with a valid Reed-Solomon encoding.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive value.
    - `shred`: An array of pointers to shreds. Each pointer must point to a buffer of size `shred_sz`. The function modifies this array to recover missing data.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 64.
    - `parity_shred_cnt`: The number of parity shreds. The sum of `data_shred_cnt` and `parity_shred_cnt` must not exceed 134.
    - `erased`: An array indicating which shreds are erased. Each element must be 0 if the corresponding shred is valid or 1 if it is erased. The array must have at least `data_shred_cnt + parity_shred_cnt` elements.
- **Output**: Returns `FD_REEDSOL_SUCCESS` if recovery is successful, `FD_REEDSOL_ERR_CORRUPT` if the shreds are inconsistent, or `FD_REEDSOL_ERR_PARTIAL` if there are not enough un-erased shreds to recover the data.
- **See Also**: [`fd_reedsol_private_recover_var_64`](<fd_reedsol_recover_64.c.md#fd_reedsol_private_recover_var_64>)  (Implementation)


---
### fd\_reedsol\_private\_recover\_var\_128<!-- {{#callable_declaration:fd_reedsol_private_recover_var_128}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L144>)

Recovers missing data from Reed-Solomon encoded shreds.
- **Description**: Use this function to recover missing data from a set of Reed-Solomon encoded shreds. It requires at least `data_shred_cnt` un-erased shreds among the first `data_shred_cnt + parity_shred_cnt` shreds. The function checks the consistency of the shreds and recovers any missing data. If the number of un-erased shreds is insufficient, it returns an error. The function modifies the `shred` array in place, writing recovered data to positions marked as erased. Ensure that the `erased` array correctly indicates which shreds are missing before calling this function.
- **Inputs**:
    - `shred_sz`: The size of each shred in bytes. Must be a positive integer.
    - `shred`: An array of pointers to shreds. Each pointer must point to a buffer of at least `shred_sz` bytes. The array must contain at least `data_shred_cnt + parity_shred_cnt` elements.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 128.
    - `parity_shred_cnt`: The number of parity shreds. The sum of `data_shred_cnt` and `parity_shred_cnt` must not exceed 134.
    - `erased`: An array indicating which shreds are erased. Must have at least `data_shred_cnt + parity_shred_cnt` elements. Each element should be 0 if the corresponding shred is valid or 1 if it is erased.
- **Output**: Returns `FD_REEDSOL_SUCCESS` if recovery is successful, `FD_REEDSOL_ERR_CORRUPT` if the shreds are inconsistent, or `FD_REEDSOL_ERR_PARTIAL` if there are not enough un-erased shreds to recover the data.
- **See Also**: [`fd_reedsol_private_recover_var_128`](<fd_reedsol_recover_128.c.md#fd_reedsol_private_recover_var_128>)  (Implementation)


---
### fd\_reedsol\_private\_recover\_var\_256<!-- {{#callable_declaration:fd_reedsol_private_recover_var_256}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L151>)

Recovers missing data from Reed-Solomon encoded shreds.
- **Description**: Use this function to recover missing data from a set of Reed-Solomon encoded shreds. It requires at least `data_shred_cnt` un-erased shreds among the first `data_shred_cnt + parity_shred_cnt` shreds. The function modifies the `shred` array to fill in the missing data for shreds marked as erased. Ensure that the `erased` array correctly indicates which shreds are missing (1 for erased, 0 for present). The function returns an error if there is insufficient data to recover the original shreds or if the shreds are inconsistent with a valid Reed-Solomon encoding.
- **Inputs**:
    - `shred_sz`: Specifies the size of each shred in bytes. Must be a positive integer.
    - `shred`: An array of pointers to shreds. Each pointer must point to a buffer of size `shred_sz`. The function modifies this array to recover missing data.
    - `data_shred_cnt`: The number of data shreds. Must be less than or equal to 256.
    - `parity_shred_cnt`: The number of parity shreds. The sum of `data_shred_cnt` and `parity_shred_cnt` must not exceed 134.
    - `erased`: An array indicating which shreds are erased (1 for erased, 0 for present). Must have at least `data_shred_cnt + parity_shred_cnt` elements.
- **Output**: Returns `FD_REEDSOL_SUCCESS` on successful recovery, `FD_REEDSOL_ERR_CORRUPT` if the shreds are inconsistent, or `FD_REEDSOL_ERR_PARTIAL` if there is not enough data to recover the original shreds.
- **See Also**: [`fd_reedsol_private_recover_var_256`](<fd_reedsol_recover_256.c.md#fd_reedsol_private_recover_var_256>)  (Implementation)


---
### fd\_reedsol\_private\_gen\_pi\_16<!-- {{#callable_declaration:fd_reedsol_private_gen_pi_16}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L193>)

Generates Pi and 1/Pi' values for Reed-Solomon erasure codes.
- **Description**: Use this function to compute the Pi and 1/Pi' values for a set of elements in a Reed-Solomon erasure code. The function requires two arrays: `is_erased` and `output`, both of which must be aligned to 32 bytes and indexed from 0 to 15. The `is_erased` array indicates whether each element is erased (1) or not (0). The function writes the Pi value to `output[i]` if `is_erased[i]` is 0, and 1/Pi' if `is_erased[i]` is 1. Ensure that `is_erased` contains only 0s and 1s, as other values result in undefined behavior.
- **Inputs**:
    - `is_erased`: A pointer to an array of 16 bytes indicating erasure status for each element. Each byte must be 0 (not erased) or 1 (erased). The array must be aligned to 32 bytes.
    - `output`: A pointer to an array of 16 bytes where the function will store the computed Pi or 1/Pi' values. The array must be aligned to 32 bytes.
- **Output**: None
- **See Also**: [`fd_reedsol_private_gen_pi_16`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_16>)  (Implementation)


---
### fd\_reedsol\_private\_gen\_pi\_32<!-- {{#callable_declaration:fd_reedsol_private_gen_pi_32}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L194>)

Generates Pi and 1/Pi' values for Reed-Solomon erasure codes.
- **Description**: Use this function to compute the Pi and 1/Pi' values for a set of elements in Reed-Solomon erasure codes. It requires two arrays: one indicating which elements are erased and another to store the output. The function processes 32 elements, and both input and output arrays must be aligned to 32 bytes. The function assumes that the input array contains only 0s and 1s, where 0 indicates a non-erased element and 1 indicates an erased element. The output array will store the Pi value for non-erased elements and the 1/Pi' value for erased elements. Ensure that the input array does not contain values other than 0 or 1 to avoid undefined behavior.
- **Inputs**:
    - `is_erased`: A pointer to an array of 32 bytes indicating erased elements. Each byte must be 0 (not erased) or 1 (erased). The array must be aligned to 32 bytes.
    - `output`: A pointer to an array of 32 bytes where the function will store the computed Pi or 1/Pi' values. The array must be aligned to 32 bytes.
- **Output**: None
- **See Also**: [`fd_reedsol_private_gen_pi_32`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_32>)  (Implementation)


---
### fd\_reedsol\_private\_gen\_pi\_64<!-- {{#callable_declaration:fd_reedsol_private_gen_pi_64}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L195>)

Generates Pi and 1/Pi' for Reed-Solomon erasure codes.
- **Description**: Use this function to compute the Pi and 1/Pi' values for elements in Reed-Solomon erasure codes. It requires two arrays: `is_erased` and `output`, both aligned to 32 bytes and indexed from 0 to 64. The function calculates Pi for non-erased elements and 1/Pi' for erased elements, storing the results in the `output` array. Ensure that `is_erased` contains only 0s and 1s, as other values result in undefined behavior.
- **Inputs**:
    - `is_erased`: A pointer to an array of 64 bytes indicating erased (1) or non-erased (0) elements. Must be aligned to 32 bytes and contain only 0 or 1.
    - `output`: A pointer to an array of 64 bytes where the function stores the computed Pi or 1/Pi' values. Must be aligned to 32 bytes.
- **Output**: None
- **See Also**: [`fd_reedsol_private_gen_pi_64`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_64>)  (Implementation)


---
### fd\_reedsol\_private\_gen\_pi\_128<!-- {{#callable_declaration:fd_reedsol_private_gen_pi_128}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L196>)

Generates Pi and 1/Pi' values for Reed-Solomon erasure codes.
- **Description**: Use this function to compute the Pi and 1/Pi' values for elements in a Reed-Solomon erasure code. It requires two arrays: one indicating which elements are erased and another to store the output. The function processes 128 elements, and both input and output arrays must be aligned to 32 bytes. The function assumes that the input array contains only 0s and 1s, where 0 indicates a non-erased element and 1 indicates an erased element. The output array will store the Pi value for non-erased elements and the 1/Pi' value for erased elements. This function is part of a set that supports different element counts, and it is important to ensure the correct alignment and input values to avoid undefined behavior.
- **Inputs**:
    - `is_erased`: A pointer to an array of 128 unsigned characters, each representing whether the corresponding element is erased (1) or not (0). The array must be aligned to 32 bytes and contain only 0s and 1s.
    - `output`: A pointer to an array of 128 unsigned characters where the function will store the computed Pi or 1/Pi' values. The array must be aligned to 32 bytes.
- **Output**: None
- **See Also**: [`fd_reedsol_private_gen_pi_128`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_128>)  (Implementation)


---
### fd\_reedsol\_private\_gen\_pi\_256<!-- {{#callable_declaration:fd_reedsol_private_gen_pi_256}} -->
[View Source →](<../../../../../src/ballet/reedsol/fd_reedsol_private.h#L197>)

Generates Pi and 1/Pi' for Reed-Solomon erasure codes.
- **Description**: Use this function to compute the Pi and 1/Pi' values for elements in Reed-Solomon erasure codes. It requires two arrays: `is_erased` and `output`, both aligned to 32 bytes and indexed from 0 to 255. The function calculates Pi for non-erased elements and 1/Pi' for erased elements, storing the results in the `output` array. Ensure that `is_erased` contains only 0s and 1s, as other values result in undefined behavior.
- **Inputs**:
    - `is_erased`: A pointer to an array of 256 bytes indicating erased elements. Each byte must be 0 (not erased) or 1 (erased). The array must be 32-byte aligned.
    - `output`: A pointer to an array of 256 bytes where the function stores the computed Pi or 1/Pi' values. The array must be 32-byte aligned.
- **Output**: None
- **See Also**: [`fd_reedsol_private_gen_pi_256`](<fd_reedsol_pi.c.md#fd_reedsol_private_gen_pi_256>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)