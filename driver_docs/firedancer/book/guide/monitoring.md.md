<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Guide for monitoring the Frankendancer validator using Agave CLI, Prometheus metrics, and live tools.

# Purpose
This documentation provides instructions for monitoring the Frankendancer validator using various command-line tools and metrics. It explains how to use the Agave CLI to monitor the validator's status, including checking if it has joined gossip, is caught up, is voting, and is producing blocks. The document also describes how to access Prometheus-compatible metrics exposed by Firedancer at a configurable HTTP endpoint, typically on port `7999`. Additionally, it details the use of the `fdctl` tool for live monitoring of performance information on the same host as the validator. The document includes references to further configuration and API documentation for more detailed information.
# Content Summary
The provided content is a configuration and monitoring guide for a software system involving the Agave CLI and Firedancer. It outlines the steps and commands necessary for monitoring a validator using the Agave command line tools and Firedancer's monitoring capabilities.

### Agave CLI Monitoring
- **Building the CLI**: The `solana` CLI binary must be built using the command `make solana`. The compiled binary is placed in `./build/native/gcc/bin` by default.
- **RPC Requirement**: Many commands require RPC to be enabled on the validator. Users should refer to the configuration guide for enabling RPC.
- **Monitoring Commands**:
  - **Gossip**: Use `solana -ut gossip` to check if the validator has joined the gossip network.
  - **Catchup**: Use `solana -ut catchup --our-localhost` to verify if the validator is synchronized with the network.
  - **Validators**: Use `solana -ut validators` to ensure the validator is actively voting.
  - **Block Production**: Use `solana -ut block-production` to confirm the validator is producing blocks.
- **Agave Validator**: The `agave-validator --ledger <PATH> monitor` command can be used with Frankendancer, requiring the `agave-validator` binary from the `agave` repository.

### Metrics
- **Prometheus Metrics**: Firedancer exposes metrics compatible with Prometheus at an HTTP endpoint, defaulting to port `7999`. This port can be configured in a TOML file.
- **Metrics Access**: Metrics can be accessed using a command like `curl http://localhost:7999/metrics`. The metrics API documentation provides further details on available data.

### Live Monitoring
- **Firedancer Monitoring Tool**: Firedancer includes a monitoring tool within `fdctl`, which can be run on the same host as the validator to view performance metrics.
- **Command Usage**: The command `fdctl monitor --config ~/config.toml` provides a snapshot of various performance metrics, such as process IDs and resource usage percentages.
- **GUI Access**: Users can view the Firedancer GUI in a browser by enabling it through the configuration section.

This guide provides essential commands and configurations for developers to monitor and manage the validator effectively using the Agave CLI and Firedancer tools.

---
Made with ❤️ by [Driver](https://www.driver.ai/)