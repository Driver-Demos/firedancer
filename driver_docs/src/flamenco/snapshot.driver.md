
## Files
- **[fd_snapshot.c](snapshot/fd_snapshot.c.driver.md)**: The `fd_snapshot.c` file in the `firedancer` codebase provides functionality for loading, initializing, and verifying snapshots, including handling full and incremental snapshot types, managing accounts, and calculating hash values for verification.
- **[fd_snapshot.h](snapshot/fd_snapshot.h.driver.md)**: The `fd_snapshot.h` file provides high-level blocking APIs for loading and managing Solana snapshots, including functions for initializing, loading, and finalizing snapshot data, as well as generating hashes for account databases.
- **[fd_snapshot_base.c](snapshot/fd_snapshot_base.c.driver.md)**: The `fd_snapshot_base.c` file in the `firedancer` codebase provides functions for parsing and validating snapshot file names, including determining the type of snapshot and extracting relevant metadata.
- **[fd_snapshot_base.h](snapshot/fd_snapshot_base.h.driver.md)**: The `fd_snapshot_base.h` file in the `firedancer` codebase defines constants, structures, and function prototypes related to snapshot creation and management, including alignment specifications and snapshot type identifiers.
- **[fd_snapshot_create.c](snapshot/fd_snapshot_create.c.driver.md)**: The `fd_snapshot_create.c` file in the `firedancer` codebase implements the functionality to create a snapshot of the current state, including account data and metadata, for the Firedancer implementation of the Solana blockchain, with support for both full and incremental snapshots.
- **[fd_snapshot_create.h](snapshot/fd_snapshot_create.h.driver.md)**: The `fd_snapshot_create.h` file provides APIs for creating Agave-compatible snapshots from a slot execution context, including functions for managing snapshot data structures and generating compressed tarball outputs.
- **[fd_snapshot_help.txt](snapshot/fd_snapshot_help.txt.driver.md)**: The `fd_snapshot_help.txt` file provides usage instructions and command details for the `fd_snapshot` tool, which manages Solana state snapshots, including a work-in-progress command to parse snapshots.
- **[fd_snapshot_http.c](snapshot/fd_snapshot_http.c.driver.md)**: The `fd_snapshot_http.c` file in the `firedancer` codebase implements functionality for handling HTTP requests and responses to download and manage snapshot files over a network connection.
- **[fd_snapshot_http.h](snapshot/fd_snapshot_http.h.driver.md)**: The `fd_snapshot_http.h` file provides APIs for streaming the download of Solana snapshots via HTTP using non-blocking sockets, including state management and request handling.
- **[fd_snapshot_istream.c](snapshot/fd_snapshot_istream.c.driver.md)**: The `fd_snapshot_istream.c` file in the `firedancer` codebase implements input stream handling for Zstandard compressed data, file streams, and tar archive reading, providing functions for creating, deleting, and reading from these streams.
- **[fd_snapshot_istream.h](snapshot/fd_snapshot_istream.h.driver.md)**: The `fd_snapshot_istream.h` file defines an input stream API for handling streaming reads, including implementations for ZSTD and file-based streams, within the Firedancer codebase.
- **[fd_snapshot_loader.c](snapshot/fd_snapshot_loader.c.driver.md)**: The `fd_snapshot_loader.c` file in the `firedancer` codebase implements functionality for loading snapshots from either HTTP sources or file I/O, including initialization, deletion, and parsing of snapshot sources.
- **[fd_snapshot_loader.h](snapshot/fd_snapshot_loader.h.driver.md)**: The `fd_snapshot_loader.h` file provides APIs for constructing and managing a single-threaded streaming pipeline to load snapshots from the local file system or over HTTP, including methods for initializing, advancing, and parsing snapshot sources.
- **[fd_snapshot_main.c](snapshot/fd_snapshot_main.c.driver.md)**: The `fd_snapshot_main.c` file in the `firedancer` codebase implements the main functionality for handling snapshot operations, including loading, restoring, and dumping snapshot data, with support for command-line arguments and error handling.
- **[fd_snapshot_restore.c](snapshot/fd_snapshot_restore.c.driver.md)**: The `fd_snapshot_restore.c` file in the `firedancer` codebase implements functionality for restoring snapshots, including handling buffers, deserializing account headers, and managing the state machine for processing snapshot files.
- **[fd_snapshot_restore.h](snapshot/fd_snapshot_restore.h.driver.md)**: The `fd_snapshot_restore.h` file provides APIs for restoring execution contexts from snapshot files in the Firedancer project, including handling TAR archives and Zstandard compression, with support for callbacks to manage deserialized data.
- **[fd_snapshot_restore_private.h](snapshot/fd_snapshot_restore_private.h.driver.md)**: The `fd_snapshot_restore_private.h` file in the `firedancer` codebase defines structures and functions for managing memory allocation limits and restoring snapshots, including handling account vectors and manifest files.
- **[fuzz_snapshot_http.c](snapshot/fuzz_snapshot_http.c.driver.md)**: The `fuzz_snapshot_http.c` file in the `firedancer` codebase implements a fuzz testing framework for simulating server-side interactions of a snapshot downloader over an unnamed AF_UNIX socket pair.
- **[Local.mk](snapshot/Local.mk.driver.md)**: The `Local.mk` file in the `firedancer` codebase is a makefile that manages the inclusion of headers, object files, unit tests, and binary creation for the `flamenco` snapshot module, with conditional logic based on available features like `FD_HAS_INT128`, `FD_HAS_HOSTED`, and `FD_HAS_ZSTD`.
- **[README.md](snapshot/README.md.driver.md)**: The `README.md` file in the `firedancer/src/flamenco/snapshot` directory provides detailed information on handling Solana snapshots, including their file format, structure, and potential pitfalls during loading and restoration.
- **[test_snapshot_http.c](snapshot/test_snapshot_http.c.driver.md)**: The `test_snapshot_http.c` file contains a test for the HTTP snapshot functionality in the Firedancer project, verifying the construction and deletion of an HTTP request to download a snapshot file.
- **[test_snapshot_restore.c](snapshot/test_snapshot_restore.c.driver.md)**: The `test_snapshot_restore.c` file in the `firedancer` codebase contains a series of tests for the snapshot restore functionality, including validation of manifest and status cache handling, account restoration, and error conditions.
