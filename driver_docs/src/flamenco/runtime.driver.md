## Folders
- **[context](runtime/context.driver.md)**: The `context` folder in the `firedancer` codebase contains source and header files that define and implement various context management functionalities for capture, execution epochs, instructions, slots, and transactions, as well as a makefile for conditional compilation.
- **[info](runtime/info.driver.md)**: The `info` folder in the `firedancer` codebase contains source and header files that define and manage structures and functions related to transaction instructions, microblocks, and runtime block information, as well as a makefile for compiling these components.
- **[program](runtime/program.driver.md)**: The `program` folder in the `firedancer` codebase contains a diverse set of files and a subfolder, `zksdk`, which collectively implement and manage various runtime programs, including address lookup, BPF loader, compute budget, configuration, loader v4, native CPI, precompiles, stake, system, vote, and zero-knowledge proof programs, along with their associated utilities, headers, and build configurations.
- **[sysvar](runtime/sysvar.driver.md)**: The `sysvar` folder in the `firedancer` codebase contains a comprehensive set of source and header files for managing various system variables within the Flamenco runtime, including clock, epoch rewards, epoch schedule, instructions, last restart slot, recent hashes, rent, slot hashes, slot history, and stake history, along with associated test files and a makefile for build configuration.
- **[tests](runtime/tests.driver.md)**: The `tests` folder in the `firedancer` codebase contains a variety of scripts, configuration files, and a test harness for executing and managing tests related to the Firedancer runtime, including ledger backtests, nightly tests, and Solana conformance tests, with support for generating and handling Protocol Buffers.

## Files
- **[extract_traces.py](runtime/extract_traces.py.driver.md)**: The `extract_traces.py` file in the `firedancer` codebase is a script that reads and compares execution traces from Firedancer and Solana log files to find and report the best matching traces.
- **[fd_acc_mgr.c](runtime/fd_acc_mgr.c.driver.md)**: The `fd_acc_mgr.c` file in the `firedancer` codebase provides functions for managing account metadata, including retrieving read-only and mutable account metadata, handling errors, and ensuring data integrity through magic number checks.
- **[fd_acc_mgr.h](runtime/fd_acc_mgr.h.driver.md)**: The `fd_acc_mgr.h` file in the `firedancer` codebase provides APIs for managing Solana account databases, including functions for account metadata initialization, existence checks, and handling account access through a funk database.
- **[fd_bank_hash_cmp.c](runtime/fd_bank_hash_cmp.c.driver.md)**: The `fd_bank_hash_cmp.c` file in the `firedancer` codebase implements functions for managing and comparing bank hash entries, including operations for creating, joining, locking, inserting, and checking hash comparisons.
- **[fd_bank_hash_cmp.h](runtime/fd_bank_hash_cmp.h.driver.md)**: The `fd_bank_hash_cmp.h` file defines structures and functions for managing and comparing bank hash entries within the Firedancer runtime, including operations for locking, inserting, and checking hash matches.
- **[fd_blockstore.c](runtime/fd_blockstore.c.driver.md)**: The `fd_blockstore.c` file in the `firedancer` codebase implements a blockstore system for managing and manipulating blocks, shreds, and transactions within a shared memory workspace, including functions for creating, joining, leaving, deleting, and querying blockstore data.
- **[fd_blockstore.h](runtime/fd_blockstore.h.driver.md)**: The `fd_blockstore.h` file in the `firedancer` codebase defines a high-performance in-memory database for indexing and durably storing blocks, including various types and structures for managing block data, shreds, transactions, and metadata, along with APIs for blockstore operations and concurrency management.
- **[fd_blockstore_archive.c](runtime/fd_blockstore_archive.c.driver.md)**: The `fd_blockstore_archive.c` file in the `firedancer` codebase implements functions for managing and archiving blockstore data, including reading, writing, and verifying archival files with wraparound handling.
- **[fd_blockstore_archive.h](runtime/fd_blockstore_archive.h.driver.md)**: The `fd_blockstore_archive.h` file in the `firedancer` codebase defines structures and functions for archiving and restoring blocks and block map entries to and from disk, including serialization and verification processes.
- **[fd_blockstore_tool.c](runtime/fd_blockstore_tool.c.driver.md)**: The `fd_blockstore_tool.c` file in the `firedancer` codebase provides a command-line tool for aggregating and exporting data from a RocksDB database into CSV files, with options for processing microblock, batch, or information about shred payload sizes.
- **[fd_borrowed_account.c](runtime/fd_borrowed_account.c.driver.md)**: The `fd_borrowed_account.c` file in the `firedancer` codebase provides functions for managing borrowed accounts, including operations to mutate account data, set account ownership, adjust lamports, modify data length, and set executability, while ensuring compliance with various constraints and conditions.
- **[fd_borrowed_account.h](runtime/fd_borrowed_account.h.driver.md)**: The `fd_borrowed_account.h` file in the `firedancer` codebase provides an interface for managing borrowed Solana accounts, including functions for initialization, destruction, data access, and modification, while mirroring certain functionalities from the Agave library.
- **[fd_cost_tracker.c](runtime/fd_cost_tracker.c.driver.md)**: The `fd_cost_tracker.c` file in the `firedancer` codebase implements functions for calculating and tracking the costs associated with executing transactions, including signature, write lock, and data size costs, as well as managing cost limits and allocations for accounts.
- **[fd_cost_tracker.h](runtime/fd_cost_tracker.h.driver.md)**: The `fd_cost_tracker.h` file in the `firedancer` codebase provides definitions and functions for tracking and validating block cost limits during transaction replay, integrating logic from Agave's cost model and tracker.
- **[fd_executor.c](runtime/fd_executor.c.driver.md)**: The `fd_executor.c` file in the `firedancer` codebase implements various functions for executing and managing transactions, including account setup, transaction verification, fee calculation, and instruction execution within the Firedancer runtime environment.
- **[fd_executor.h](runtime/fd_executor.h.driver.md)**: The `fd_executor.h` file in the `firedancer` codebase defines functions and macros for executing and validating transactions within the Flamenco runtime, including handling compute units, account locks, and transaction verification.
- **[fd_executor_err.h](runtime/fd_executor_err.h.driver.md)**: The `fd_executor_err.h` file in the `firedancer` codebase defines various error types and codes related to instruction execution, system errors, and precompile errors for the runtime environment.
- **[fd_hashes.c](runtime/fd_hashes.c.driver.md)**: The `fd_hashes.c` file in the `firedancer` codebase implements various functions for computing and managing hashes related to accounts and transactions, including account delta hashes, epoch account hashes, and snapshot hashes, using cryptographic hash functions like SHA-256 and Blake3.
- **[fd_hashes.h](runtime/fd_hashes.h.driver.md)**: The `fd_hashes.h` file in the `firedancer` codebase defines structures and functions for managing and computing hashes related to account data, including tasks for gathering, updating, and verifying account hashes.
- **[fd_pubkey_utils.c](runtime/fd_pubkey_utils.c.driver.md)**: The `fd_pubkey_utils.c` file in the `firedancer` codebase provides functions for creating and deriving program-derived addresses (PDAs) using SHA-256 hashing and validation against the ed25519 curve.
- **[fd_pubkey_utils.h](runtime/fd_pubkey_utils.h.driver.md)**: The `fd_pubkey_utils.h` file in the `firedancer` codebase provides utility functions for creating and deriving program-derived addresses (PDAs) using public keys, including error handling and constraints on seed lengths.
- **[fd_rent_lists.h](runtime/fd_rent_lists.h.driver.md)**: The `fd_rent_lists.h` file provides APIs for managing rent partitions, which are sorted buckets containing the addresses of rent-paying accounts, in the `firedancer` codebase.
- **[fd_rocksdb.c](runtime/fd_rocksdb.c.driver.md)**: The `fd_rocksdb.c` file in the `firedancer` codebase provides functions for initializing, creating, destroying, and interacting with a RocksDB database, including operations for managing column families, iterating over database entries, and importing data into a blockstore or shredcap format.
- **[fd_rocksdb.h](runtime/fd_rocksdb.h.driver.md)**: The `fd_rocksdb.h` file in the `firedancer` codebase provides structures and functions for managing RocksDB interactions, including block data handling, transaction status queries, and database operations within the context of a blockstore.
- **[fd_runtime.c](runtime/fd_runtime.c.driver.md)**: The `fd_runtime.c` file in the `firedancer` codebase implements various runtime functionalities for the Firedancer project, including transaction processing, block execution, epoch management, and integration with the Solana blockchain, while also providing utilities for debugging and checkpointing.
- **[fd_runtime.h](runtime/fd_runtime.h.driver.md)**: The `fd_runtime.h` file in the `firedancer` codebase provides declarations and macros for managing runtime operations, transaction execution, and memory footprint calculations within the Flamenco runtime environment.
- **[fd_runtime_err.h](runtime/fd_runtime_err.h.driver.md)**: The `fd_runtime_err.h` file in the `firedancer` codebase defines a series of constants representing various runtime execution and transaction error codes.
- **[fd_runtime_init.c](runtime/fd_runtime_init.c.driver.md)**: The `fd_runtime_init.c` file in the `firedancer` codebase provides functions for saving, recovering, and deleting epoch and slot bank states, as well as restoring feature activation states from an accounts database.
- **[fd_runtime_init.h](runtime/fd_runtime_init.h.driver.md)**: The `fd_runtime_init.h` file provides APIs for backing up and restoring a Solana runtime environment, including functions for saving and recovering slot and epoch banks.
- **[fd_runtime_public.c](runtime/fd_runtime_public.c.driver.md)**: The `fd_runtime_public.c` file in the `firedancer` codebase provides functions for managing and interacting with a shared memory structure, including alignment, footprint calculation, initialization, and joining operations for `fd_runtime_public_t` objects.
- **[fd_runtime_public.h](runtime/fd_runtime_public.h.driver.md)**: The `fd_runtime_public.h` file in the `firedancer` codebase defines structures, constants, and functions for managing the public runtime state and execution flow in a multithreaded environment, including execution and writer state management, parallel execution callbacks, and message structures for various runtime operations.
- **[fd_rwseq_lock.h](runtime/fd_rwseq_lock.h.driver.md)**: The `fd_rwseq_lock.h` file defines a read-write sequence lock structure and associated functions for managing concurrent read and write operations in the `firedancer` codebase.
- **[fd_system_ids.c](runtime/fd_system_ids.c.driver.md)**: The `fd_system_ids.c` file in the `firedancer` codebase defines a series of public key constants for various Solana system variables and programs, and includes functions to check if a given public key is an active or pending reserved key, or a secp256r1 key.
- **[fd_system_ids.h](runtime/fd_system_ids.h.driver.md)**: The `fd_system_ids.h` file in the `firedancer` codebase defines a collection of external public key identifiers for various Solana system variables, programs, and features, along with functions to check if a public key is a reserved account key.
- **[fd_system_ids_pp.h](runtime/fd_system_ids_pp.h.driver.md)**: The `fd_system_ids_pp.h` file in the `firedancer` codebase defines a series of macros representing system and program identifiers as unsigned integer byte sequences for preprocessor-time use.
- **[fd_txn_account.c](runtime/fd_txn_account.c.driver.md)**: The `fd_txn_account.c` file in the `firedancer` codebase provides functions and structures for initializing, setting up, and managing transaction accounts, including handling both mutable and readonly states, within the Flamenco runtime environment.
- **[fd_txn_account.h](runtime/fd_txn_account.h.driver.md)**: The `fd_txn_account.h` file in the `firedancer` codebase defines the structure and functions for managing transaction accounts, including initialization, setup, and interaction with a database of accounts, within the Flamenco runtime.
- **[fd_txn_account_private.h](runtime/fd_txn_account_private.h.driver.md)**: The `fd_txn_account_private.h` file defines a structure for managing private state information of transaction accounts, including metadata, data, and record pointers, with borrowing semantics for single-threaded logic in the Firedancer codebase.
- **[fd_txn_account_vtable.h](runtime/fd_txn_account_vtable.h.driver.md)**: The `fd_txn_account_vtable.h` file in the `firedancer` codebase defines a virtual table structure for transaction account operations, including function pointers for getters, setters, attribute accessors, and permission mutators.
- **[fd_txncache.c](runtime/fd_txncache.c.driver.md)**: The `fd_txncache.c` file in the `firedancer` codebase implements a concurrent transaction cache system designed to manage and query transactions efficiently, with support for operations like insertion, querying, and snapshotting, while handling complexities such as fork-aware behavior and constipated states.
- **[fd_txncache.h](runtime/fd_txncache.h.driver.md)**: The `fd_txncache.h` file in the `firedancer` codebase defines a concurrent transaction cache system for efficiently storing, querying, and serializing transaction results, with support for operations like insertion, querying, and snapshotting, while managing memory and performance constraints.
- **[Local.mk](runtime/Local.mk.driver.md)**: The `Local.mk` file in the `firedancer` codebase specifies the inclusion of headers, object files, and unit tests for the `flamenco` runtime, with conditional logic based on the presence of certain features like `FD_HAS_INT128`, `FD_HAS_SECP256K1`, `FD_HAS_ATOMIC`, and `FD_HAS_ROCKSDB`.
- **[test_archive_block.c](runtime/test_archive_block.c.driver.md)**: The `test_archive_block.c` file contains unit tests for the `firedancer` codebase, specifically testing the functionality of block archiving and retrieval in a blockstore, including scenarios of exceeding capacity and verifying metadata integrity.
- **[test_blockstore.c](runtime/test_blockstore.c.driver.md)**: The `test_blockstore.c` file in the `firedancer` codebase tests the functionality of a blockstore by reading shreds from a file, inserting them into the blockstore, and replaying transactions from completed blocks.
- **[test_system_ids.c](runtime/test_system_ids.c.driver.md)**: The `test_system_ids.c` file in the `firedancer` codebase contains tests for verifying the correctness of public key decoding and classification functions related to Solana system IDs.
- **[test_txn_rw_conflicts.c](runtime/test_txn_rw_conflicts.c.driver.md)**: The `test_txn_rw_conflicts.c` file in the `firedancer` codebase contains unit tests for verifying read-write and write-write transaction conflicts, including scenarios with and without address lookup tables.
- **[test_txncache.c](runtime/test_txncache.c.driver.md)**: The `test_txncache.c` file in the `firedancer` codebase contains a series of tests for the transaction cache functionality, including initialization, insertion, querying, and concurrent operations.
