
## Files
- **[fd_wksp.h](wksp/fd_wksp.h.driver.md)**: The `fd_wksp.h` file in the `firedancer` codebase provides an API for creating and managing NUMA-aware and TLB-efficient workspaces, facilitating complex inter-thread and inter-process shared memory communication patterns.
- **[fd_wksp_admin.c](wksp/fd_wksp_admin.c.driver.md)**: The `fd_wksp_admin.c` file in the `firedancer` codebase provides functions for managing workspace memory, including locking, unlocking, creating, joining, leaving, deleting, verifying, rebuilding, and protecting memory regions.
- **[fd_wksp_checkpt_v1.c](wksp/fd_wksp_checkpt_v1.c.driver.md)**: The `fd_wksp_checkpt_v1.c` file in the `firedancer` codebase implements functions for creating a checkpoint of a workspace, including writing, preparing, publishing, and canceling operations, as well as handling errors and workspace corruption.
- **[fd_wksp_checkpt_v2.c](wksp/fd_wksp_checkpt_v2.c.driver.md)**: The `fd_wksp_checkpt_v2.c` file in the `firedancer` codebase implements a function to create a checkpoint of a workspace, organizing data into compressed frames and handling errors during the process.
- **[fd_wksp_ctl.c](wksp/fd_wksp_ctl.c.driver.md)**: The `fd_wksp_ctl.c` file in the `firedancer` codebase implements a command-line utility for managing and querying workspace allocations, including operations such as creating, deleting, allocating, and querying workspaces, as well as handling various workspace-related commands.
- **[fd_wksp_ctl_help](wksp/fd_wksp_ctl_help.driver.md)**: The `fd_wksp_ctl_help` file in the `firedancer` codebase provides detailed command-line usage instructions for managing workspaces, including creating, deleting, allocating, freeing, and checkpointing operations.
- **[fd_wksp_free_treap.c](wksp/fd_wksp_free_treap.c.driver.md)**: The `fd_wksp_free_treap.c` file in the `firedancer` codebase implements functions for managing a free treap data structure, including querying, inserting, and removing nodes within a workspace.
- **[fd_wksp_helper.c](wksp/fd_wksp_helper.c.driver.md)**: The `fd_wksp_helper.c` file in the `firedancer` codebase provides helper functions for managing shared memory workspaces, including creation, deletion, attachment, detachment, and memory allocation operations.
- **[fd_wksp_io.c](wksp/fd_wksp_io.c.driver.md)**: The `fd_wksp_io.c` file in the `firedancer` codebase provides functions for reading, previewing, checkpointing, restoring, and printing information about workspace checkpoints, supporting multiple styles and handling errors.
- **[fd_wksp_private.h](wksp/fd_wksp_private.h.driver.md)**: The `fd_wksp_private.h` file in the `firedancer` codebase defines the internal structures and functions for managing workspace partitions, including handling idle stacks, used and free treaps, and checkpointing/restoring operations.
- **[fd_wksp_restore_v1.c](wksp/fd_wksp_restore_v1.c.driver.md)**: The `fd_wksp_restore_v1.c` file in the `firedancer` codebase provides functions to restore workspace data from a checkpoint file, handling both the restoration of unsigned long integers and variable-length buffers, and includes error handling for I/O and format issues.
- **[fd_wksp_restore_v2.c](wksp/fd_wksp_restore_v2.c.driver.md)**: The `fd_wksp_restore_v2.c` file in the `firedancer` codebase implements functions for restoring workspace checkpoints, including handling headers, info, and footers, as well as managing memory-mapped and streaming input/output operations.
- **[fd_wksp_used_treap.c](wksp/fd_wksp_used_treap.c.driver.md)**: The `fd_wksp_used_treap.c` file in the `firedancer` codebase implements functions for querying, inserting, and removing nodes in a treap data structure used to manage workspace partitions.
- **[fd_wksp_user.c](wksp/fd_wksp_user.c.driver.md)**: The `fd_wksp_user.c` file in the `firedancer` codebase provides functions for managing workspace partitions, including splitting, merging, allocating, freeing, and querying memory partitions within a workspace.
- **[Local.mk](wksp/Local.mk.driver.md)**: The `Local.mk` file in the `firedancer` codebase specifies the headers, object files, binaries, and unit tests related to the workspace utilities, with conditional compilation and testing for hosted environments.
- **[test_wksp.c](wksp/test_wksp.c.driver.md)**: The `test_wksp.c` file in the `firedancer` codebase implements a torture test for same-thread memory allocation and deallocation using a workspace, including validation of memory usage and alignment.
- **[test_wksp_admin.c](wksp/test_wksp_admin.c.driver.md)**: The `test_wksp_admin.c` file in the `firedancer` codebase contains a suite of tests for workspace administration functions, including tests for footprint estimation, alignment, creation, joining, and error handling.
- **[test_wksp_ctl](wksp/test_wksp_ctl.driver.md)**: The `test_wksp_ctl` file is a Bash script that performs a series of tests on the `fd_wksp_ctl` utility, including operations like creating, allocating, tagging, and deleting workspaces, as well as testing various commands and error handling scenarios.
- **[test_wksp_free_treap.c](wksp/test_wksp_free_treap.c.driver.md)**: The `test_wksp_free_treap.c` file in the `firedancer` codebase is a test program for validating the functionality of workspace free treap operations, including partition creation, random treap operations, and integrity checks.
- **[test_wksp_helper.c](wksp/test_wksp_helper.c.driver.md)**: The `test_wksp_helper.c` file in the `firedancer` codebase contains a comprehensive set of tests for workspace management functions, including named and anonymous workspace creation, attachment, allocation, mapping, and deletion.
- **[test_wksp_tpool.c](wksp/test_wksp_tpool.c.driver.md)**: The `test_wksp_tpool.c` file in the `firedancer` codebase is a test program that verifies the functionality of a workspace allocation system using a thread pool, including operations such as allocation, initialization, checkpointing, zeroing, and restoration of memory regions.
- **[test_wksp_used_treap.c](wksp/test_wksp_used_treap.c.driver.md)**: The `test_wksp_used_treap.c` file in the `firedancer` codebase is a test program that performs various operations on a workspace treap, including querying, inserting, and removing partitions, while validating the integrity of these operations.
- **[test_wksp_user.c](wksp/test_wksp_user.c.driver.md)**: The `test_wksp_user.c` file in the `firedancer` codebase contains a comprehensive test suite for workspace management functions, including allocation, tagging, freeing, and memory setting operations, with various edge case tests and random operations to ensure robustness.
